<!DOCTYPE html><html lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Eli | CSC 461: Computer Graphics</title><link href=/styles.css rel=stylesheet><link href=/favicon-32.png rel=icon sizes=32x32><link href=/favicon-128.png rel=icon sizes=128x128><link href=/favicon-180.png rel=icon sizes=180x180><link href=/favicon-192.png rel=icon sizes=192x192><style id=MJX-CHTML-styles>mjx-container[jax=CHTML]{line-height:0}mjx-container [space="1"]{margin-left:.111em}mjx-container [space="2"]{margin-left:.167em}mjx-container [space="3"]{margin-left:.222em}mjx-container [space="4"]{margin-left:.278em}mjx-container [space="5"]{margin-left:.333em}mjx-container [rspace="1"]{margin-right:.111em}mjx-container [rspace="2"]{margin-right:.167em}mjx-container [rspace="3"]{margin-right:.222em}mjx-container [rspace="4"]{margin-right:.278em}mjx-container [rspace="5"]{margin-right:.333em}mjx-container [size="s"]{font-size:70.7%}mjx-container [size=ss]{font-size:50%}mjx-container [size=Tn]{font-size:60%}mjx-container [size=sm]{font-size:85%}mjx-container [size=lg]{font-size:120%}mjx-container [size=Lg]{font-size:144%}mjx-container [size=LG]{font-size:173%}mjx-container [size=hg]{font-size:207%}mjx-container [size=HG]{font-size:249%}mjx-container [width=full]{width:100%}mjx-box{display:inline-block}mjx-block{display:block}mjx-itable{display:inline-table}mjx-row{display:table-row}mjx-row>*{display:table-cell}mjx-mtext{display:inline-block;text-align:left}mjx-mstyle{display:inline-block}mjx-merror{display:inline-block;color:red;background-color:#ff0}mjx-mphantom{visibility:hidden}_::-webkit-full-page-media,_:future,:root mjx-container{will-change:opacity}mjx-assistive-mml{position:absolute!important;top:0;left:0;clip:rect(1px,1px,1px,1px);padding:1px 0 0 0!important;border:0!important;display:block!important;width:auto!important;overflow:hidden!important;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}mjx-assistive-mml[display=block]{width:100%!important}mjx-math{display:inline-block;text-align:left;line-height:0;text-indent:0;font-style:normal;font-weight:400;font-size:100%;font-size-adjust:none;letter-spacing:normal;border-collapse:collapse;word-wrap:normal;word-spacing:normal;white-space:nowrap;direction:ltr;padding:1px 0}mjx-container[jax=CHTML][display=true]{display:block;text-align:center;margin:1em 0}mjx-container[jax=CHTML][display=true][width=full]{display:flex}mjx-container[jax=CHTML][display=true] mjx-math{padding:0}mjx-container[jax=CHTML][justify=left]{text-align:left}mjx-container[jax=CHTML][justify=right]{text-align:right}mjx-mi{display:inline-block;text-align:left}mjx-c{display:inline-block}mjx-utext{display:inline-block;padding:.75em 0 .2em 0}mjx-mo{display:inline-block;text-align:left}mjx-stretchy-h{display:inline-table;width:100%}mjx-stretchy-h>*{display:table-cell;width:0}mjx-stretchy-h>*>mjx-c{display:inline-block;transform:scalex(1.0000001)}mjx-stretchy-h>*>mjx-c::before{display:inline-block;width:initial}mjx-stretchy-h>mjx-ext{overflow:hidden;overflow:clip visible;width:100%}mjx-stretchy-h>mjx-ext>mjx-c::before{transform:scalex(500)}mjx-stretchy-h>mjx-ext>mjx-c{width:0}mjx-stretchy-h>mjx-beg>mjx-c{margin-right:-.1em}mjx-stretchy-h>mjx-end>mjx-c{margin-left:-.1em}mjx-stretchy-v{display:inline-block}mjx-stretchy-v>*{display:block}mjx-stretchy-v>mjx-beg{height:0}mjx-stretchy-v>mjx-end>mjx-c{display:block}mjx-stretchy-v>*>mjx-c{transform:scaley(1.0000001);transform-origin:left center;overflow:hidden}mjx-stretchy-v>mjx-ext{display:block;height:100%;box-sizing:border-box;border:0 solid transparent;overflow:hidden;overflow:visible clip}mjx-stretchy-v>mjx-ext>mjx-c::before{width:initial;box-sizing:border-box}mjx-stretchy-v>mjx-ext>mjx-c{transform:scaleY(500) translateY(.075em);overflow:visible}mjx-mark{display:inline-block;height:0}mjx-msup{display:inline-block;text-align:left}mjx-mrow{display:inline-block;text-align:left}mjx-mfrac{display:inline-block;text-align:left}mjx-frac{display:inline-block;vertical-align:.17em;padding:0 .22em}mjx-frac[type="d"]{vertical-align:.04em}mjx-frac[delims]{padding:0 .1em}mjx-frac[atop]{padding:0 .12em}mjx-frac[atop][delims]{padding:0}mjx-dtable{display:inline-table;width:100%}mjx-dtable>*{font-size:2000%}mjx-dbox{display:block;font-size:5%}mjx-num{display:block;text-align:center}mjx-den{display:block;text-align:center}mjx-mfrac[bevelled]>mjx-num{display:inline-block}mjx-mfrac[bevelled]>mjx-den{display:inline-block}mjx-den[align=right],mjx-num[align=right]{text-align:right}mjx-den[align=left],mjx-num[align=left]{text-align:left}mjx-nstrut{display:inline-block;height:.054em;width:0;vertical-align:-.054em}mjx-nstrut[type="d"]{height:.217em;vertical-align:-.217em}mjx-dstrut{display:inline-block;height:.505em;width:0}mjx-dstrut[type="d"]{height:.726em}mjx-line{display:block;box-sizing:border-box;min-height:1px;height:.06em;border-top:.06em solid;margin:.06em -.1em;overflow:hidden}mjx-line[type="d"]{margin:.18em -.1em}mjx-mn{display:inline-block;text-align:left}mjx-msqrt{display:inline-block;text-align:left}mjx-root{display:inline-block;white-space:nowrap}mjx-surd{display:inline-block;vertical-align:top}mjx-sqrt{display:inline-block;padding-top:.07em}mjx-sqrt>mjx-box{border-top:.07em solid}mjx-sqrt.mjx-tall>mjx-box{padding-left:.3em;margin-left:-.3em}mjx-TeXAtom{display:inline-block;text-align:left}mjx-mover{display:inline-block;text-align:left}mjx-mover:not([limits=false]){padding-top:.1em}mjx-mover:not([limits=false])>*{display:block;text-align:left}mjx-msub{display:inline-block;text-align:left}mjx-mspace{display:inline-block;text-align:left}mjx-mtable{display:inline-block;text-align:center;vertical-align:.25em;position:relative;box-sizing:border-box;border-spacing:0;border-collapse:collapse}mjx-mstyle[size="s"] mjx-mtable{vertical-align:.354em}mjx-labels{position:absolute;left:0;top:0}mjx-table{display:inline-block;vertical-align:-.5ex;box-sizing:border-box}mjx-table>mjx-itable{vertical-align:middle;text-align:left;box-sizing:border-box}mjx-labels>mjx-itable{position:absolute;top:0}mjx-mtable[justify=left]{text-align:left}mjx-mtable[justify=right]{text-align:right}mjx-mtable[justify=left][side=left]{padding-right:0!important}mjx-mtable[justify=left][side=right]{padding-left:0!important}mjx-mtable[justify=right][side=left]{padding-right:0!important}mjx-mtable[justify=right][side=right]{padding-left:0!important}mjx-mtable[align]{vertical-align:baseline}mjx-mtable[align=top]>mjx-table{vertical-align:top}mjx-mtable[align=bottom]>mjx-table{vertical-align:bottom}mjx-mtable[side=right] mjx-labels{min-width:100%}mjx-mtr{display:table-row;text-align:left}mjx-mtr[rowalign=top]>mjx-mtd{vertical-align:top}mjx-mtr[rowalign=center]>mjx-mtd{vertical-align:middle}mjx-mtr[rowalign=bottom]>mjx-mtd{vertical-align:bottom}mjx-mtr[rowalign=baseline]>mjx-mtd{vertical-align:baseline}mjx-mtr[rowalign=axis]>mjx-mtd{vertical-align:.25em}mjx-mtd{display:table-cell;text-align:center;padding:.215em .4em}mjx-mtd:first-child{padding-left:0}mjx-mtd:last-child{padding-right:0}mjx-mtable>*>mjx-itable>:first-child>mjx-mtd{padding-top:0}mjx-mtable>*>mjx-itable>:last-child>mjx-mtd{padding-bottom:0}mjx-tstrut{display:inline-block;height:1em;vertical-align:-.25em}mjx-labels[align=left]>mjx-mtr>mjx-mtd{text-align:left}mjx-labels[align=right]>mjx-mtr>mjx-mtd{text-align:right}mjx-mtd[extra]{padding:0}mjx-mtd[rowalign=top]{vertical-align:top}mjx-mtd[rowalign=center]{vertical-align:middle}mjx-mtd[rowalign=bottom]{vertical-align:bottom}mjx-mtd[rowalign=baseline]{vertical-align:baseline}mjx-mtd[rowalign=axis]{vertical-align:.25em}mjx-c::before{display:block;width:0}.MJX-TEX{font-family:MJXZERO,MJXTEX}.TEX-B{font-family:MJXZERO,MJXTEX-B}.TEX-I{font-family:MJXZERO,MJXTEX-I}.TEX-MI{font-family:MJXZERO,MJXTEX-MI}.TEX-BI{font-family:MJXZERO,MJXTEX-BI}.TEX-S1{font-family:MJXZERO,MJXTEX-S1}.TEX-S2{font-family:MJXZERO,MJXTEX-S2}.TEX-S3{font-family:MJXZERO,MJXTEX-S3}.TEX-S4{font-family:MJXZERO,MJXTEX-S4}.TEX-A{font-family:MJXZERO,MJXTEX-A}.TEX-C{font-family:MJXZERO,MJXTEX-C}.TEX-CB{font-family:MJXZERO,MJXTEX-CB}.TEX-FR{font-family:MJXZERO,MJXTEX-FR}.TEX-FRB{font-family:MJXZERO,MJXTEX-FRB}.TEX-SS{font-family:MJXZERO,MJXTEX-SS}.TEX-SSB{font-family:MJXZERO,MJXTEX-SSB}.TEX-SSI{font-family:MJXZERO,MJXTEX-SSI}.TEX-SC{font-family:MJXZERO,MJXTEX-SC}.TEX-T{font-family:MJXZERO,MJXTEX-T}.TEX-V{font-family:MJXZERO,MJXTEX-V}.TEX-VB{font-family:MJXZERO,MJXTEX-VB}mjx-stretchy-h mjx-c,mjx-stretchy-v mjx-c{font-family:MJXZERO,MJXTEX-S1,MJXTEX-S4,MJXTEX,MJXTEX-A!important}@font-face{font-family:MJXZERO;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Zero.woff) format("woff")}@font-face{font-family:MJXTEX;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff) format("woff")}@font-face{font-family:MJXTEX-B;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Bold.woff) format("woff")}@font-face{font-family:MJXTEX-I;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff) format("woff")}@font-face{font-family:MJXTEX-MI;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Italic.woff) format("woff")}@font-face{font-family:MJXTEX-BI;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Math-BoldItalic.woff) format("woff")}@font-face{font-family:MJXTEX-S1;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff) format("woff")}@font-face{font-family:MJXTEX-S2;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size2-Regular.woff) format("woff")}@font-face{font-family:MJXTEX-S3;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size3-Regular.woff) format("woff")}@font-face{font-family:MJXTEX-S4;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size4-Regular.woff) format("woff")}@font-face{font-family:MJXTEX-A;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_AMS-Regular.woff) format("woff")}@font-face{font-family:MJXTEX-C;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Regular.woff) format("woff")}@font-face{font-family:MJXTEX-CB;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Bold.woff) format("woff")}@font-face{font-family:MJXTEX-FR;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Fraktur-Regular.woff) format("woff")}@font-face{font-family:MJXTEX-FRB;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Fraktur-Bold.woff) format("woff")}@font-face{font-family:MJXTEX-SS;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Regular.woff) format("woff")}@font-face{font-family:MJXTEX-SSB;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Bold.woff) format("woff")}@font-face{font-family:MJXTEX-SSI;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Italic.woff) format("woff")}@font-face{font-family:MJXTEX-SC;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Script-Regular.woff) format("woff")}@font-face{font-family:MJXTEX-T;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Typewriter-Regular.woff) format("woff")}@font-face{font-family:MJXTEX-V;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Vector-Regular.woff) format("woff")}@font-face{font-family:MJXTEX-VB;src:url(https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Vector-Bold.woff) format("woff")}mjx-stretchy-v.mjx-c7C mjx-ext mjx-c::before{content:"\2223";width:.333em}mjx-stretchy-v.mjx-c5B mjx-beg mjx-c::before{content:"\23A1";padding:1.154em .667em .645em 0}mjx-stretchy-v.mjx-c5B mjx-ext mjx-c::before{content:"\23A2";width:.667em}mjx-stretchy-v.mjx-c5B mjx-end mjx-c::before{content:"\23A3";padding:1.155em .667em .644em 0}mjx-stretchy-v.mjx-c5B>mjx-end{margin-top:-1.799em}mjx-stretchy-v.mjx-c5B>mjx-ext{border-top-width:1.769em;border-bottom-width:1.769em}mjx-stretchy-v.mjx-c5D mjx-beg mjx-c::before{content:"\23A4";padding:1.154em .667em .645em 0}mjx-stretchy-v.mjx-c5D mjx-ext mjx-c::before{content:"\23A5";width:.667em}mjx-stretchy-v.mjx-c5D mjx-end mjx-c::before{content:"\23A6";padding:1.155em .667em .644em 0}mjx-stretchy-v.mjx-c5D>mjx-end{margin-top:-1.799em}mjx-stretchy-v.mjx-c5D>mjx-ext{border-top-width:1.769em;border-bottom-width:1.769em}mjx-c.mjx-c1D438.TEX-I::before{padding:.68em .764em 0 0;content:"E"}mjx-c.mjx-c1D448.TEX-I::before{padding:.683em .767em .022em 0;content:"U"}mjx-c.mjx-c1D43F.TEX-I::before{padding:.683em .681em 0 0;content:"L"}mjx-c.mjx-c1D445.TEX-I::before{padding:.683em .759em .021em 0;content:"R"}mjx-c.mjx-c1D443.TEX-I::before{padding:.683em .751em 0 0;content:"P"}mjx-c.mjx-c1D465.TEX-I::before{padding:.442em .572em .011em 0;content:"x"}mjx-c.mjx-c1D466.TEX-I::before{padding:.442em .49em .205em 0;content:"y"}mjx-c.mjx-c1D461.TEX-I::before{padding:.626em .361em .011em 0;content:"t"}mjx-c.mjx-c28::before{padding:.75em .389em .25em 0;content:"("}mjx-c.mjx-c29::before{padding:.75em .389em .25em 0;content:")"}mjx-c.mjx-c3D::before{padding:.583em .778em .082em 0;content:"="}mjx-c.mjx-c2B::before{padding:.583em .778em .082em 0;content:"+"}mjx-c.mjx-c2212::before{padding:.583em .778em .082em 0;content:"\2212"}mjx-c.mjx-c1D437.TEX-I::before{padding:.683em .828em 0 0;content:"D"}mjx-c.mjx-c1D446.TEX-I::before{padding:.705em .645em .022em 0;content:"S"}mjx-c.mjx-c1D436.TEX-I::before{padding:.705em .76em .022em 0;content:"C"}mjx-c.mjx-c1D434.TEX-I::before{padding:.716em .75em 0 0;content:"A"}mjx-c.mjx-c32::before{padding:.666em .5em 0 0;content:"2"}mjx-c.mjx-c31::before{padding:.666em .5em 0 0;content:"1"}mjx-c.mjx-c2E::before{padding:.12em .278em 0 0;content:"."}mjx-c.mjx-c1D44E.TEX-I::before{padding:.441em .529em .01em 0;content:"a"}mjx-c.mjx-c1D44F.TEX-I::before{padding:.694em .429em .011em 0;content:"b"}mjx-c.mjx-c1D450.TEX-I::before{padding:.442em .433em .011em 0;content:"c"}mjx-c.mjx-c30::before{padding:.666em .5em .022em 0;content:"0"}mjx-c.mjx-c2C::before{padding:.121em .278em .194em 0;content:","}mjx-c.mjx-c28.TEX-S3::before{padding:1.45em .736em .949em 0;content:"("}mjx-c.mjx-c22C5::before{padding:.31em .278em 0 0;content:"\22C5"}mjx-c.mjx-c29.TEX-S3::before{padding:1.45em .736em .949em 0;content:")"}mjx-c.mjx-cB1::before{padding:.666em .778em 0 0;content:"\B1"}mjx-c.mjx-c221A::before{padding:.8em .853em .2em 0;content:"\221A"}mjx-c.mjx-c34::before{padding:.677em .5em 0 0;content:"4"}mjx-c.mjx-c1D435.TEX-I::before{padding:.683em .759em 0 0;content:"B"}mjx-c.mjx-c1D43C.TEX-I::before{padding:.683em .504em 0 0;content:"I"}mjx-c.mjx-c1D441.TEX-I::before{padding:.683em .888em 0 0;content:"N"}mjx-c.mjx-c20D7.TEX-V::before{padding:.714em .5em 0 0;content:"\2192"}mjx-c.mjx-cD7::before{padding:.491em .778em 0 0;content:"\D7"}mjx-c.mjx-c1D467.TEX-I::before{padding:.442em .465em .011em 0;content:"z"}mjx-c.mjx-c1D451.TEX-I::before{padding:.694em .52em .01em 0;content:"d"}mjx-c.mjx-c1D447.TEX-I::before{padding:.677em .704em 0 0;content:"T"}mjx-c.mjx-c73::before{padding:.448em .394em .011em 0;content:"s"}mjx-c.mjx-c69::before{padding:.669em .278em 0 0;content:"i"}mjx-c.mjx-c67::before{padding:.453em .5em .206em 0;content:"g"}mjx-c.mjx-c6E::before{padding:.442em .556em 0 0;content:"n"}mjx-c.mjx-c1D449.TEX-I::before{padding:.683em .769em .022em 0;content:"V"}mjx-c.mjx-c1D456.TEX-I::before{padding:.661em .345em .011em 0;content:"i"}mjx-c.mjx-c1D45D.TEX-I::before{padding:.442em .503em .194em 0;content:"p"}mjx-c.mjx-c1D45B.TEX-I::before{padding:.442em .6em .011em 0;content:"n"}mjx-c.mjx-c1D43B.TEX-I::before{padding:.683em .888em 0 0;content:"H"}mjx-c.mjx-c61::before{padding:.448em .5em .011em 0;content:"a"}mjx-c.mjx-c6D::before{padding:.442em .833em 0 0;content:"m"}mjx-c.mjx-c62::before{padding:.694em .556em .011em 0;content:"b"}mjx-c.mjx-c65::before{padding:.448em .444em .011em 0;content:"e"}mjx-c.mjx-c74::before{padding:.615em .389em .01em 0;content:"t"}mjx-c.mjx-c64::before{padding:.694em .556em .011em 0;content:"d"}mjx-c.mjx-c66::before{padding:.705em .372em 0 0;content:"f"}mjx-c.mjx-c75::before{padding:.442em .556em .011em 0;content:"u"}mjx-c.mjx-c70::before{padding:.442em .556em .194em 0;content:"p"}mjx-c.mjx-c63::before{padding:.448em .444em .011em 0;content:"c"}mjx-c.mjx-c6C::before{padding:.694em .278em 0 0;content:"l"}mjx-c.mjx-c72::before{padding:.442em .392em 0 0;content:"r"}mjx-c.mjx-c1D43E.TEX-I::before{padding:.683em .889em 0 0;content:"K"}mjx-c.mjx-c78::before{padding:.431em .528em 0 0;content:"x"}mjx-c.mjx-c1D460.TEX-I::before{padding:.442em .469em .01em 0;content:"s"}mjx-c.mjx-c210E.TEX-I::before{padding:.694em .576em .011em 0;content:"h"}mjx-c.mjx-c6F::before{padding:.448em .5em .01em 0;content:"o"}mjx-c.mjx-c1D440.TEX-I::before{padding:.683em 1.051em 0 0;content:"M"}mjx-c.mjx-c5B::before{padding:.75em .278em .25em 0;content:"["}mjx-c.mjx-c2F::before{padding:.75em .5em .25em 0;content:"/"}mjx-c.mjx-c1D464.TEX-I::before{padding:.443em .716em .011em 0;content:"w"}mjx-c.mjx-c5D::before{padding:.75em .278em .25em 0;content:"]"}mjx-c.mjx-c211D.TEX-A::before{padding:.683em .722em 0 0;content:"R"}mjx-c.mjx-c1D45C.TEX-I::before{padding:.441em .485em .011em 0;content:"o"}mjx-c.mjx-c22EE::before{padding:1.3em .278em .03em 0;content:"\22EE"}mjx-c.mjx-c27FA::before{padding:.525em 1.858em .024em 0;content:"\27FA"}mjx-c.mjx-c1D44B.TEX-I::before{padding:.683em .852em 0 0;content:"X"}mjx-c.mjx-c1D44C.TEX-I::before{padding:.683em .763em 0 0;content:"Y"}mjx-c.mjx-c1D44D.TEX-I::before{padding:.683em .723em 0 0;content:"Z"}mjx-c.mjx-c2061::before{padding:0;content:""}mjx-c.mjx-c1D703.TEX-I::before{padding:.705em .469em .01em 0;content:"\3B8"}mjx-c.mjx-c2032::before{padding:.56em .275em 0 0;content:"\2032"}mjx-c.mjx-c68::before{padding:.694em .556em 0 0;content:"h"}mjx-c.mjx-c6A::before{padding:.669em .306em .205em 0;content:"j"}mjx-c.mjx-c1D462.TEX-I::before{padding:.442em .572em .011em 0;content:"u"}mjx-c.mjx-c1D463.TEX-I::before{padding:.443em .485em .011em 0;content:"v"}mjx-c.mjx-c36::before{padding:.666em .5em .022em 0;content:"6"}mjx-c.mjx-c33::before{padding:.665em .5em .022em 0;content:"3"}mjx-c.mjx-c1D442.TEX-I::before{padding:.704em .763em .022em 0;content:"O"}mjx-c.mjx-c35::before{padding:.666em .5em .022em 0;content:"5"}mjx-c.mjx-c1D45A.TEX-I::before{padding:.442em .878em .011em 0;content:"m"}mjx-c.mjx-c1D6FC.TEX-I::before{padding:.442em .64em .011em 0;content:"\3B1"}mjx-c.mjx-c1D45F.TEX-I::before{padding:.442em .451em .011em 0;content:"r"}mjx-c.mjx-c1D454.TEX-I::before{padding:.442em .477em .205em 0;content:"g"}</style><nav><h2><a href=/ >e l i</a></h2><ul><li><a href=/blog/ >blog</a><li><a href=/projects/ >projects</a><li><a href=/notes/ >notes</a></ul></nav><article><header><h1 class=title>CSC 461: Computer Graphics</h1><p>Instructor: Dr. Ben Watson | Semester: Fall 2021<p><h3>Table of Contents</h3><ul><li><a href=#administrivia>Administrivia</a><li><a href=#history>History</a><li><a href=#ray-casting-tracing>Ray Casting/Tracing</a><li><a href=#rasterization>Rasterization</a><li><a href=#opengl-webgl>OpenGL/WebGL</a><li><a href=#3d-models>3D Models</a><li><a href=#transforms>Transforms</a><li><a href=#projections>Projections</a><li><a href=#hardware-the-graphics-pipeline>Hardware & The Graphics Pipeline</a><li><a href=#shading>Shading</a><li><a href=#texturing-texture-mapping>Texturing / Texture Mapping</a><li><a href=#hidden-surface-removal>Hidden Surface Removal</a><li><a href=#displays>Displays</a><li><a href=#images>Images</a></ul></header><h1 id=administrivia><a href=#administrivia aria-label="anchor link for administrivia">#</a> Administrivia</h1><ul><li>Primarily using WebGL via JavaScript.<li>Website: <a href=https://cgclass.csc.ncsu.edu/ >https://cgclass.csc.ncsu.edu/</a></ul><h1 id=history><a href=#history aria-label="anchor link for history">#</a> History</h1><ul><li>Brunelleschi (1425): First to invent/define linear perspective.<li>Issac Newton (~1675): Discovered white light is a combo of light of all colors. Created color wheel.<li>Thomas Young, Herman von Helmholtz, James Maxwell (1800s): Improved color theory and created first color photograph/display.<li>Ewald Hering (1800s): Theorized that human vision perception resulted in Newton's color wheel and opposing colors.<li>Leo Horwich & Dorothea Jameson (1950s): Found evidence for Haring's theory in the brain.<li>Pierre Bézier (1950s): Found an elegant mathematical way to describe arbitrary curves.<li>Jack Bresenham (1960s): Efficiently solved problem of representing sloped lines on rasterized 2D displays. That is, he used only integer addition and subtraction.<li>David Evans: Founded computer science department at University of Utah and hired Ivan Sutherland. Created early rasterization pipeline.<li>Ivan Sutherland (1960s): Developed first drawing program while grad student at MIT. Had undo and rubber-banding. Developed first head-mounted (augmented reality) display. Made famous computer graphics lab and University of Utah.<ul><li>Many of the people below were in Sutherland's lab!</ul><li>Henri Gouraud (1960s): Invented method of shading (Gouraud Shading) to make polygonal models appear smoother.<li>Ed Catmull (1900s): Invented z-buffering, texture mapping (to polygons), and new kind of surface.<li>Bui Tong Phong: Improved upon Gouraud shading by tweaking the algorithm to run on every pixel (now called Phong Shading). This was not feasible for high-performance use cases until recently.<li>Jim Blinn: Improved Phong shading (now called Blinn-Phong shading). Developed bump mapping and environment mapping.<li>Turner Whitted: NCSU student! Invented/improved ray tracing/casting, including handling of shadows, reflection, and refraction.<li>Jim Clarke (1980s): Developed methods of describing surface patches. Founded silicon graphics (hardware graphics company) and co-founded Netscape.</ul><p>The Utah teapot is a teapot that was modeled by Martin Newell. It was the first realistic, somewhat complex model to see widespread use for testing objects. It's good because it casts shadows on itself, is immediately recognizable, and it doesn't need to be textured to look good. However, it's also not so complex as to be difficult to render or massive in size. It also got squished at some point!<h1 id=ray-casting-tracing><a href=#ray-casting-tracing aria-label="anchor link for ray-casting-tracing">#</a> Ray Casting/Tracing</h1><h2 id=history-1><a href=#history-1 aria-label="anchor link for history-1">##</a> History</h2><p>Arthur Apple invented ray casting in 1968, that is following the light backwards by moving rays from the camera to other places.<p>A <strong>camera obscura</strong>, also known as a pinhole camera, is camera formed by allowing light to enter through a small pinhole in the surface. This requires there to be a large difference in brightness from the inside of the camera to the outside. Pinhole cameras are theorized to have first come up from pinhole cameras being naturally formed by tree foliage.<h2 id=terms><a href=#terms aria-label="anchor link for terms">##</a> Terms</h2><p>Here are some terms for camera movement:<ul><li>Dolly: Move forward/backward<li>Pedestal: Move up/down.<li>Truck: Move left/right.<li>Pitch: Look up/down.<li>Pan: Look left/right.<li>Roll: Rotate left/right.</ul><p><strong>Ray casting</strong> is a way of creating images from a specific perspective in a scene.<p>Any camera has the following properties:<ul><li>Position: Point in 3D space where the camera sits.<li>Look-at Vector: Vector which points in the direction where the camera is looking. This defines pitch and pan.<li>Look-up Vector: Vector which points directly up relative to the camera. This defines roll.<li>Field of View (FOV): Number of degrees by which the sight vectors can deviate from the look-at vector. There can be a vertical and a horizontal FOV which changes the aspect ratio and corresponding camera's frustum.<li>Aspect Ratio (W:H): Ratio of the width of the viewable area to the height.</ul><p>The camera's goal is determine what each pixel should be on the <strong>viewport</strong>. The viewport is a fictional surface some short distance away from the camera that fits within the frustum. This viewport has pixels and to fill in those pixels we cast rays from the camera to the pixel. Using those rays we fill in the color of the pixel.<p>We often have a <strong>near-clip plane</strong> which is some distance away from the camera before we starting casting rays and a <strong>far-clip plane</strong> which is where we stop casting rays (almost like they've hit fog). Inside these two planes we have a <strong>frustum</strong> which is like a 3D trapezoid.<p>Simple ray casters only don't deal with illumination because they only cast a single <strong>ray</strong> and don't consider how it may bounce off the surface. That is, they hit the surface and register that point.<p>For that you'd have to do <strong>ray tracing</strong>. Ray tracing logically continues the ray by allowing it to bounce off surfaces and only stop if it either goes too far or hits a light source. It further considers how the surfaces would impact the color or quality of the light. That is if you hit a white surface and then bounce off and hit a green light, the pixel will appear slightly green. This enables high quality shadows, reflection, and refraction.<p>A <strong>Cornell box</strong> is a standard test scene for computer graphics. You have a block with two different color walls on the left and right, a white background wall and ceiling, a ceiling with a hole in it to let light thru, and a colored object filling up most of the scene. This is particularly useful to test <strong>color bleeding</strong>, where colors reflect onto nearby objects and seem to "bleed" onto them.<h2 id=math><a href=#math aria-label="anchor link for math">##</a> Math</h2><p>When doing ray casting, you need to know what objects you're dealing with so you can do the correct math.<p>Often when doing computer graphics, we want to do <strong>bilinear interpolation</strong> (bi-lerp). That is, suppose you have a rectangle with some important properties at each corner (UL, UR, LL, LR). Bilinear interpolation gives you a way to calculate/interpolate the value of those properties at any point within the rectangle.<pre class="language-py z-code" data-lang=py><code class=language-py data-lang=py><span class="z-python z-source"><span class="z-python z-meta z-function"><span class="z-python z-function z-storage z-type"><span class="z-python z-keyword z-declaration z-function">def</span></span> <span class="z-python z-function z-entity z-name"><span class="z-python z-meta z-generic-name">bilerp</span></span></span><span class="z-python z-meta z-function z-parameters"><span class="z-python z-punctuation z-section z-begin z-parameters">(</span></span><span class="z-python z-meta z-function z-parameters"><span class="z-python z-variable z-parameter">x</span><span class="z-python z-punctuation z-parameters z-separator">,</span> <span class="z-python z-variable z-parameter">y</span><span class="z-python z-punctuation z-section z-end z-parameters">)</span></span><span class="z-python z-meta z-function"><span class="z-python z-punctuation z-section z-begin z-function">:</span></span>
    <span class="z-python z-comment z-line z-number-sign"><span class="z-python z-punctuation z-comment z-definition">#</span> This assumes x and y are normalized from 0 to 1
</span>    <span class="z-python z-meta z-qualified-name"><span class="z-python z-meta z-generic-name">above</span></span> <span class="z-python z-keyword z-operator z-assignment">=</span> <span class="z-python z-meta z-qualified-name"><span class="z-python z-meta z-generic-name">x</span></span><span class="z-python z-keyword z-operator z-arithmetic">*</span><span class="z-python z-meta z-qualified-name"><span class="z-python z-constant z-other z-variable">UL</span></span> <span class="z-python z-keyword z-operator z-arithmetic">+</span> <span class="z-python z-meta z-group"><span class="z-python z-punctuation z-section z-group z-begin">(</span><span class="z-python z-constant z-decimal z-integer z-numeric">1</span><span class="z-python z-keyword z-operator z-arithmetic">-</span><span class="z-python z-meta z-qualified-name"><span class="z-python z-meta z-generic-name">x</span></span><span class="z-python z-punctuation z-section z-group z-end">)</span></span><span class="z-python z-keyword z-operator z-arithmetic">*</span><span class="z-python z-meta z-qualified-name"><span class="z-python z-constant z-other z-variable">UR</span></span>
    <span class="z-python z-meta z-qualified-name"><span class="z-python z-meta z-generic-name">below</span></span> <span class="z-python z-keyword z-operator z-assignment">=</span> <span class="z-python z-meta z-qualified-name"><span class="z-python z-meta z-generic-name">x</span></span><span class="z-python z-keyword z-operator z-arithmetic">*</span><span class="z-python z-meta z-qualified-name"><span class="z-python z-constant z-other z-variable">LL</span></span> <span class="z-python z-keyword z-operator z-arithmetic">+</span> <span class="z-python z-meta z-group"><span class="z-python z-punctuation z-section z-group z-begin">(</span><span class="z-python z-constant z-decimal z-integer z-numeric">1</span><span class="z-python z-keyword z-operator z-arithmetic">-</span><span class="z-python z-meta z-qualified-name"><span class="z-python z-meta z-generic-name">x</span></span><span class="z-python z-punctuation z-section z-group z-end">)</span></span><span class="z-python z-keyword z-operator z-arithmetic">*</span><span class="z-python z-meta z-qualified-name"><span class="z-python z-constant z-other z-variable">LR</span></span>
    <span class="z-python z-keyword z-control z-flow z-return">return</span> <span class="z-python z-meta z-qualified-name"><span class="z-python z-meta z-generic-name">y</span></span><span class="z-python z-keyword z-operator z-arithmetic">*</span><span class="z-python z-meta z-qualified-name"><span class="z-python z-meta z-generic-name">above</span></span> <span class="z-python z-keyword z-operator z-arithmetic">+</span> <span class="z-python z-meta z-group"><span class="z-python z-punctuation z-section z-group z-begin">(</span><span class="z-python z-constant z-decimal z-integer z-numeric">1</span><span class="z-python z-keyword z-operator z-arithmetic">-</span><span class="z-python z-meta z-qualified-name"><span class="z-python z-meta z-generic-name">y</span></span><span class="z-python z-punctuation z-section z-group z-end">)</span></span><span class="z-python z-keyword z-operator z-arithmetic">*</span><span class="z-python z-meta z-qualified-name"><span class="z-python z-constant z-other z-variable">LR</span></span>
</span></code></pre><h3 id=finding-ray><a href=#finding-ray aria-label="anchor link for finding-ray">###</a> Finding Ray</h3><p>To find the ray for a specific pixel, we need the location of the eye <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D438"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>E</mi></math></mjx-assistive-mml></mjx-container> and the projection window coordinates <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D448"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>U</mi><mi>L</mi></math></mjx-assistive-mml></mjx-container>, <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D448"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>U</mi><mi>R</mi></math></mjx-assistive-mml></mjx-container>, <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>L</mi><mi>L</mi></math></mjx-assistive-mml></mjx-container>, and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>L</mi><mi>R</mi></math></mjx-assistive-mml></mjx-container>. (These stand for upper-left, upper-right, lower-left, and lower-right respectively.)<p>To find the coordinates of the pixel <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D443"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>P</mi></math></mjx-assistive-mml></mjx-container>, you do bilinear interpolation of the coordinates of <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D448"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>U</mi><mi>L</mi></math></mjx-assistive-mml></mjx-container>, <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D448"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>U</mi><mi>R</mi></math></mjx-assistive-mml></mjx-container>, <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>L</mi><mi>L</mi></math></mjx-assistive-mml></mjx-container>, and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>L</mi><mi>R</mi></math></mjx-assistive-mml></mjx-container> using the pixel's <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>x</mi></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>y</mi></math></mjx-assistive-mml></mjx-container> within screen space.<p>To define the ray's position at any time <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi></math></mjx-assistive-mml></mjx-container>, you use the position of the eye <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D438"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>E</mi></math></mjx-assistive-mml></mjx-container> and that of the pixel <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D443"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>P</mi></math></mjx-assistive-mml></mjx-container>, giving you <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mi class=mjx-i space=4><mjx-c class="TEX-I mjx-c1D438"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D443"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D438"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mi class=mjx-i space=4><mjx-c class="TEX-I mjx-c1D438"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D437"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>R</mi><mo stretchy=false>(</mo><mi>t</mi><mo stretchy=false>)</mo><mo>=</mo><mi>E</mi><mo>+</mo><mi>t</mi><mo stretchy=false>(</mo><mi>P</mi><mo>−</mo><mi>E</mi><mo stretchy=false>)</mo><mo>=</mo><mi>E</mi><mo>+</mo><mi>t</mi><mi>D</mi></math></mjx-assistive-mml></mjx-container> where <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D437"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>D</mi></math></mjx-assistive-mml></mjx-container> is the direction vector of the ray.<h3 id=ellipsoid-collisions><a href=#ellipsoid-collisions aria-label="anchor link for ellipsoid-collisions">###</a> Ellipsoid Collisions</h3><p>Let <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D446"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>S</mi></math></mjx-assistive-mml></mjx-container> be a point. We say the point is on the surface of the ellipse if the following is true: <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msup><mjx-mrow><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c7C style=height:2.262em;vertical-align:-.881em><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mfrac><mjx-frac type=d><mjx-num><mjx-nstrut type=d></mjx-nstrut><mjx-mrow><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D446"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi></mjx-mrow></mjx-num><mjx-dbox><mjx-dtable><mjx-line type=d></mjx-line><mjx-row><mjx-den><mjx-dstrut type=d></mjx-dstrut><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c7C style=height:2.262em;vertical-align:-.881em><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow><mjx-script style=vertical-align:1.108em><mjx-mn class=mjx-n size=s><mjx-c class=mjx-c32></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mn class=mjx-n space=4><mjx-c class=mjx-c31></mjx-c><mjx-c class=mjx-c2E></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msup><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>|</mo><mfrac><mrow><mi>S</mi><mo>−</mo><mi>C</mi></mrow><mi>A</mi></mfrac><mo data-mjx-texclass=CLOSE>|</mo></mrow><mn>2</mn></msup><mo>=</mo><mn>1.</mn></math></mjx-assistive-mml></mjx-container> That is, <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D446"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>S</mi></math></mjx-assistive-mml></mjx-container> is the surface of the ellipse.<p>Now if you plug-in the equation of the ray into the ellipse equation and solve for <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi></math></mjx-assistive-mml></mjx-container>. That is you use this equation <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msup><mjx-mrow><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c7C style=height:2.42em;vertical-align:-.96em><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mfrac><mjx-frac type=d><mjx-num><mjx-nstrut type=d></mjx-nstrut><mjx-mrow><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi></mjx-mrow></mjx-num><mjx-dbox><mjx-dtable><mjx-line type=d></mjx-line><mjx-row><mjx-den><mjx-dstrut type=d></mjx-dstrut><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c7C style=height:2.42em;vertical-align:-.96em><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow><mjx-script style=vertical-align:1.187em><mjx-mn class=mjx-n size=s><mjx-c class=mjx-c32></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mn class=mjx-n space=4><mjx-c class=mjx-c31></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msup><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>|</mo><mfrac><mrow><mi>R</mi><mo stretchy=false>(</mo><mi>t</mi><mo stretchy=false>)</mo><mo>−</mo><mi>C</mi></mrow><mi>A</mi></mfrac><mo data-mjx-texclass=CLOSE>|</mo></mrow><mn>2</mn></msup><mo>=</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container> and solve for <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi></math></mjx-assistive-mml></mjx-container> you get the following <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi><mjx-msup><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-script style=vertical-align:.413em><mjx-mn class=mjx-n size=s><mjx-c class=mjx-c32></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D44F"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D450"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mn class=mjx-n space=4><mjx-c class=mjx-c30></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>a</mi><msup><mi>t</mi><mn>2</mn></msup><mo>+</mo><mi>b</mi><mi>t</mi><mo>+</mo><mi>c</mi><mo>=</mo><mn>0</mn></math></mjx-assistive-mml></mjx-container> where <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msup space=4><mjx-mrow><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c7C style=height:2.218em;vertical-align:-.859em><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mfrac><mjx-frac type=d><mjx-num><mjx-nstrut type=d></mjx-nstrut><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D437"></mjx-c></mjx-mi></mjx-num><mjx-dbox><mjx-dtable><mjx-line type=d></mjx-line><mjx-row><mjx-den><mjx-dstrut type=d></mjx-dstrut><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c7C style=height:2.218em;vertical-align:-.859em><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow><mjx-script style=vertical-align:1.086em><mjx-mn class=mjx-n size=s><mjx-c class=mjx-c32></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class=mjx-n><mjx-c class=mjx-c2C></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>a</mi><mo>=</mo><msup><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>|</mo><mfrac><mi>D</mi><mi>A</mi></mfrac><mo data-mjx-texclass=CLOSE>|</mo></mrow><mn>2</mn></msup><mo>,</mo></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44F"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mn class=mjx-n space=4><mjx-c class=mjx-c32></mjx-c></mjx-mn><mjx-mrow space=2><mjx-mo class=mjx-s3><mjx-c class="mjx-c28 TEX-S3"></mjx-c></mjx-mo><mjx-mfrac><mjx-frac type=d><mjx-num><mjx-nstrut type=d></mjx-nstrut><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D437"></mjx-c></mjx-mi></mjx-num><mjx-dbox><mjx-dtable><mjx-line type=d></mjx-line><mjx-row><mjx-den><mjx-dstrut type=d></mjx-dstrut><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mfrac space=3><mjx-frac type=d><mjx-num><mjx-nstrut type=d></mjx-nstrut><mjx-mrow><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D438"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi></mjx-mrow></mjx-num><mjx-dbox><mjx-dtable><mjx-line type=d></mjx-line><mjx-row><mjx-den><mjx-dstrut type=d></mjx-dstrut><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-mo class=mjx-s3><mjx-c class="mjx-c29 TEX-S3"></mjx-c></mjx-mo></mjx-mrow><mjx-mo class=mjx-n><mjx-c class=mjx-c2C></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>b</mi><mo>=</mo><mn>2</mn><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>(</mo><mfrac><mi>D</mi><mi>A</mi></mfrac><mo>⋅</mo><mfrac><mrow><mi>E</mi><mo>−</mo><mi>C</mi></mrow><mi>A</mi></mfrac><mo data-mjx-texclass=CLOSE>)</mo></mrow><mo>,</mo></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D450"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msup space=4><mjx-mrow><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c7C style=height:2.262em;vertical-align:-.881em><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mfrac><mjx-frac type=d><mjx-num><mjx-nstrut type=d></mjx-nstrut><mjx-mrow><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D438"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi></mjx-mrow></mjx-num><mjx-dbox><mjx-dtable><mjx-line type=d></mjx-line><mjx-row><mjx-den><mjx-dstrut type=d></mjx-dstrut><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c7C style=height:2.262em;vertical-align:-.881em><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow><mjx-script style=vertical-align:1.108em><mjx-mn class=mjx-n size=s><mjx-c class=mjx-c32></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c31></mjx-c><mjx-c class=mjx-c2E></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>c</mi><mo>=</mo><msup><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>|</mo><mfrac><mrow><mi>E</mi><mo>−</mo><mi>C</mi></mrow><mi>A</mi></mfrac><mo data-mjx-texclass=CLOSE>|</mo></mrow><mn>2</mn></msup><mo>−</mo><mn>1.</mn></math></mjx-assistive-mml></mjx-container><p>Since this is just a quadratic, we can use the quadratic formula! <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mfrac space=4><mjx-frac type=d><mjx-num><mjx-nstrut type=d></mjx-nstrut><mjx-mrow><mjx-mo class=mjx-n><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44F"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-cB1></mjx-c></mjx-mo><mjx-msqrt space=3><mjx-sqrt><mjx-surd><mjx-mo class=mjx-n><mjx-c class=mjx-c221A></mjx-c></mjx-mo></mjx-surd><mjx-box style=padding-top:.087em><mjx-msup><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44F"></mjx-c></mjx-mi><mjx-script style=vertical-align:.289em><mjx-mn class=mjx-n size=s><mjx-c class=mjx-c32></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c34></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D450"></mjx-c></mjx-mi></mjx-box></mjx-sqrt></mjx-msqrt></mjx-mrow></mjx-num><mjx-dbox><mjx-dtable><mjx-line type=d></mjx-line><mjx-row><mjx-den><mjx-dstrut type=d></mjx-dstrut><mjx-mrow><mjx-mn class=mjx-n><mjx-c class=mjx-c32></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi></mjx-mrow></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>t</mi><mo>=</mo><mfrac><mrow><mo>−</mo><mi>b</mi><mo>±</mo><msqrt><msup><mi>b</mi><mn>2</mn></msup><mo>−</mo><mn>4</mn><mi>a</mi><mi>c</mi></msqrt></mrow><mrow><mn>2</mn><mi>a</mi></mrow></mfrac></math></mjx-assistive-mml></mjx-container><p>If we get one value of <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi></math></mjx-assistive-mml></mjx-container>, then we have just "grazed" the ellipse. If we have two values of <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi></math></mjx-assistive-mml></mjx-container>, then we've intersected it fully. If we have no values of <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi></math></mjx-assistive-mml></mjx-container>, then we've missed it entirely. You can just check the discriminant (<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msup><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44F"></mjx-c></mjx-mi><mjx-script style=vertical-align:.363em><mjx-mn class=mjx-n size=s><mjx-c class=mjx-c32></mjx-c></mjx-mn></mjx-script></mjx-msup><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c34></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D450"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msup><mi>b</mi><mn>2</mn></msup><mo>−</mo><mn>4</mn><mi>a</mi><mi>c</mi></math></mjx-assistive-mml></mjx-container>). If it's positive, you've intersected (two solutions). If it's zero, you've grazed (one solution). If it's negative, you've missed (no solutions).<p>Now once you've found solution(s) for <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi></math></mjx-assistive-mml></mjx-container>, you pick the smaller <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi></math></mjx-assistive-mml></mjx-container> and plug it in to the ray equation <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mi class=mjx-i space=4><mjx-c class="TEX-I mjx-c1D438"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D437"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>R</mi><mo stretchy=false>(</mo><mi>t</mi><mo stretchy=false>)</mo><mo>=</mo><mi>E</mi><mo>+</mo><mi>t</mi><mi>D</mi></math></mjx-assistive-mml></mjx-container> to find the intersection point.<h3 id=triangle-collisions><a href=#triangle-collisions aria-label="anchor link for triangle-collisions">###</a> Triangle Collisions</h3><p>A triangle is defined by three points <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>A</mi></math></mjx-assistive-mml></mjx-container>, <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D435"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>B</mi></math></mjx-assistive-mml></mjx-container>, and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>C</mi></math></mjx-assistive-mml></mjx-container>. Our goal is to determine if the intersection point <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43C"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>I</mi></math></mjx-assistive-mml></mjx-container> exits and find it if it does.<p>To do this, we need to find the <strong>normal (vector) of triangle <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D435"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>A</mi><mi>B</mi><mi>C</mi></math></mjx-assistive-mml></mjx-container></strong> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi></math></mjx-assistive-mml></mjx-container> by doing <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-texatom texclass=ORD space=4><mjx-mover><mjx-over style=padding-bottom:.105em;padding-left:.754em;margin-bottom:-.516em><mjx-mo class=mjx-n style=width:0;margin-left:-.25em><mjx-c class="TEX-V mjx-c20D7"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mrow><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D435"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi></mjx-mrow></mjx-base></mjx-mover></mjx-texatom><mjx-mo class=mjx-n space=3><mjx-c class=mjx-cD7></mjx-c></mjx-mo><mjx-texatom texclass=ORD space=3><mjx-mover><mjx-over style=padding-bottom:.105em;padding-left:.755em;margin-bottom:-.516em><mjx-mo class=mjx-n style=width:0;margin-left:-.25em><mjx-c class="TEX-V mjx-c20D7"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mrow><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi></mjx-mrow></mjx-base></mjx-mover></mjx-texatom></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>N</mi><mo>=</mo><mrow data-mjx-texclass=ORD><mover><mrow><mi>B</mi><mi>A</mi></mrow><mo stretchy=false>→</mo></mover></mrow><mo>×</mo><mrow data-mjx-texclass=ORD><mover><mrow><mi>C</mi><mi>A</mi></mrow><mo stretchy=false>→</mo></mover></mrow></math></mjx-assistive-mml></mjx-container> where <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-texatom texclass=ORD><mjx-mover><mjx-over style=padding-bottom:.105em;padding-left:.754em;margin-bottom:-.516em><mjx-mo class=mjx-n style=width:0;margin-left:-.25em><mjx-c class="TEX-V mjx-c20D7"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mrow><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D435"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi></mjx-mrow></mjx-base></mjx-mover></mjx-texatom></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mrow data-mjx-texclass=ORD><mover><mrow><mi>B</mi><mi>A</mi></mrow><mo stretchy=false>→</mo></mover></mrow></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-texatom texclass=ORD><mjx-mover><mjx-over style=padding-bottom:.105em;padding-left:.755em;margin-bottom:-.516em><mjx-mo class=mjx-n style=width:0;margin-left:-.25em><mjx-c class="TEX-V mjx-c20D7"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mrow><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi></mjx-mrow></mjx-base></mjx-mover></mjx-texatom></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mrow data-mjx-texclass=ORD><mover><mrow><mi>C</mi><mi>A</mi></mrow><mo stretchy=false>→</mo></mover></mrow></math></mjx-assistive-mml></mjx-container> are vectors from B to A and C to A.<p>This vector <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi></math></mjx-assistive-mml></mjx-container> gives us a definition of the plane of triangle <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D435"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>A</mi><mi>B</mi><mi>C</mi></math></mjx-assistive-mml></mjx-container>: <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.085em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.085em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.085em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mi class=mjx-i space=4><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msub><mi>N</mi><mi>x</mi></msub><mi>x</mi><mo>+</mo><msub><mi>N</mi><mi>y</mi></msub><mi>y</mi><mo>+</mo><msub><mi>N</mi><mi>z</mi></msub><mi>z</mi><mo>=</mo><mi>d</mi><mo>.</mo></math></mjx-assistive-mml></mjx-container><p>This gives us a test function for whether a point is on the surface of the triangle. That is, for all points <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D446"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>S</mi></math></mjx-assistive-mml></mjx-container>, we know <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D446"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mi class=mjx-i space=4><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>N</mi><mo>⋅</mo><mi>S</mi><mo>=</mo><mi>d</mi><mo>.</mo></math></mjx-assistive-mml></mjx-container><p>However, there's an issue! We don't know what <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>d</mi></math></mjx-assistive-mml></mjx-container> is. To find <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>d</mi></math></mjx-assistive-mml></mjx-container>, we take a known point on the triangle (one of the vertexes) and solve for <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>d</mi></math></mjx-assistive-mml></mjx-container>. Let's use the first vertex <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>A</mi></math></mjx-assistive-mml></mjx-container>. We find which we can write in vector form as <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mi class=mjx-i space=4><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D434"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>d</mi><mo>=</mo><mi>N</mi><mo>⋅</mo><mi>A</mi><mo>.</mo></math></mjx-assistive-mml></mjx-container><p>Now again like we did with ellipsoids, if you plug in the ray at time <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>R</mi><mo stretchy=false>(</mo><mi>t</mi><mo stretchy=false>)</mo></math></mjx-assistive-mml></mjx-container> as <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D446"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>S</mi></math></mjx-assistive-mml></mjx-container> into the previous equation and solve for <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi></math></mjx-assistive-mml></mjx-container>, you find the time at which the ray intersects the triangle. <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mi class=mjx-i space=4><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>N</mi><mo>⋅</mo><mi>R</mi><mo stretchy=false>(</mo><mi>t</mi><mo stretchy=false>)</mo><mo>=</mo><mi>d</mi><mo>.</mo></math></mjx-assistive-mml></mjx-container><p>Solving for <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>T</mi></math></mjx-assistive-mml></mjx-container> gives us the following equation <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mfrac space=4><mjx-frac type=d><mjx-num><mjx-nstrut type=d></mjx-nstrut><mjx-mrow><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D438"></mjx-c></mjx-mi></mjx-mrow></mjx-num><mjx-dbox><mjx-dtable><mjx-line type=d></mjx-line><mjx-row><mjx-den><mjx-dstrut type=d></mjx-dstrut><mjx-mrow><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D437"></mjx-c></mjx-mi></mjx-mrow></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>t</mi><mo>=</mo><mfrac><mrow><mi>d</mi><mo>−</mo><mi>N</mi><mo>⋅</mo><mi>E</mi></mrow><mrow><mi>N</mi><mo>⋅</mo><mi>D</mi></mrow></mfrac><mo>.</mo></math></mjx-assistive-mml></mjx-container> Notice that if <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D437"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mn class=mjx-n space=4><mjx-c class=mjx-c30></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi><mo>⋅</mo><mi>D</mi><mo>=</mo><mn>0</mn></math></mjx-assistive-mml></mjx-container>, then the ray and the plane are parallel and there is no intersection. (Even if there are infinite intersections, we don't render them because that complicates the equation and we treat the triangle as infinitely thin.)<p>Now, to find <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43C"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>I</mi></math></mjx-assistive-mml></mjx-container> we plug in the solved for <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi></math></mjx-assistive-mml></mjx-container> (if it exists) into <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>R</mi><mo stretchy=false>(</mo><mi>t</mi><mo stretchy=false>)</mo></math></mjx-assistive-mml></mjx-container>.<p>Now that we have <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43C"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>I</mi></math></mjx-assistive-mml></mjx-container>, we need to determine if <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43C"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>I</mi></math></mjx-assistive-mml></mjx-container> is inside or outside the triangle. An easy way to do this is you know the point is on the inside of the triangle if and only if the point is on the same side of each edge. The way you know which side is by doing the following <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mtext class=mjx-n><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c67></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mtext><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43C"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.186em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D456"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n space=3><mjx-c class=mjx-cD7></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.186em><mjx-texatom texclass=ORD size=s><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D456"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msub><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.186em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D456"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mtext>sign</mtext><mo stretchy=false>(</mo><mi>N</mi><mo>⋅</mo><mo stretchy=false>(</mo><mi>I</mi><mo>−</mo><msub><mi>V</mi><mi>i</mi></msub><mo>×</mo><msub><mi>V</mi><mrow data-mjx-texclass=ORD><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>−</mo><msub><mi>V</mi><mi>i</mi></msub><mo stretchy=false>)</mo><mo stretchy=false>)</mo><mo>.</mo></math></mjx-assistive-mml></mjx-container><h3 id=picking-the-right-collisions><a href=#picking-the-right-collisions aria-label="anchor link for picking-the-right-collisions">###</a> Picking the Right Collisions</h3><p>Now once you have all your collisions with all objects, you need to pick the first intersection you care about. You do this by picking the one with the smallest <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi></math></mjx-assistive-mml></mjx-container> which is greater than 1. We pick 1 because <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mn class=mjx-n space=4><mjx-c class=mjx-c31></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>t</mi><mo>=</mo><mn>1</mn></math></mjx-assistive-mml></mjx-container> is when the ray intersects the view plane.<h2 id=local-illumination><a href=#local-illumination aria-label="anchor link for local-illumination">##</a> Local Illumination</h2><p>Local illumination is a method for determining the color a given ray should result in. We'll be discussing Phong shading and then Blinn-Phong shading.<p>Bui Tong Phong's illumination algorithm cares about 5 vectors when a ray hits the surface:<ul><li><mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>V</mi></math></mjx-assistive-mml></mjx-container> (view): Vector from point to eye.<li><mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>L</mi></math></mjx-assistive-mml></mjx-container> (light): Vector from point to light.<li><mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi></math></mjx-assistive-mml></mjx-container> (normal): Vector normal to surface.<li><mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>R</mi></math></mjx-assistive-mml></mjx-container> (reflection): <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>L</mi></math></mjx-assistive-mml></mjx-container> reflected across the normal <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi></math></mjx-assistive-mml></mjx-container>.<ul><li>We find <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>R</mi></math></mjx-assistive-mml></mjx-container> by finding the components of <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>L</mi></math></mjx-assistive-mml></mjx-container> which are parallel <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>L</mi><mi>p</mi></msub></math></mjx-assistive-mml></mjx-container> and non-parallel <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>L</mi><mi>n</mi></msub></math></mjx-assistive-mml></mjx-container> to <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi></math></mjx-assistive-mml></mjx-container>. We then define <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msub space=4><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>R</mi><mo>=</mo><msub><mi>L</mi><mi>p</mi></msub><mo>−</mo><msub><mi>L</mi><mi>n</mi></msub></math></mjx-assistive-mml></mjx-container>.</ul><li><mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43B"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>H</mi></math></mjx-assistive-mml></mjx-container> (half): Vector halfway between <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>V</mi></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>L</mi></math></mjx-assistive-mml></mjx-container> (just take the average).</ul><p>Note that we expect all these vectors to be unit vectors (i.e. normalized).<p>There are three terms of Phong's model:<ul><li>Ambient <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c6D></mjx-c><mjx-c class=mjx-c62></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c6E></mjx-c><mjx-c class=mjx-c74></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>C</mi><mtext>ambient</mtext></msub></math></mjx-assistive-mml></mjx-container> (color): Shadows. Approximates indirect light. Light that lights up everything including shadows.<li>Diffuse <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c64></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c65></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>C</mi><mtext>diffuse</mtext></msub></math></mjx-assistive-mml></mjx-container> (directional): Matte lighting. Follows Lambert's Law. Simulates how brightness of light on a surface depends on angle between the surface and light source. This emulate how light "grazing" the surface doesn't light it up much (low density of photons) but light directly hitting a surface is brighter (high density of photons)<li>Specular <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c70></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c72></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>C</mi><mtext>specular</mtext></msub></math></mjx-assistive-mml></mjx-container> (highlights): Bright spot. Depends on angle between eye and light source. This emulates mirror-like reflections.</ul><p>You add all these terms together to get the color: <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msub space=4><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c6D></mjx-c><mjx-c class=mjx-c62></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c6E></mjx-c><mjx-c class=mjx-c74></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c64></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c65></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c70></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c72></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>C</mi><mo>=</mo><msub><mi>C</mi><mtext>ambient</mtext></msub><mo>+</mo><msub><mi>C</mi><mtext>diffuse</mtext></msub><mo>+</mo><msub><mi>C</mi><mtext>specular</mtext></msub><mo>.</mo></math></mjx-assistive-mml></mjx-container><p>To find the <strong>ambient</strong> lighting <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c6D></mjx-c><mjx-c class=mjx-c62></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c6E></mjx-c><mjx-c class=mjx-c74></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>C</mi><mtext>ambient</mtext></msub></math></mjx-assistive-mml></mjx-container>, you need 2 (arbitrary) variables <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>K</mi><mi>a</mi></msub></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>L</mi><mi>a</mi></msub></math></mjx-assistive-mml></mjx-container>. <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>K</mi><mi>a</mi></msub></math></mjx-assistive-mml></mjx-container> is the percentage of light that you see comes from ambient light (normally 5-10%). <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>L</mi><mi>a</mi></msub></math></mjx-assistive-mml></mjx-container> is the color of the light source. This gives us the equation <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c6D></mjx-c><mjx-c class=mjx-c62></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c6E></mjx-c><mjx-c class=mjx-c74></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msub space=4><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msub><mi>C</mi><mtext>ambient</mtext></msub><mo>=</mo><msub><mi>K</mi><mi>a</mi></msub><msub><mi>L</mi><mi>a</mi></msub><mo>.</mo></math></mjx-assistive-mml></mjx-container><p>Note that this simulation of a single ambient light source is crude because the ambient light comes from somewhere so it's color will be affected.<p>To find the <strong>diffuse</strong> lighting <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c64></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c65></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>C</mi><mtext>diffuse</mtext></msub></math></mjx-assistive-mml></mjx-container>, you need the vectors <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>L</mi></math></mjx-assistive-mml></mjx-container> and 2 arbitrary variables <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>K</mi><mi>d</mi></msub></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>L</mi><mi>d</mi></msub></math></mjx-assistive-mml></mjx-container>. Again <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>K</mi><mi>d</mi></msub></math></mjx-assistive-mml></mjx-container> is the percentage of light you see which comes from diffuse light and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>L</mi><mi>a</mi></msub></math></mjx-assistive-mml></mjx-container> is the color of the diffuse light. This gives us the equation <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c64></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c65></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msub space=4><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n space=2><mjx-c class=mjx-c6D></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c78></mjx-c></mjx-mo><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2C></mjx-c></mjx-mo><mjx-mn class=mjx-n space=2><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msub><mi>C</mi><mtext>diffuse</mtext></msub><mo>=</mo><msub><mi>K</mi><mi>d</mi></msub><msub><mi>L</mi><mi>d</mi></msub><mo data-mjx-texclass=OP movablelimits=true>max</mo><mo stretchy=false>(</mo><mi>N</mi><mo>⋅</mo><mi>L</mi><mo>,</mo><mn>0</mn><mo stretchy=false>)</mo><mo>.</mo></math></mjx-assistive-mml></mjx-container><p>To find the <strong>specular</strong> lighting <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c70></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c72></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>C</mi><mtext>specular</mtext></msub></math></mjx-assistive-mml></mjx-container>, you need the vectors <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>V</mi></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>R</mi></math></mjx-assistive-mml></mjx-container> along with an arbitrary integer <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>n</mi></math></mjx-assistive-mml></mjx-container>. As <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>n</mi></math></mjx-assistive-mml></mjx-container> get larger, the spot gets smaller as the light gets more focused. We know the light is a function of the angle between <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>V</mi></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>R</mi></math></mjx-assistive-mml></mjx-container>, <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>V</mi><mo>⋅</mo><mi>R</mi></math></mjx-assistive-mml></mjx-container>, which has a bell-curve / bump shape. Phong ended up using this function <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi><mjx-msup><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-script style=vertical-align:.363em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mo stretchy=false>(</mo><mi>V</mi><mo>⋅</mo><mi>R</mi><msup><mo stretchy=false>)</mo><mi>n</mi></msup></math></mjx-assistive-mml></mjx-container>. This function is arbitrary but works pretty well. We again have <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>K</mi><mi>s</mi></msub></math></mjx-assistive-mml></mjx-container> as the percentage of light which comes from specular light and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>L</mi><mi>s</mi></msub></math></mjx-assistive-mml></mjx-container> which is the color of that light. This gives us the equation <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c70></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c72></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msub space=4><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-msup><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-script style=vertical-align:.413em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi></mjx-script></mjx-msup><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msub><mi>C</mi><mtext>specular</mtext></msub><mo>=</mo><msub><mi>K</mi><mi>s</mi></msub><msub><mi>L</mi><mi>s</mi></msub><mo stretchy=false>(</mo><mi>N</mi><mo>⋅</mo><mi>L</mi><msup><mo stretchy=false>)</mo><mi>n</mi></msup><mo>.</mo></math></mjx-assistive-mml></mjx-container><p>Combining all these lights we get <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msub space=4><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c6D></mjx-c><mjx-c class=mjx-c62></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c6E></mjx-c><mjx-c class=mjx-c74></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c64></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c65></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c70></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c72></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>C</mi><mo>=</mo><msub><mi>C</mi><mtext>ambient</mtext></msub><mo>+</mo><msub><mi>C</mi><mtext>diffuse</mtext></msub><mo>+</mo><msub><mi>C</mi><mtext>specular</mtext></msub></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mo class=mjx-n><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msub space=4><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n space=2><mjx-c class=mjx-c6D></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c78></mjx-c></mjx-mo><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2C></mjx-c></mjx-mo><mjx-mn class=mjx-n space=2><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-msup><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-script style=vertical-align:.413em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi></mjx-script></mjx-msup><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mo>=</mo><msub><mi>K</mi><mi>a</mi></msub><msub><mi>L</mi><mi>a</mi></msub><mo>+</mo><msub><mi>K</mi><mi>d</mi></msub><msub><mi>L</mi><mi>d</mi></msub><mo data-mjx-texclass=OP movablelimits=true>max</mo><mo stretchy=false>(</mo><mi>N</mi><mo>⋅</mo><mi>L</mi><mo>,</mo><mn>0</mn><mo stretchy=false>)</mo><mo>+</mo><msub><mi>K</mi><mi>s</mi></msub><msub><mi>L</mi><mi>s</mi></msub><mo stretchy=false>(</mo><mi>N</mi><mo>⋅</mo><mi>L</mi><msup><mo stretchy=false>)</mo><mi>n</mi></msup><mo>.</mo></math></mjx-assistive-mml></mjx-container><p>James Blinn improved the <strong>specular lighting</strong> part of the <strong>Phong shading</strong> model, making it the <strong>Blinn-Phong shading</strong> model. He observed that specular lighting really occurs more when <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43B"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>H</mi></math></mjx-assistive-mml></mjx-container> are close together. That is because real life surfaces are rough and have tons of little micro-bumps/facets and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43B"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>H</mi></math></mjx-assistive-mml></mjx-container> describes where they point on average with what we can see. Therefore, when <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43B"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>H</mi></math></mjx-assistive-mml></mjx-container> are close the micro-bumps/facets will almost perfectly reflect the specular light to our eyes. That is instead of the light being a function of the angle between <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>V</mi></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>R</mi></math></mjx-assistive-mml></mjx-container>, it is the angle between <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c210E"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>h</mi></math></mjx-assistive-mml></mjx-container>, that is <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D43B"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi><mo>⋅</mo><mi>H</mi></math></mjx-assistive-mml></mjx-container>. This gives us a new equation for the specular color as <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c70></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c72></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msub space=4><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D43B"></mjx-c></mjx-mi><mjx-msup><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-script style=vertical-align:.413em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi></mjx-script></mjx-msup><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msub><mi>C</mi><mtext>specular</mtext></msub><mo>=</mo><msub><mi>K</mi><mi>s</mi></msub><msub><mi>L</mi><mi>s</mi></msub><mo stretchy=false>(</mo><mi>N</mi><mo>⋅</mo><mi>H</mi><msup><mo stretchy=false>)</mo><mi>n</mi></msup><mo>.</mo></math></mjx-assistive-mml></mjx-container><p>Now in Blinn-Phong shading we get <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msub space=4><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c6D></mjx-c><mjx-c class=mjx-c62></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c6E></mjx-c><mjx-c class=mjx-c74></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c64></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c65></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c70></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c72></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>C</mi><mo>=</mo><msub><mi>C</mi><mtext>ambient</mtext></msub><mo>+</mo><msub><mi>C</mi><mtext>diffuse</mtext></msub><mo>+</mo><msub><mi>C</mi><mtext>specular</mtext></msub></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mo class=mjx-n><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msub space=4><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D44E"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n space=2><mjx-c class=mjx-c6D></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c78></mjx-c></mjx-mo><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2C></mjx-c></mjx-mo><mjx-mn class=mjx-n space=2><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43F"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D43B"></mjx-c></mjx-mi><mjx-msup><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-script style=vertical-align:.413em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi></mjx-script></mjx-msup><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mo>=</mo><msub><mi>K</mi><mi>a</mi></msub><msub><mi>L</mi><mi>a</mi></msub><mo>+</mo><msub><mi>K</mi><mi>d</mi></msub><msub><mi>L</mi><mi>d</mi></msub><mo data-mjx-texclass=OP movablelimits=true>max</mo><mo stretchy=false>(</mo><mi>N</mi><mo>⋅</mo><mi>L</mi><mo>,</mo><mn>0</mn><mo stretchy=false>)</mo><mo>+</mo><msub><mi>K</mi><mi>s</mi></msub><msub><mi>L</mi><mi>s</mi></msub><mo stretchy=false>(</mo><mi>N</mi><mo>⋅</mo><mi>H</mi><msup><mo stretchy=false>)</mo><mi>n</mi></msup><mo>.</mo></math></mjx-assistive-mml></mjx-container><h2 id=ray-tracing><a href=#ray-tracing aria-label="anchor link for ray-tracing">##</a> Ray Tracing</h2><p>We will incrementally build ray tracing up from ray casting.<p>The first step is to consider <strong>shadows</strong>. To determine if a point is in shadow, whenever you find a collision cast a ray from it to the light source(s). If that ray collides with anything, then don't include the diffuse or specular light from the Blinn-Phong model.<p><em><strong>Note:</strong></em> The following math might not be right.<p>Now for <strong>reflections</strong>, you have to find the reflection ray <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c74></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>R</mi><mtext>reflection</mtext></msub></math></mjx-assistive-mml></mjx-container>. We find <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>R</mi></math></mjx-assistive-mml></mjx-container> by finding the components of <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>V</mi></math></mjx-assistive-mml></mjx-container> (the vector from collision to the eye) which are parallel <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.186em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>V</mi><mi>p</mi></msub></math></mjx-assistive-mml></mjx-container> and non-parallel <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mo class=mjx-n><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.186em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mo>−</mo><msub><mi>V</mi><mi>n</mi></msub></math></mjx-assistive-mml></mjx-container> to <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi></math></mjx-assistive-mml></mjx-container> and then define <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c74></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msub space=4><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.186em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.186em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>R</mi><mtext>reflection</mtext></msub><mo>=</mo><msub><mi>V</mi><mi>p</mi></msub><mo>−</mo><msub><mi>V</mi><mi>n</mi></msub></math></mjx-assistive-mml></mjx-container>. This simplifies to the following where <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>R</mi></math></mjx-assistive-mml></mjx-container>, <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi></math></mjx-assistive-mml></mjx-container>, and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>V</mi></math></mjx-assistive-mml></mjx-container> are normalized to unit vectors. <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c74></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mn class=mjx-n space=4><mjx-c class=mjx-c32></mjx-c></mjx-mn><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msub><mi>R</mi><mtext>reflection</mtext></msub><mo>=</mo><mn>2</mn><mo stretchy=false>(</mo><mi>N</mi><mo>⋅</mo><mi>V</mi><mo stretchy=false>)</mo><mi>N</mi><mo>−</mo><mi>V</mi></math></mjx-assistive-mml></mjx-container><p>Now, to handle the reflections we have a new coefficient <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c74></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>K</mi><mtext>reflection</mtext></msub></math></mjx-assistive-mml></mjx-container> and find <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c74></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>C</mi><mtext>reflection</mtext></msub></math></mjx-assistive-mml></mjx-container> by recursively finding the color of the reflected ray. We keep track of how many bounces we've done for each level of recursion and stop after some set number of maximum reflections <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D440"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.081em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c74></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>M</mi><mtext>reflection</mtext></msub></math></mjx-assistive-mml></mjx-container>.<p>We handle <strong>refraction</strong> similarly to reflections except we do different math to find the refraction ray <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D445"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c74></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>R</mi><mtext>refraction</mtext></msub></math></mjx-assistive-mml></mjx-container>. The math here comes from <strong>Snell's Law</strong>, which we won't cover in this class. This again introducing another color and coefficient <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D43E"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.04em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c74></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>K</mi><mtext>refraction</mtext></msub></math></mjx-assistive-mml></mjx-container> and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c74></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>C</mi><mtext>refraction</mtext></msub></math></mjx-assistive-mml></mjx-container> like with reflection (and all other colors). We similarly keep track of each level of recursion and stop after some set number of maximum refractions <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D440"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.081em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c74></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>M</mi><mtext>refraction</mtext></msub></math></mjx-assistive-mml></mjx-container>.<p>One issue with ray tracing is it only considers <strong>specular reflections</strong>. That is when you have a crisp clear reflection. It doesn't consider diffuse reflections, that is "color bleeding" style reflections.<p>Also, ray tracing is computationally intensive. One way to improve performance is the split the world into cubes recursively. Before we check for collisions of objects in the box, we determine if the ray collides with the box at all. We have the boxes recursively so we can hone in on the collided box(es) similar to how binary search works.<h1 id=rasterization><a href=#rasterization aria-label="anchor link for rasterization">#</a> Rasterization</h1><p>Rasterization is an alternative method of rendering objects to ray casting. It is (especially was) the most common method of rendering 3D objects because of how cheap and hardware friendly it is. Sadly, rasterization is more complicated to understand and harder to add shadows, reflections, and refractions.<p>One important difference of rasterization is that you will be doing full shading on every single object in the model because, when we're doing shading, we don't know yet which object is closest. This gets worse the more triangles/objects you have stacked up. That is the <strong>depth complexity</strong> of the scene.<p><em>So why is rasterization faster?</em> It's (relatively) easy to cut out unnecessary pixels for each object's pass which can save <em><strong>huge</strong></em> amounts of work because most objects only show up in a tiny number of pixels.<p>We can also do <strong>deferred shading</strong>, where our first pass is just to solve occlusion (i.e. figure out which objects are in front), saving a bunch of information, and then we do shading with this information.<p><em>Given a pixel in a triangle, how do you interpolate the values at the coordinates?</em> You first find out how far along you are along two of the edges. Once you have that, you can do bilerp as normal. Find the value on the edge of your point to your left and right. Then you find where you are between your left and right points and do the weighted sum again.<p>The naive way to do this, using world coordinates, is called <strong>affine bilinear interpolation</strong> and results in morphing and skewed textures. We can resolve this using <strong>perspective interpolation</strong><p>For perspective interpolation, you need to<ol><li>Perform perspective divide to go to 3d: <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mo class=mjx-n><mjx-c class=mjx-c5B></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi><mjx-mstyle><mjx-mspace style=width:1em></mjx-mspace></mjx-mstyle><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c5D></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mo stretchy=false>[</mo><mi>s</mi><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><mi>w</mi><mstyle scriptlevel=0><mspace width=1em></mspace></mstyle><mi>t</mi><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><mi>w</mi><mo stretchy=false>]</mo></math></mjx-assistive-mml></mjx-container>.<li>Append the denominator: <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mo class=mjx-n><mjx-c class=mjx-c5B></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi><mjx-mstyle><mjx-mspace style=width:1em></mjx-mspace></mjx-mstyle><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi><mjx-mstyle><mjx-mspace style=width:1em></mjx-mspace></mjx-mstyle><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c5D></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mo stretchy=false>[</mo><mi>s</mi><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><mi>w</mi><mstyle scriptlevel=0><mspace width=1em></mspace></mstyle><mi>t</mi><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><mi>w</mi><mstyle scriptlevel=0><mspace width=1em></mspace></mstyle><mn>1</mn><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><mi>w</mi><mo stretchy=false>]</mo></math></mjx-assistive-mml></mjx-container>.<li>Perform bilerp to point <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>p</mi></math></mjx-assistive-mml></mjx-container> including the denominator: <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mo class=mjx-n><mjx-c class=mjx-c5B></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mstyle><mjx-mspace style=width:1em></mjx-mspace></mjx-mstyle><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mstyle><mjx-mspace style=width:1em></mjx-mspace></mjx-mstyle><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n><mjx-c class=mjx-c5D></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mo stretchy=false>[</mo><mi>s</mi><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><msub><mi>w</mi><mi>p</mi></msub><mstyle scriptlevel=0><mspace width=1em></mspace></mstyle><mi>t</mi><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><msub><mi>w</mi><mi>p</mi></msub><mstyle scriptlevel=0><mspace width=1em></mspace></mstyle><mn>1</mn><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><msub><mi>w</mi><mi>p</mi></msub><mo stretchy=false>]</mo></math></mjx-assistive-mml></mjx-container>.<li>Undo the divide: <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mo class=mjx-n><mjx-c class=mjx-c5B></mjx-c></mjx-mo><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D460"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mstyle><mjx-mspace style=width:1em></mjx-mspace></mjx-mstyle><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D461"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n><mjx-c class=mjx-c5D></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mo stretchy=false>[</mo><msub><mi>s</mi><mi>p</mi></msub><mstyle scriptlevel=0><mspace width=1em></mspace></mstyle><msub><mi>t</mi><mi>p</mi></msub><mo stretchy=false>]</mo></math></mjx-assistive-mml></mjx-container>.</ol><p><em>Note:</em> OpenGL/WebGL automatically does this for us.<h2 id=rasterization-in-opengl-webgl><a href=#rasterization-in-opengl-webgl aria-label="anchor link for rasterization-in-opengl-webgl">##</a> Rasterization in OpenGL/WebGL</h2><p>Instead of logically looping over pixels and then objects (<strong>image-order</strong>), you iterate over all objects and then pixels (<strong>object-order</strong>). However, most graphics APIs (e.g. OpenGL) handle this iteration for you.<p>A <strong>vertex shader</strong> takes all the objects in your scene (whose vertexes are 3D points) and outputs coordinates those vertexes should appear on the screen. In OpenGL, this is programmable and must produce output into <code>gl_Position</code>.<p>With these now projected vertexes and an index array describing the triangles, the <strong>rasterizer</strong> chops the triangles into pieces called <strong>fragments</strong>. These fragments are the pixels which intersect with the triangle. In OpenGL, this is not programmable.<p>Now, the <strong>fragment shader</strong> must color the fragments produced by the <em>rasterizer</em>. In OpenGL, this is programmable and must produce output into <code>gl_FragColor</code>.<p>Now, the <strong>compositor</strong> combines these fragments. In OpenGL, this is not programmable but is configurable. For example, the compositor may do <em>hidden surface removal</em> by ignore/removing pixels behind the frontmost one. There may also be <em>transparency</em> where you instead take averages.<h1 id=opengl-webgl><a href=#opengl-webgl aria-label="anchor link for opengl-webgl">#</a> OpenGL/WebGL</h1><p>Khronos is the group which maintains OpenGL and WebGL. WebGL is an web-based implementation of OpenGL.<p>OpenGL was born as Iris GL, which was a proprietary API owned by Silicon Graphics. In the 90s however, they decided to make it an open specification.<p>WebGL 1.0 was a descendant of OpenGL ES 2.0. WebGL 2.0 was released in 2018 and is a descendant of OpenGL ES 3.0.<p>For OpenGL, you need to know <strong>GLSL</strong> (Graphics Language Shader Language). GLSL code is compiled and executed by the GPU.<p><strong>Vulkan</strong>, aka OpenGL Next 5.0, is a lower-level rework of a lot of OpenGL for the purpose of being more cross-platform and having better performance.<p><strong>Metal</strong> is a MacOS based API similar to Vulkan. It was developed before Vulkan. <strong>Mantle</strong> is that for AMD. <strong>Direct3D</strong> is that for Windows.<h2 id=usage><a href=#usage aria-label="anchor link for usage">##</a> Usage</h2><p>The process for rendering in WebGL is<ul><li>Set up WebGl.<li>Load model.<li>Process model.<li>Render result.</ul><p>See these rendering primitives in WeblGL: <a href=https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Constants#rendering_primitives>https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Constants#rendering_primitives</a><p>The <strong>vertex shader</strong> (programmed in GLSL) takes in <strong>attributes</strong>, per-vertex info like position and color; and <strong>uniforms</strong>, such as ambient light and perspective. It produces <strong>varyings</strong>, per-vertex values to be interpreted by fragment shader; <code>gl_Position</code>, the position of the vertex in clipping space; and <code>gl_PointSize</code>, the size of the point sprite.<p>The <strong>fragment shader</strong> takes in the varyings from the vertex shader and the same uniforms the vertex shader got. Then it outputs <code>gl_FragColor</code>, the color of the fragment which is used when only one render target is used; and <code>gl_FragData[]</code>, fragment colors when multiple render targets are used.<p><em>How do we debug shaders?</em> Keep them simple and correct, visualize debug values, possibly implement them in JavaScript. There's also some tools in the console. There's also an extension called WebGL insight.<p>OpenGL 2.0 removed matrix math. There's a useful library called <a href=https://glmatrix.net/ ><code>glMatrix</code></a> which re-implements the removed matrix code.<p>Here's a cheatsheet for WebGL 2.0: <a href=https://www.khronos.org/files/webgl20-reference-guide.pdf>https://www.khronos.org/files/webgl20-reference-guide.pdf</a><h1 id=3d-models><a href=#3d-models aria-label="anchor link for 3d-models">#</a> 3D Models</h1><p>In this class, we prefer convex polygons because it makes it more simple to determine if we are inside the polygon or not.<p>We additional prefer to deal with triangles because they always define a plane. You can convert every polygon to triangles (i.e. triangulate the polygon) however.<p>If we have a complex surface, to convert it to a polygon we sample the surface at several points (at regular intervals) to define vertexes of the surface. We then connect the appropriate vertexes with edges to create the triangles.<p>After this, we have a minimally described 3D model. We often go further and add <em>attributes</em> to the model to describe its material(s) and how they reflect light.<p>We can also define vertex normals, which are normals pointing out from vertexes. These are included in attributes and are often used to shade the surface in a way to hide its facets / polygons.<h1 id=transforms><a href=#transforms aria-label="anchor link for transforms">#</a> Transforms</h1><p>We describe transforms of coordinates using matrixes. You can intuitively see how this works for rotation and scaling but it's not immediately clear how this works for translations.<p>The trick to make it work for translation is that we add an additional element to every vector, so we deal with vectors in <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msup><mjx-texatom texclass=ORD><mjx-mi class="mjx-b mjx-ds"><mjx-c class="TEX-A mjx-c211D"></mjx-c></mjx-mi></mjx-texatom><mjx-script style=vertical-align:.363em><mjx-mn class=mjx-n size=s><mjx-c class=mjx-c34></mjx-c></mjx-mn></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msup><mrow data-mjx-texclass=ORD><mi mathvariant=double-struck>R</mi></mrow><mn>4</mn></msup></math></mjx-assistive-mml></mjx-container> then our matrixes exist in <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msup><mjx-texatom texclass=ORD><mjx-mi class="mjx-b mjx-ds"><mjx-c class="TEX-A mjx-c211D"></mjx-c></mjx-mi></mjx-texatom><mjx-script style=vertical-align:.363em><mjx-texatom texclass=ORD size=s><mjx-mn class=mjx-n><mjx-c class=mjx-c34></mjx-c></mjx-mn><mjx-mo class=mjx-n><mjx-c class=mjx-cD7></mjx-c></mjx-mo><mjx-mn class=mjx-n><mjx-c class=mjx-c34></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msup><mrow data-mjx-texclass=ORD><mi mathvariant=double-struck>R</mi></mrow><mrow data-mjx-texclass=ORD><mn>4</mn><mo>×</mo><mn>4</mn></mrow></msup></math></mjx-assistive-mml></mjx-container> accordingly. These are called <strong>homogeneous coordinates</strong>.<p>A transformation matrix on homogeneous coordinates (<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msup><mjx-texatom texclass=ORD><mjx-mi class="mjx-b mjx-ds"><mjx-c class="TEX-A mjx-c211D"></mjx-c></mjx-mi></mjx-texatom><mjx-script style=vertical-align:.363em><mjx-texatom texclass=ORD size=s><mjx-mn class=mjx-n><mjx-c class=mjx-c34></mjx-c></mjx-mn><mjx-mo class=mjx-n><mjx-c class=mjx-cD7></mjx-c></mjx-mo><mjx-mn class=mjx-n><mjx-c class=mjx-c34></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msup><mrow data-mjx-texclass=ORD><mi mathvariant=double-struck>R</mi></mrow><mrow data-mjx-texclass=ORD><mn>4</mn><mo>×</mo><mn>4</mn></mrow></msup></math></mjx-assistive-mml></mjx-container>) can intuitively be seen by a transformation matrix <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>T</mi></math></mjx-assistive-mml></mjx-container> with an offset vector <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45C"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>o</mi></math></mjx-assistive-mml></mjx-container>.<p><mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mrow><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:6.3em;vertical-align:-2.9em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:5.204em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-bottom:.2em><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-bottom:.2em><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c22EE></mjx-c></mjx-mo></mjx-texatom><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45C"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c22EE></mjx-c></mjx-mo></mjx-texatom><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:6.3em;vertical-align:-2.9em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd></mtd><mtd></mtd><mtd></mtd><mtd><mrow data-mjx-texclass=ORD><mo>⋮</mo></mrow></mtd></mtr><mtr><mtd></mtd><mtd><mi>T</mi></mtd><mtd></mtd><mtd><mi>o</mi></mtd></mtr><mtr><mtd></mtd><mtd></mtd><mtd></mtd><mtd><mrow data-mjx-texclass=ORD><mo>⋮</mo></mrow></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container><h2 id=translation-scaling-rotation><a href=#translation-scaling-rotation aria-label="anchor link for translation-scaling-rotation">##</a> Translation, Scaling, & Rotation</h2><p>Let <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c210E"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>h</mi></math></mjx-assistive-mml></mjx-container> be a homogeneous coordinate and define <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>p</mi></math></mjx-assistive-mml></mjx-container> to be the ordinary coordinate. This is specific to 3D ordinary coordinates, but a similar idea works in general. <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c210E"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mrow space=4><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:.716em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow><mjx-mstyle><mjx-mspace style=width:.278em></mjx-mspace></mjx-mstyle><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c27FA></mjx-c></mjx-mo><mjx-mstyle><mjx-mspace style=width:.278em></mjx-mspace></mjx-mstyle><mjx-mi class=mjx-i space=4><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mrow space=4><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:4.156em;vertical-align:-1.828em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:.946em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-bottom:.2em><mjx-mfrac><mjx-frac><mjx-num><mjx-nstrut></mjx-nstrut><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi></mjx-num><mjx-dbox><mjx-dtable><mjx-line></mjx-line><mjx-row><mjx-den><mjx-dstrut></mjx-dstrut><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mfrac><mjx-frac><mjx-num><mjx-nstrut></mjx-nstrut><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi></mjx-num><mjx-dbox><mjx-dtable><mjx-line></mjx-line><mjx-row><mjx-den><mjx-dstrut></mjx-dstrut><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em><mjx-mfrac><mjx-frac><mjx-num><mjx-nstrut></mjx-nstrut><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi></mjx-num><mjx-dbox><mjx-dtable><mjx-line></mjx-line><mjx-row><mjx-den><mjx-dstrut></mjx-dstrut><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:4.156em;vertical-align:-1.828em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>h</mi><mo>=</mo><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mi>z</mi></mtd></mtr><mtr><mtd><mi>w</mi></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow><mstyle scriptlevel=0><mspace width=0.278em></mspace></mstyle><mo stretchy=false>⟺</mo><mstyle scriptlevel=0><mspace width=0.278em></mspace></mstyle><mi>p</mi><mo>=</mo><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mfrac><mi>x</mi><mi>w</mi></mfrac></mtd></mtr><mtr><mtd><mfrac><mi>y</mi><mi>w</mi></mfrac></mtd></mtr><mtr><mtd><mfrac><mi>z</mi><mi>w</mi></mfrac></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container><p>Here's an example of a <strong>translation</strong><p><mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mrow><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:5.352em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44B"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44C"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44D"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow><mjx-mrow space=2><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:.572em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mrow space=4><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:3.869em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D44B"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D44C"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D44D"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mi>X</mi></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd><mtd><mi>Y</mi></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd><mtd><mi>Z</mi></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mi>z</mi></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow><mo>=</mo><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mi>x</mi><mo>+</mo><mi>X</mi><mo>⋅</mo><mn>1</mn></mtd></mtr><mtr><mtd><mi>y</mi><mo>+</mo><mi>Y</mi><mo>⋅</mo><mn>1</mn></mtd></mtr><mtr><mtd><mi>z</mi><mo>+</mo><mi>Z</mi><mo>⋅</mo><mn>1</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container><p>Here's an example of a (one-dimensional) <strong>scaling</strong> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mrow><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.245em;vertical-align:-2.372em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:6.668em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-bottom:.2em><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D446"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.032em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D446"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.032em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D446"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.032em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.245em;vertical-align:-2.372em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow><mjx-mrow space=2><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:.572em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mrow space=4><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.245em;vertical-align:-2.372em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:2.395em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D446"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.032em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D446"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.032em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-msub space=3><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D446"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.032em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.245em;vertical-align:-2.372em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><msub><mi>S</mi><mi>x</mi></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><msub><mi>S</mi><mi>y</mi></msub></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><msub><mi>S</mi><mi>z</mi></msub></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mi>z</mi></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow><mo>=</mo><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mi>x</mi><mo>⋅</mo><msub><mi>S</mi><mi>x</mi></msub></mtd></mtr><mtr><mtd><mi>y</mi><mo>⋅</mo><msub><mi>S</mi><mi>y</mi></msub></mtd></mtr><mtr><mtd><mi>z</mi><mo>⋅</mo><msub><mi>S</mi><mi>z</mi></msub></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container><p>Here's an example of a <strong>rotation</strong> (around the <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>x</mi></math></mjx-assistive-mml></mjx-container>-axis) <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mrow><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:8.782em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mi class=mjx-n><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c73></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2061></mjx-c></mjx-mo><mjx-mi class=mjx-i space=2><mjx-c class="TEX-I mjx-c1D703"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mo class=mjx-n><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mi class=mjx-n space=2><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2061></mjx-c></mjx-mo><mjx-mi class=mjx-i space=2><mjx-c class="TEX-I mjx-c1D703"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mi class=mjx-n><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2061></mjx-c></mjx-mo><mjx-mi class=mjx-i space=2><mjx-c class="TEX-I mjx-c1D703"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mi class=mjx-n><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c73></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2061></mjx-c></mjx-mo><mjx-mi class=mjx-i space=2><mjx-c class="TEX-I mjx-c1D703"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow><mjx-mrow space=2><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:.572em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mrow space=4><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:7.46em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-n><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c73></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2061></mjx-c></mjx-mo><mjx-mi class=mjx-i space=2><mjx-c class="TEX-I mjx-c1D703"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mi class=mjx-n space=3><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2061></mjx-c></mjx-mo><mjx-mi class=mjx-i space=2><mjx-c class="TEX-I mjx-c1D703"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-n><mjx-c class=mjx-c73></mjx-c><mjx-c class=mjx-c69></mjx-c><mjx-c class=mjx-c6E></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2061></mjx-c></mjx-mo><mjx-mi class=mjx-i space=2><mjx-c class="TEX-I mjx-c1D703"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mi class=mjx-n space=3><mjx-c class=mjx-c63></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c73></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2061></mjx-c></mjx-mo><mjx-mi class=mjx-i space=2><mjx-c class="TEX-I mjx-c1D703"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c22C5></mjx-c></mjx-mo><mjx-mi class=mjx-i space=3><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mi>cos</mi><mo data-mjx-texclass=NONE>⁡</mo><mi>θ</mi></mtd><mtd><mo>−</mo><mi>sin</mi><mo data-mjx-texclass=NONE>⁡</mo><mi>θ</mi></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mi>sin</mi><mo data-mjx-texclass=NONE>⁡</mo><mi>θ</mi></mtd><mtd><mi>cos</mi><mo data-mjx-texclass=NONE>⁡</mo><mi>θ</mi></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mi>z</mi></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow><mo>=</mo><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>cos</mi><mo data-mjx-texclass=NONE>⁡</mo><mi>θ</mi><mo>⋅</mo><mi>y</mi><mo>−</mo><mi>sin</mi><mo data-mjx-texclass=NONE>⁡</mo><mi>θ</mi><mo>⋅</mo><mi>z</mi></mtd></mtr><mtr><mtd><mi>sin</mi><mo data-mjx-texclass=NONE>⁡</mo><mi>θ</mi><mo>⋅</mo><mi>y</mi><mo>+</mo><mi>cos</mi><mo data-mjx-texclass=NONE>⁡</mo><mi>θ</mi><mo>⋅</mo><mi>z</mi></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container><p>To compose transformations, we multiply their matrixes together. The rightmost one is applied first. The leftmost one is applied last.<p>All transformations are done relative to the origin. While this doesn't matter for translation, it does matter for rotation and scaling. To account for this, apply a translation to move one vertex to the origin, do your operation, and then apply the inverse translation to move that vertex back.<p>Composite rotations are confusing because earlier rotations changes the axis of rotation for future rotation. We can <em>sidestep</em> this issue by defining a rotation fully. That is, instead of composite rotations we define change of basis from one orthonormal basis to another. Intuitively, this is like applying a (complex) rotation to all 3 axes in unison.<p>To define a rotation around an axis, we change the basis of the current system so that the new <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>y</mi></math></mjx-assistive-mml></mjx-container>-axis is aligned with the rotation, then we apply a regular rotation about the <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>y</mi></math></mjx-assistive-mml></mjx-container>-axis, and finally apply the inverse change of basis, returning us to the original coordinate system.<p><em>Note:</em> You can actually interpret all transformations as either changing the coordinate system or moving the object. It doesn't matter.<h2 id=types-of-transforms><a href=#types-of-transforms aria-label="anchor link for types-of-transforms">##</a> Types of Transforms</h2><ul><li>Rigid Body: Translation or rotation. Preserves angles and lengths.<li>Affine: Rigid body or scale. Preserves parallelism.<li>Perspective: Does not preserve parallelism.</ul><h2 id=transforms-normal-vectors><a href=#transforms-normal-vectors aria-label="anchor link for transforms-normal-vectors">##</a> Transforms & Normal Vectors</h2><p>Just applying the transformations you make to a model's vectors to its normal vectors doesn't necessarily make sense. This works for uniform transformations, that is transformations which don't change the shape of the model. However, if you have something like a skew which modifies the shape of the object, then the normal vectors will be affected in weird ways.<p>Consider a rectangle which is made into a parallelogram by pushing the top to the right, that is the left and right side are skewed but the top and bottom remain parallel. If we were to apply this transformation to the normal vectors naively, then the normal vector of the top would become slanted but the normal vector of the right would remain unaffected. However, this is exactly what we <em>don't</em> want.<p>Suppose we have some model <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D440"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>M</mi></math></mjx-assistive-mml></mjx-container> with normals <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>N</mi></math></mjx-assistive-mml></mjx-container> and we want to apply transformation <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>T</mi></math></mjx-assistive-mml></mjx-container> to the model to get model <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msup><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D440"></mjx-c></mjx-mi><mjx-script style=vertical-align:.363em;margin-left:.054em><mjx-mo class=mjx-var size=s><mjx-c class=mjx-c2032></mjx-c></mjx-mo></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msup><mi>M</mi><mo data-mjx-alternate=1>′</mo></msup></math></mjx-assistive-mml></mjx-container> and normals <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msup><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-script style=vertical-align:.363em;margin-left:.054em><mjx-mo class=mjx-var size=s><mjx-c class=mjx-c2032></mjx-c></mjx-mo></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msup><mi>N</mi><mo data-mjx-alternate=1>′</mo></msup></math></mjx-assistive-mml></mjx-container>. The math to do this is <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msup><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D440"></mjx-c></mjx-mi><mjx-script style=vertical-align:.413em;margin-left:.054em><mjx-mo class=mjx-var size=s><mjx-c class=mjx-c2032></mjx-c></mjx-mo></mjx-script></mjx-msup><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mi class=mjx-i space=4><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D440"></mjx-c></mjx-mi><mjx-mstyle><mjx-mspace style=width:1em></mjx-mspace></mjx-mstyle></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msup><mi>M</mi><mo data-mjx-alternate=1>′</mo></msup><mo>=</mo><mi>T</mi><mi>M</mi><mstyle scriptlevel=0><mspace width=1em></mspace></mstyle></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msup><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-script style=vertical-align:.413em;margin-left:.054em><mjx-mo class=mjx-var size=s><mjx-c class=mjx-c2032></mjx-c></mjx-mo></mjx-script></mjx-msup><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-msup><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi><mjx-script style=vertical-align:.413em;margin-left:.056em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi></mjx-script></mjx-msup><mjx-msup><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-script style=vertical-align:.413em><mjx-texatom texclass=ORD size=s><mjx-mo class=mjx-n><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D441"></mjx-c></mjx-mi><mjx-mstyle><mjx-mspace style=width:1em></mjx-mspace></mjx-mstyle><mjx-mo class=mjx-n><mjx-c class=mjx-c2E></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msup><mi>N</mi><mo data-mjx-alternate=1>′</mo></msup><mo>=</mo><mo stretchy=false>(</mo><msup><mi>T</mi><mi>T</mi></msup><msup><mo stretchy=false>)</mo><mrow data-mjx-texclass=ORD><mo>−</mo><mn>1</mn></mrow></msup><mi>N</mi><mstyle scriptlevel=0><mspace width=1em></mspace></mstyle><mo>.</mo></math></mjx-assistive-mml></mjx-container><p>This <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-msup><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi><mjx-script style=vertical-align:.363em;margin-left:.056em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi></mjx-script></mjx-msup><mjx-msup><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-script style=vertical-align:.363em><mjx-texatom texclass=ORD size=s><mjx-mo class=mjx-n><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn></mjx-texatom></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mo stretchy=false>(</mo><msup><mi>T</mi><mi>T</mi></msup><msup><mo stretchy=false>)</mo><mrow data-mjx-texclass=ORD><mo>−</mo><mn>1</mn></mrow></msup></math></mjx-assistive-mml></mjx-container> is how we handle the issue of normals changing in unintuitive ways.<h1 id=projections><a href=#projections aria-label="anchor link for projections">#</a> Projections</h1><p>Using the standard viewing coordinates of an eye at the origin looking towards positive <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>z</mi></math></mjx-assistive-mml></mjx-container>, the projection of a point <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c5B></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2C></mjx-c></mjx-mo><mjx-mi class=mjx-i space=2><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2C></mjx-c></mjx-mo><mjx-mi class=mjx-i space=2><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c5D></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>p</mi><mo>=</mo><mo stretchy=false>[</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo>,</mo><mi>z</mi><mo stretchy=false>]</mo></math></mjx-assistive-mml></mjx-container> is<p><mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mrow space=4><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:3.8em;vertical-align:-1.65em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:.572em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:3.8em;vertical-align:-1.65em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>p</mi><mo>=</mo><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mi>z</mi></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c68></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6D></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c67></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c6E></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c73></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mrow space=4><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:.572em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msub><mi>p</mi><mtext>homogeneous</mtext></msub><mo>=</mo><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mi>z</mi></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.12em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c70></mjx-c><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6A></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mrow space=4><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:5em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msub><mi>T</mi><mtext>proj</mtext></msub><mo>=</mo><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mtext class=mjx-n><mjx-c class=mjx-c70></mjx-c><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6A></mjx-c></mjx-mtext><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c68></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6D></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c67></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c6E></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c73></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-msub space=4><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.12em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c70></mjx-c><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6A></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c68></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6D></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c67></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c6E></mjx-c><mjx-c class=mjx-c65></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c75></mjx-c><mjx-c class=mjx-c73></mjx-c></mjx-mtext></mjx-script></mjx-msub><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mrow space=4><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:.572em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mtext>proj</mtext><mo stretchy=false>(</mo><msub><mi>p</mi><mtext>homogeneous</mtext></msub><mo stretchy=false>)</mo><mo>=</mo><msub><mi>T</mi><mtext>proj</mtext></msub><msub><mi>p</mi><mtext>homogeneous</mtext></msub><mo>=</mo><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mi>x</mi></mtd></mtr><mtr><mtd><mi>y</mi></mtd></mtr><mtr><mtd><mi>z</mi></mtd></mtr><mtr><mtd><mi>z</mi></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mtext class=mjx-n><mjx-c class=mjx-c70></mjx-c><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6A></mjx-c></mjx-mtext><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mrow space=4><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:3.8em;vertical-align:-1.65em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:1.537em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:3.8em;vertical-align:-1.65em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mtext>proj</mtext><mo stretchy=false>(</mo><mi>p</mi><mo stretchy=false>)</mo><mo>=</mo><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mi>x</mi><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><mi>z</mi></mtd></mtr><mtr><mtd><mi>y</mi><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><mi>z</mi></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container><p>Notice that we are dividing by <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>z</mi></math></mjx-assistive-mml></mjx-container> in <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mtext class=mjx-n><mjx-c class=mjx-c70></mjx-c><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c6A></mjx-c></mjx-mtext><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45D"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mtext>proj</mtext><mo stretchy=false>(</mo><mi>p</mi><mo stretchy=false>)</mo></math></mjx-assistive-mml></mjx-container>. This is the essence of projection. Farther away objects become smaller.<p>The way we do projection is we take our arbitrary viewing setup / eye, described by a set of 3 (orthogonal basis) <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>x</mi></math></mjx-assistive-mml></mjx-container>, <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>y</mi></math></mjx-assistive-mml></mjx-container>, and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>z</mi></math></mjx-assistive-mml></mjx-container> vectors and a position/offset <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45C"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>o</mi></math></mjx-assistive-mml></mjx-container>. This gives us a viewing transform <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>V</mi></math></mjx-assistive-mml></mjx-container>, which transforms our viewing setup to the origin and converts the basis vectors into the standard normal basis.<p><mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mrow space=4><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:6.3em;vertical-align:-2.9em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:5.072em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-bottom:.2em><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c22EE></mjx-c></mjx-mo></mjx-texatom><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c22EE></mjx-c></mjx-mo></mjx-texatom><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c22EE></mjx-c></mjx-mo></mjx-texatom><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-bottom:.2em><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c22EE></mjx-c></mjx-mo></mjx-texatom><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45C"></mjx-c></mjx-mi><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c22EE></mjx-c></mjx-mo></mjx-texatom><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c22EE></mjx-c></mjx-mo></mjx-texatom><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c22EE></mjx-c></mjx-mo></mjx-texatom><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c22EE></mjx-c></mjx-mo></mjx-texatom><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:6.3em;vertical-align:-2.9em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>V</mi><mo>=</mo><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mrow data-mjx-texclass=ORD><mo>⋮</mo></mrow></mtd><mtd><mrow data-mjx-texclass=ORD><mo>⋮</mo></mrow></mtd><mtd><mrow data-mjx-texclass=ORD><mo>⋮</mo></mrow></mtd><mtd><mrow data-mjx-texclass=ORD><mo>⋮</mo></mrow></mtd></mtr><mtr><mtd><mi>x</mi></mtd><mtd><mi>y</mi></mtd><mtd><mi>z</mi></mtd><mtd><mi>o</mi></mtd></mtr><mtr><mtd><mrow data-mjx-texclass=ORD><mo>⋮</mo></mrow></mtd><mtd><mrow data-mjx-texclass=ORD><mo>⋮</mo></mrow></mtd><mtd><mrow data-mjx-texclass=ORD><mo>⋮</mo></mrow></mtd><mtd><mrow data-mjx-texclass=ORD><mo>⋮</mo></mrow></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container><p>In WebGL this is <code>mat4.lookAt(...)</code>.<p>Then we have our standard projection matrix <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D443"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>P</mi></math></mjx-assistive-mml></mjx-container>.<p><mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D443"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mrow space=4><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:5em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:5.2em;vertical-align:-2.35em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mi>P</mi><mo>=</mo><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd><mtd><mn>0</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container><p>In WebGL this is <code>mat4.perspective(...)</code> or <code>mat4.frustrum(...)</code>.<p>Thus we get our complete projection transformation <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>T</mi></math></mjx-assistive-mml></mjx-container> that takes our viewing setup and converts any world coordinates into projection coordinates <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D447"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mi class=mjx-i space=4><mjx-c class="TEX-I mjx-c1D443"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D449"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>T</mi><mo>=</mo><mi>P</mi><mi>V</mi></math></mjx-assistive-mml></mjx-container>.<p>We're almost done but not quite. Our window is currently from -1 to 1 in both <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>x</mi></math></mjx-assistive-mml></mjx-container>and <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>y</mi></math></mjx-assistive-mml></mjx-container>. To fix this, we have to apply the following transformation<p><mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-mrow><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5B style=height:3.845em;vertical-align:-1.672em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo><mjx-mtable style=min-width:6.264em><mjx-table><mjx-itable><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-bottom:.2em><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D464"></mjx-c></mjx-mi><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-mn class=mjx-n><mjx-c class=mjx-c32></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-bottom:.2em><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45C"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em;padding-bottom:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style="padding:.2em .5em"><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c210E"></mjx-c></mjx-mi><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-mn class=mjx-n><mjx-c class=mjx-c32></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em;padding-bottom:.2em><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45C"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr><mjx-mtr><mjx-mtd style=padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-right:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd><mjx-mtd style=padding-left:.5em;padding-top:.2em><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-tstrut></mjx-tstrut></mjx-mtd></mjx-mtr></mjx-itable></mjx-table></mjx-mtable><mjx-mo class=mjx-n><mjx-stretchy-v class=mjx-c5D style=height:3.845em;vertical-align:-1.672em><mjx-beg><mjx-c></mjx-c></mjx-beg><mjx-ext><mjx-c></mjx-c></mjx-ext><mjx-end><mjx-c></mjx-c></mjx-end><mjx-mark></mjx-mark></mjx-stretchy-v></mjx-mo></mjx-mrow></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><mrow data-mjx-texclass=INNER><mo data-mjx-texclass=OPEN>[</mo><mtable columnspacing=1em rowspacing=4pt><mtr><mtd><mi>w</mi><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><mn>2</mn></mtd><mtd><mn>0</mn></mtd><mtd><msub><mi>o</mi><mi>x</mi></msub></mtd></mtr><mtr><mtd><mn>1</mn></mtd><mtd><mi>h</mi><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><mn>2</mn></mtd><mtd><msub><mi>o</mi><mi>y</mi></msub></mtd></mtr><mtr><mtd><mn>0</mn></mtd><mtd><mn>0</mn></mtd><mtd><mn>1</mn></mtd></mtr></mtable><mo data-mjx-texclass=CLOSE>]</mo></mrow></math></mjx-assistive-mml></mjx-container><p>In WebGL this is <code>gl.viewport(...)</code>.<p><em>Note:</em> Every model is defined with its own arbitrary origin. So to not have all of these models overlap, we have to first transform the model coordinates to world coordinates using that model's specific offset. These are done in WebGL using the using the standard <code>mat4.{translate,scale,rotate}(...)</code>.<p>This gives us a final pipeline of:<ol><li>Model Coordinates</ol><ul><li>Modeling Transform</ul><ol><li>World Coordinates</ol><ul><li>Viewing Transform</ul><ol><li>Viewing Coordinates</ol><ul><li>Projection Transform</ul><ol><li>Normalized Device Coordinates</ol><ul><li>Viewport Transform</ul><ol><li>Device Coordinates</ol><h2 id=parallel-vs-perspective-projections><a href=#parallel-vs-perspective-projections aria-label="anchor link for parallel-vs-perspective-projections">##</a> Parallel vs Perspective Projections</h2><p>For certain aesthetic or functional reasons, you might need to choose between <strong>parallel</strong> and <strong>perspective</strong> projections.<p>In parallel/orthographic projections, the eye is a plane and all view vectors are parallel. In perpsective projections, the eye is a point and no view vectors are parallel.<p>Perspective projection approaches perspective projection as you get farther and farther away.<h1 id=hardware-the-graphics-pipeline><a href=#hardware-the-graphics-pipeline aria-label="anchor link for hardware-the-graphics-pipeline">#</a> Hardware & The Graphics Pipeline</h1><p>In OpenGL 3, there were two programmable shaders: the <strong>vertex shader</strong> and <strong>fragment shader</strong>. They are run in that order.<p>In OpenGL 3, they added a <strong>geometry shader</strong> between the vertex and fragment shader. And they were run in that order. The geometry shader is often unused because it forced a specific ordering on your fragments which slows down performance. Although WebGL is based off of OpenGL 3, it does not have the geometry shader.<p>In OpenGL 4, a <strong>tessellation shader</strong> was added. It takes high level surface specifications (e.g. spline patches) and then convert them to triangles. This is used to reduce the number of data passed in.<p>One reason that GPUs are fast is because of <strong>pipeline parallelism</strong>. That is they split the many steps needed to do rendering into steps and then do those steps on different things at the same time, instead of waiting for one shape to make it through the entire pipeline before starting the new one.<p>One disadvantage of pipelining is that it is almost impossible to balance loads, there is significant bandwidth use from transferring data from piece to piece, and likewise there is significant start-up and shut-down costs. It also cannot do <em>cull optimization</em>, where we skip certain steps if we discover they're unnecessary.<p>There is another optimization called <strong>SIMD parallelism</strong>. It applies a Single operation/Instruction to Multiple pieces of Data without moving the data. It is good because you don't have to transfer data from place to place like in a pipeline. You also don't have to balance loads because there is only a single place doing the work. However, it fails if you have one piece of data that has to do different operation (e.g. one vertex has to be clipped but not all). It also struggles to broadcast data to every piece of data it's acting on.<p><strong>NIMD parallelism</strong> is what happens when you use both.<p>There is another part of GPUs called the <strong>compute shader</strong>. They allow the GPU to be used for general purpose computing, that is things that are not specifically graphics, for example machine learning.<h1 id=shading><a href=#shading aria-label="anchor link for shading">#</a> Shading</h1><p>Shading is the process of determining the color of a piece of a polygon, called a fragment (triangle).<p>For shockingly long, we had no hardware support for dealing with fragments and their shading. There was only vertex transformations, and eventually some support for vertex lighting.<p>There are many different shading methods.<p>The simplest shading method is called <strong>flat</strong> (i.e. per-triangle) shading. Each triangle has its own normal and that normal is used for every fragment's pixel in the fragment shader. This results in sharp facets/edges between triangles, which we don't want in general.<p>There's another method called <strong>Gouraud</strong> (i.e. per-vertex) shading. The idea is you calculate the shading at each vertex using the vertex normals and then interpolate colors. This results in smoother colors but with the facets/edges still somewhat visible.<p><em>How do we get the vertex normal?</em> If we're tessellating a patch we might be lucky enough to be able to directly calculate the normals. Otherwise, we can take the average of all the surrounding face normals.<p>Yet another method is called <strong>Phong</strong> (i.e. per-fragment) shading. The idea is you use the normal vectors at the vertex and interpolate the 3 vertex normals of the triangle your in, at your position. This results in <em>much</em> smoother shading with no obvious facets/edges, much better than even Gouraud shading. This was the first shading technique where specular highlights really looked good. Note that you must always re-normalize your interpolated normal vector in order to ensure it is always a unit vector, otherwise they might end up too short and result in weird/dim lighting because of that.<p><em>Note:</em> Unlike Gouraud shading, Phong shading wasn't possible to do interactively until decades after his death once hardware caught up. This should make sense because with Gouraud shading, you're calculating very few colors and just doing basic interpolation to get the colors of every fragment. However, with Phong you're not only performing all the normal calculations but also interpolating vectors and normalizing them.<p><em>Note:</em> In practice, you only want either Phong shading, because it's so smooth, or flat shading, for the aesthetic. Gouraud shading is just a less smooth smooth shading algorithm than Phong shading.<h2 id=smooth-objects-vs-non-smooth-objects><a href=#smooth-objects-vs-non-smooth-objects aria-label="anchor link for smooth-objects-vs-non-smooth-objects">##</a> Smooth Objects vs Non-smooth Objects</h2><p>Sometimes, the smooth shading models of Gouraud and Phong shading look terrible, for example with sharply angled shapes or shapes that are not supposed to be smooth. Since these models try to smooth out edges, they can look wrong or with sharply angled shapes, very weird. For example, with a cube those shading models will shade the cube almost as if it were a super low-poly sphere.<h1 id=texturing-texture-mapping><a href=#texturing-texture-mapping aria-label="anchor link for texturing-texture-mapping">#</a> Texturing / Texture Mapping</h1><p>Texture mapping is the process of adding colors to models. In its simplest form, you are just wrapping some 2D image around a surface.<p>This process can be extended with alpha which allows parts of the model to be partially or fully transparent. Likewise it can be extended with bump mapping, which allows texture mapping affect lighting calculations. There are also the techniques of shadow mapping and relief mapping.<p>What makes texture mapping possible is having a mathematically well-defined coordinate system for the surface of a model.<p>For clarity, we call the pixels in the texture <strong>texels</strong> and use <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D462"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>u</mi></math></mjx-assistive-mml></mjx-container>-<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D463"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>v</mi></math></mjx-assistive-mml></mjx-container> coordinates rather than <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D465"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>x</mi></math></mjx-assistive-mml></mjx-container>-<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D466"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>y</mi></math></mjx-assistive-mml></mjx-container> coordinates. Then, each vertex on a model gets a set of <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D462"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>u</mi></math></mjx-assistive-mml></mjx-container>-<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D463"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>v</mi></math></mjx-assistive-mml></mjx-container> coordinates describing what part of the texture should be mapped to it. Then, in the fragment shader, you get the interpolated <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D462"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>u</mi></math></mjx-assistive-mml></mjx-container>-<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D463"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>v</mi></math></mjx-assistive-mml></mjx-container> coordinate of your triangle's vertexes.<h2 id=getting-u-v-coordinates><a href=#getting-u-v-coordinates aria-label="anchor link for getting-u-v-coordinates">##</a> Getting <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D462"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>u</mi></math></mjx-assistive-mml></mjx-container>-<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D463"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>v</mi></math></mjx-assistive-mml></mjx-container> Coordinates</h2><p><em>Where do we get these <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D462"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>u</mi></math></mjx-assistive-mml></mjx-container>-<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D463"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>v</mi></math></mjx-assistive-mml></mjx-container> coordinates?</em> If you're using spline patches, you get those "for free" by just defining the <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D462"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>u</mi></math></mjx-assistive-mml></mjx-container>-<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D463"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>v</mi></math></mjx-assistive-mml></mjx-container> coordinates for the corners of your patch.<p>If you aren't doing that, we can do a 2-stage approach. First, you map the texture to a simple shape logically containing that object in its center. Then, you map that simple shapes texture onto the object. You want the simple shape to as closely match the object's shape as possible.<p>If your object or texture is more complicated such that a 2-stage approach won't work, you have to manually build up the texture mapping. There are tools and techniques to make this easier. For example, you can break the object's surface into chunks and texture the chunks. These chunks' textures may then be stored separately or packed into a single image.<h2 id=applying-textures><a href=#applying-textures aria-label="anchor link for applying-textures">##</a> Applying Textures</h2><p><em>Given a <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D462"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>u</mi></math></mjx-assistive-mml></mjx-container>-<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D463"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>v</mi></math></mjx-assistive-mml></mjx-container> coordinate, how do we look up the color?</em> This seems simple but is surprisingly difficult because your coordinates are unlikely to line up perfectly with a texel. Additionally, in screen space we are looking at simple pixels (i.e. squares), but due to perspective projection these might actually be notably skewed in texture space.<p>There's broadly two ways this can arise: <strong>magnification</strong> and <strong>minification</strong>. Magnification is when the pixel is smaller than the texel and you have to expand the texture. Minification is when the pixel spans multiple texels.<h3 id=magnification-nearest-neighbor-vs-linear-interpolation><a href=#magnification-nearest-neighbor-vs-linear-interpolation aria-label="anchor link for magnification-nearest-neighbor-vs-linear-interpolation">###</a> Magnification: Nearest Neighbor vs Linear Interpolation</h3><p>The two common ways to handle magnification, that is when your pixel falls within a texel, is either using nearest neighbor or linear interpolation. For nearest neighbor, you just pick the closest texel and use it exactly. This tends to be very fast but often looks bad with sharp lines and aliasing. Linear interpolation means you interpolate the color of the pixel from the neighboring texels. This is slower but often yields smoother, more attractive textures. <em>Note:</em> For certain styles, like pixel-art or pixelated styles, you want to use nearest neighbor to get sharp colors.<p>In OpenGL, you can pick between these two methods with <code>glTexParameteri(...)</code> by choosing either <code>GL_NEAREST</code> or <code>GL_LINEAR</code>.<p><em>Note:</em> Generally, magnification is somewhat unsolved. That is we can't zoom in infinitely. We're limited by the quality of our imagery / textures.<h3 id=minification-mipmapping><a href=#minification-mipmapping aria-label="anchor link for minification-mipmapping">###</a> Minification: Mipmapping</h3><p><em>Note:</em> It feels like minification might only happen at a distance where the objects themselves seem very small so of course the pixels cover many texels. However, it's important to realize that minification also occurs when looking at things side-long / almost tangent to the surface because then again<p>For minification, we have the opposite issue where we have several texels within a single pixel. This has the issue of sharp edges tend to either get lost or even worse become spotty, as only some of the pixels pick the edge texel or none of them pick it strongly. This can be fixed with <strong>mipmapping</strong>. MIP is short for multum in parvo (i.e. many in a small place).<p>Logically, mipmapping is the process of averaging the values of all the texels within the pixel. However, this is difficult to do in real time, so instead mipmapping has pre-computed scaled down versions of the texture (normally two times scaling at each level). Each of these scales has a <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>d</mi></math></mjx-assistive-mml></mjx-container> value which describes how much of the texture a single texel takes up. So it is <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-msup><mjx-mn class=mjx-n><mjx-c class=mjx-c36></mjx-c><mjx-c class=mjx-c34></mjx-c></mjx-mn><mjx-script style=vertical-align:.404em><mjx-mn class=mjx-n size=s><mjx-c class=mjx-c32></mjx-c></mjx-mn></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mn>1</mn><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><msup><mn>64</mn><mn>2</mn></msup></math></mjx-assistive-mml></mjx-container> for a 64 by 64 texture.<p>Then, at runtime you determine your pixels size in texture space <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>d</mi></math></mjx-assistive-mml></mjx-container> as a proportion of the texture, pick the appropriate texture scale, and then use that texture as normal. (You don't need to exactly know your pixel size, just an approximation.)<p><em>How do you pick the appropriate texture scale?</em> You want to match the size of your texels to that of your pixels. So if your pixel takes up <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-msup><mjx-mn class=mjx-n><mjx-c class=mjx-c33></mjx-c><mjx-c class=mjx-c32></mjx-c></mjx-mn><mjx-script style=vertical-align:.393em><mjx-mn class=mjx-n size=s><mjx-c class=mjx-c32></mjx-c></mjx-mn></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mn>1</mn><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><msup><mn>32</mn><mn>2</mn></msup></math></mjx-assistive-mml></mjx-container> of the pixel, you want to use the 32 by 32 version of the texture.<p>Of course you almost never line up exactly with a given scale, so you have to do something to figure that out. For <strong>trilinear</strong> mipmapping, you need to look at the two values of <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>d</mi></math></mjx-assistive-mml></mjx-container> you're straddling. Then, you find the color of your pixel in those two levels and do linear interpolation of those colors using your value of <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>d</mi></math></mjx-assistive-mml></mjx-container> and the two levels values of <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>d</mi></math></mjx-assistive-mml></mjx-container>. This results in a much smoother image with severe aliasing. It does result in things fading at a distance.<p>You can still have smoother images with less aliasing without things fading by using <strong>anisotropic</strong> filtering. This means you don't average over as much of the texture which leads to images still being sharp far away. Basically, this is just a better approximation of the size of the pixel in texture space.<h2 id=wrapping><a href=#wrapping aria-label="anchor link for wrapping">##</a> Wrapping</h2><p><em>What happens if our texture coordinates exit the 0 to 1 range?</em> There are three main ways: repeating, mirroring, and clamping. These should hopefully be intuitive by name. For repeating, you do mod and cycle the texture. For mirroring you start going down in coordinates. For clamping you just take either 0 or 1 if you're outside of the range.<p>Normally you won't really want to use clamping if you're expecting the texture coordinates to go far beyond the range. However, repeating and mirroring often times look very repetitive or plain.<h2 id=lighting-multi-texturing><a href=#lighting-multi-texturing aria-label="anchor link for lighting-multi-texturing">##</a> Lighting & Multi-texturing</h2><p>Normally we'll want to either <strong>modulate</strong> or <strong>replace</strong> the color. For modulate, we use the Blinn-Phong illumination using the color of the texture as the material. Or alternatively, multiply the color from the texture by the color of the fragment after illumination. For replace, we simply set the color to be that of the texture.<p><em>Note:</em> We <em><strong>multiply</strong></em> the color rather than averaging. This results in a much more intuitive and attractive combination.<p>You can also overlay textures (often pre-computed light textures) to improve the quality. You do the same strategy here as you would for modulating the color using the Blinn-Phong lighting model, just the lighting gotten from a pre-computed texture. This is called <strong>light mapping</strong>.<h1 id=hidden-surface-removal><a href=#hidden-surface-removal aria-label="anchor link for hidden-surface-removal">#</a> Hidden Surface Removal</h1><p>With rasterization, you don't get occlusion for free. That is, by default with rasterization you render and display all objects no matter if something is blocking them or not and the "winning" object (i.e. the one actually displayed) is just the one rendered last. Hidden surface removal is the process of hiding or not displaying the parts of the image you cannot see.<h2 id=back-face-culling><a href=#back-face-culling aria-label="anchor link for back-face-culling">##</a> Back-face Culling</h2><p>One way to do partial hidden surface removal is <strong>back-face culling</strong>. For this, you simply don't render triangles which are occluded. This has the benefit on cutting down on the number of objects rendered.<p><em>How do we determine if a triangle is back-facing, that is should be culled?</em> The simplest way is to take the dot product of the view vector (from collision to eye) and the normal vector of the collision. If it's negative, then the triangle is back-facing.<p><em>How do we know the normal vector of the triangle?</em> The model could tell us. Alternatively, we could choose a convention so that we can tell the facing by the order of the triangle's vertexes. Typically, we say a triangle is facing you if the vertexes are winding counterclockwise and is facing away from you if they're clockwise.<p>Back-face culling is not a full solution to hidden surface however. For one, this does assume that we never want to see the back faces of a model. This is true for closed models but not for open ones. Additionally, this does not work if we have have <em>occluded front-faces</em>. For example consider looking at a torus/donut from the side, both the inside and outside of the donut are facing us but we only want to see the outside.<h2 id=painters-algorithm><a href=#painters-algorithm aria-label="anchor link for painters-algorithm">##</a> Painters Algorithm</h2><p>The painters algorithm renders objects in order of depth, from farthest to closet by sorting all the triangles by view depth (i.e. distance from eye) first before rendering. This naturally means that the farthest objects will be overwritten/occluded by the closest objects as desired.<p>This has a problem for intersecting polygons or polygons where neither one is clearly in front of the others, for example with cyclic relationships, like with the lid on a cardboard box. Also, sorting every single frame is somewhat slow.<p>Then if you try to sort by pixel it's even harder.<h2 id=z-buffering><a href=#z-buffering aria-label="anchor link for z-buffering">##</a> Z-buffering</h2><p>The most common technique to do this is called <strong>z-buffering</strong>. This is mostly implemented in hardware at this point, which is why it's so fast and common.<p>Logically, every single fragment has a <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>z</mi></math></mjx-assistive-mml></mjx-container> value and those with the closest <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>z</mi></math></mjx-assistive-mml></mjx-container> value (past the near clipping plane) are picked as the winning fragment to be rendered.<p>Implementation wise, you add a <strong>depth buffer</strong> or <strong>z-buffer</strong>, alongside the frame buffer, which is initialized with max <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>z</mi></math></mjx-assistive-mml></mjx-container>. Then, for every fragment you take their <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>z</mi></math></mjx-assistive-mml></mjx-container> value <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c67></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>z</mi><mtext>frag</mtext></msub></math></mjx-assistive-mml></mjx-container> and compare it to the current value in the z-buffer. If it is lower/closer (and past the near clipping plane), you put that fragment's color to the frame buffer and update the z buffer with your <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D467"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em><mjx-mtext class=mjx-n size=s><mjx-c class=mjx-c66></mjx-c><mjx-c class=mjx-c72></mjx-c><mjx-c class=mjx-c61></mjx-c><mjx-c class=mjx-c67></mjx-c></mjx-mtext></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>z</mi><mtext>frag</mtext></msub></math></mjx-assistive-mml></mjx-container><p><strong>Pros:</strong> Z-buffering is really fast (linear) and you can render triangles in any order.<p><strong>Cons:</strong> You have issues if the depth is identical where the winning object will be chosen arbitrarily, called <strong>z-fighting</strong> (a modelling issue, easy to avoid). This is especially bad if you have low-resolution depth information (e.g. with very far away objects). It's also inefficient with high depth complexity because you're gonna spend a lot of time rendering objects that will never be shown. Z-buffering also doesn't work well with transparency (naively).<h2 id=binary-space-partition-bsp-tree-depth-sort><a href=#binary-space-partition-bsp-tree-depth-sort aria-label="anchor link for binary-space-partition-bsp-tree-depth-sort">##</a> Binary Space Partition (BSP) Tree Depth Sort</h2><p>Logically, a BSP is a data structure that allows us to efficiently (<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D442"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>O</mi><mo stretchy=false>(</mo><mi>n</mi><mo stretchy=false>)</mo></math></mjx-assistive-mml></mjx-container>) traverse in either far to near order (for hidden surface removal that respects alpha) or near to far order (to limit overdraw). We will show a method of constructing a BSP which is <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D442"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi><mjx-mi class=mjx-n space=2><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c67></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2061></mjx-c></mjx-mo><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>O</mi><mo stretchy=false>(</mo><mi>n</mi><mi>log</mi><mo data-mjx-texclass=NONE>⁡</mo><mo stretchy=false>(</mo><mi>n</mi><mo stretchy=false>)</mo><mo stretchy=false>)</mo></math></mjx-assistive-mml></mjx-container>. Note that a BSP is completely re-usable for any eye location in the set of objects.<p>To construct a binary space partition, choose an arbitrary polygon and make it the root. Then split the space into polygons in front of the root and those behind the root. If a polygon is on both sides then it must be split. The front is one side of the tree and the back is the other. Then you recurse to those subtrees.<p><em>Note:</em> We can have heuristics that help us choose the root polygon to more evenly split the space to be more efficient. Tho sometimes bad partitions are inevitable. Consider for example a convex shape like a dodecahedron. No matter what face you choose, all of the faces are on the other side.<p>Also, notice that this doesn't work in the naive way of repeating cubes. This way is more efficient by respecting the geometry of the triangles.<p>To traverse a BSP, compare the eye to the root of the tree. Recurse towards the side nearer (or farther) the eye, output the current root polygon, and then recurse towards the side farther (or nearer) the eye.<p><strong>Pros:</strong> Fast (<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D442"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>O</mi><mo stretchy=false>(</mo><mi>n</mi><mo stretchy=false>)</mo></math></mjx-assistive-mml></mjx-container>) to traverse. Helps transparency and overdraw.<p><strong>Cons:</strong> Slow (<mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D442"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi><mjx-mi class=mjx-n space=2><mjx-c class=mjx-c6C></mjx-c><mjx-c class=mjx-c6F></mjx-c><mjx-c class=mjx-c67></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c2061></mjx-c></mjx-mo><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45B"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>O</mi><mo stretchy=false>(</mo><mi>n</mi><mi>log</mi><mo data-mjx-texclass=NONE>⁡</mo><mo stretchy=false>(</mo><mi>n</mi><mo stretchy=false>)</mo><mo stretchy=false>)</mo></math></mjx-assistive-mml></mjx-container>) to construct tree. Doesn't work well with dynamic scenes. Also, poor choices of roots (e.g. creates lots of splits, doesn't evenly split the area) yield poor performance.<h1 id=displays><a href=#displays aria-label="anchor link for displays">#</a> Displays</h1><p>A <strong>vector display</strong> has no pixels. Instead, you have a stateful drawing head which you move (either drawing or not) using vectors. These are also called <em>random displays</em> since you can draw the display in any order. These predate raster displays. A modern example of vector displays are EKGs, pen plotters, and CNC routers.<p>A <strong>raster display</strong> has a regular scan that go over a regular array of pixels. Although modern displays don't actually require a physical scan over their pixels, we still do it for backwards compatibility reasons. Raster displays have become the most common kind of display. Let's go over their pros and cons.<p><strong>Pros:</strong><ul><li>Raster displays allow the display update speed to be different than the image update speed (i.e. refresh rate != frame rate). This means your display won't flicker when drawing complex things.<li>Raster displays are significantly faster than vector displays.<li>Raster displays can fill in shapes easily, while vector displays can really only draw wireframes.<li>Raster displays can have much more complex colors more easily. Vector displays struggle significantly to do color.</ul><p><strong>Cons:</strong><ul><li>Raster displays have significant aliasing, especially with large pixels.</ul><p>However, there are alternatives to both vector and raster displays. Most alternatives focus on having lower latency than current displays, driven primarily by video conferencing and virtual reality.<p><strong>Plasma displays</strong> were invented in the 60s and most popular in the 80s and 90s. Their main benefit is they allow for <strong>partial updates</strong>, where you can update only the parts of the screen that have updated, rather than having to stream all the pixels all the time. They can do this because the display itself "remembers" what was displayed. They fell out of favor because they suffered from severe burn in, were expensive, and were generally outclassed by cheaper LCD screens or higher quality OLED screens.<p><strong>High dynamic range (HDR) displays</strong> are displays with a significantly larger range of brightness, normally <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mn class=mjx-n><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-texatom texclass=ORD><mjx-mi class=mjx-n><mjx-c class=mjx-c65></mjx-c></mjx-mi></mjx-texatom><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mn class=mjx-n><mjx-c class=mjx-c34></mjx-c></mjx-mn></mjx-texatom></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mn>5</mn><mrow data-mjx-texclass=ORD><mi mathvariant=normal>e</mi></mrow><mrow data-mjx-texclass=ORD><mo>−</mo><mn>4</mn></mrow></math></mjx-assistive-mml></mjx-container> to <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-texatom texclass=ORD><mjx-mi class=mjx-n><mjx-c class=mjx-c65></mjx-c></mjx-mi></mjx-texatom><mjx-texatom texclass=ORD><mjx-mn class=mjx-n><mjx-c class=mjx-c35></mjx-c></mjx-mn></mjx-texatom></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mn>1</mn><mrow data-mjx-texclass=ORD><mi mathvariant=normal>e</mi></mrow><mrow data-mjx-texclass=ORD><mn>5</mn></mrow></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D450"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-msup><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45A"></mjx-c></mjx-mi><mjx-script style=vertical-align:.363em><mjx-mn class=mjx-n size=s><mjx-c class=mjx-c32></mjx-c></mjx-mn></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>c</mi><mi>d</mi><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><msup><mi>m</mi><mn>2</mn></msup></math></mjx-assistive-mml></mjx-container> instead of <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mn class=mjx-n><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-texatom texclass=ORD><mjx-mi class=mjx-n><mjx-c class=mjx-c65></mjx-c></mjx-mi></mjx-texatom><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2212></mjx-c></mjx-mo><mjx-mn class=mjx-n><mjx-c class=mjx-c32></mjx-c></mjx-mn></mjx-texatom></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mn>5</mn><mrow data-mjx-texclass=ORD><mi mathvariant=normal>e</mi></mrow><mrow data-mjx-texclass=ORD><mo>−</mo><mn>2</mn></mrow></math></mjx-assistive-mml></mjx-container> to <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mn class=mjx-n><mjx-c class=mjx-c31></mjx-c></mjx-mn><mjx-texatom texclass=ORD><mjx-mi class=mjx-n><mjx-c class=mjx-c65></mjx-c></mjx-mi></mjx-texatom><mjx-texatom texclass=ORD><mjx-mn class=mjx-n><mjx-c class=mjx-c33></mjx-c></mjx-mn></mjx-texatom></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mn>1</mn><mrow data-mjx-texclass=ORD><mi mathvariant=normal>e</mi></mrow><mrow data-mjx-texclass=ORD><mn>3</mn></mrow></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D450"></mjx-c></mjx-mi><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D451"></mjx-c></mjx-mi><mjx-texatom texclass=ORD><mjx-mo class=mjx-n><mjx-c class=mjx-c2F></mjx-c></mjx-mo></mjx-texatom><mjx-msup><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45A"></mjx-c></mjx-mi><mjx-script style=vertical-align:.363em><mjx-mn class=mjx-n size=s><mjx-c class=mjx-c32></mjx-c></mjx-mn></mjx-script></mjx-msup></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>c</mi><mi>d</mi><mrow data-mjx-texclass=ORD><mo>/</mo></mrow><msup><mi>m</mi><mn>2</mn></msup></math></mjx-assistive-mml></mjx-container> (i.e. 4 more orders of magnitude). These are becoming commercially available today.<p><strong>Near-eye light field displays</strong> are displays which are meant to be comfortable up close. Currently, virtual reality displays are fairly bulky in part due to the large lenses that must go in front of the display for them to be comfortable to look at. However, with near-eye light field displays, you can have a display roughly 1cm thick right against your eye that is still comfortable to look at. Nvidia has been doing research on this in particular. These work by having a micro-lense array that cover a traditional OLED array that presents several views of an image from slightly different angles. When close to your eye, we perceive this as a single image.<p>Since the same image must be rendered from several different views, this complicates rendering and makes rasterization in particular difficult. It also significantly reduces the perceived spatial resolution because you're essentially getting a smaller screen to render onto.<p>However, this does solve the <em>vergence-accommodation conflict</em> issue that affects current VR. Vergence is about stereoscopy and accommodation is about having one object (of your choice) in focus. So the conflict is where we have stereoscopic information but cannot independently focus on objects in the scene. This messes with our brain's depth sensing machinery and can cause nausea or headaches in users of VR as well as inaccurate depth perception.<h1 id=images><a href=#images aria-label="anchor link for images">#</a> Images</h1><h2 id=transparency><a href=#transparency aria-label="anchor link for transparency">##</a> Transparency</h2><p>Normally, to describe colors we use <strong>red-green-blue (RGB)</strong>. However, this can be enhanced with transparency into <strong>red-green-blue-alpha (RGBA)</strong>.<p>Suppose you have some fragment in front of an already colored buffer. To find the new color given some transparency <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D6FC"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>α</mi></math></mjx-assistive-mml></mjx-container>, you do $$\text{color}<em>\text{new} = \alpha\text{color}</em>\text{new} + (1-\alpha)\text{color}_\text{buf}$$<p>Notice that with this formulation, order matters! This is good because it's also what we'd naturally want.<p>Suppose you have a blue buffer <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>b</mi></math></mjx-assistive-mml></mjx-container> with a red <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>r</mi></math></mjx-assistive-mml></mjx-container> and green <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D454"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>g</mi></math></mjx-assistive-mml></mjx-container> fragment both with <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D6FC"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mn class=mjx-n space=4><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><mi>α</mi><mo>=</mo><mn>0.5</mn></math></mjx-assistive-mml></mjx-container>. If you put red first <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45F"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>C</mi><mi>r</mi></msub></math></mjx-assistive-mml></mjx-container>, then you get a redder color. If you put green first <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative><mjx-math aria-hidden=true class=MJX-TEX><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D454"></mjx-c></mjx-mi></mjx-script></mjx-msub></mjx-math><mjx-assistive-mml display=inline unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML><msub><mi>C</mi><mi>g</mi></msub></math></mjx-assistive-mml></mjx-container>, then you get a greener color. <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D45F"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mn class=mjx-n space=4><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45F"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D454"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44F"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mn class=mjx-n space=4><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45F"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c32></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D454"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c32></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msub><mi>C</mi><mi>r</mi></msub><mo>=</mo><mn>0.5</mn><mi>r</mi><mo>+</mo><mn>0.5</mn><mo stretchy=false>(</mo><mn>0.5</mn><mi>g</mi><mo>+</mo><mn>0.5</mn><mi>b</mi><mo stretchy=false>)</mo><mo>=</mo><mn>0.5</mn><mi>r</mi><mo>+</mo><mn>0.25</mn><mi>g</mi><mo>+</mo><mn>0.25</mn><mi>b</mi></math></mjx-assistive-mml></mjx-container> <mjx-container class=MathJax jax=CHTML style=font-size:113.1%;position:relative display=true><mjx-math aria-hidden=true class=MJX-TEX display=true style=margin-left:0;margin-right:0><mjx-msub><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D436"></mjx-c></mjx-mi><mjx-script style=vertical-align:-.15em;margin-left:-.045em><mjx-mi class=mjx-i size=s><mjx-c class="TEX-I mjx-c1D454"></mjx-c></mjx-mi></mjx-script></mjx-msub><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mn class=mjx-n space=4><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D454"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mo class=mjx-n><mjx-c class=mjx-c28></mjx-c></mjx-mo><mjx-mn class=mjx-n><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45F"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44F"></mjx-c></mjx-mi><mjx-mo class=mjx-n><mjx-c class=mjx-c29></mjx-c></mjx-mo><mjx-mo class=mjx-n space=4><mjx-c class=mjx-c3D></mjx-c></mjx-mo><mjx-mn class=mjx-n space=4><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D454"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c32></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D45F"></mjx-c></mjx-mi><mjx-mo class=mjx-n space=3><mjx-c class=mjx-c2B></mjx-c></mjx-mo><mjx-mn class=mjx-n space=3><mjx-c class=mjx-c30></mjx-c><mjx-c class=mjx-c2E></mjx-c><mjx-c class=mjx-c32></mjx-c><mjx-c class=mjx-c35></mjx-c></mjx-mn><mjx-mi class=mjx-i><mjx-c class="TEX-I mjx-c1D44F"></mjx-c></mjx-mi></mjx-math><mjx-assistive-mml display=block unselectable=on><math xmlns=http://www.w3.org/1998/Math/MathML display=block><msub><mi>C</mi><mi>g</mi></msub><mo>=</mo><mn>0.5</mn><mi>g</mi><mo>+</mo><mn>0.5</mn><mo stretchy=false>(</mo><mn>0.5</mn><mi>r</mi><mo>+</mo><mn>0.5</mn><mi>b</mi><mo stretchy=false>)</mo><mo>=</mo><mn>0.5</mn><mi>g</mi><mo>+</mo><mn>0.25</mn><mi>r</mi><mo>+</mo><mn>0.25</mn><mi>b</mi></math></mjx-assistive-mml></mjx-container><p>This complicates rasterization because then we must sort by depth. That is, first you render all the opaque triangles with z-buffering. Then, render the transparent triangles from back to front. While rendering the triangles, turn off z-write and render the frontmost triangles (i.e. not occluded) without updating the z-buffer values.<h2 id=frame-buffer><a href=#frame-buffer aria-label="anchor link for frame-buffer">##</a> Frame Buffer</h2><p>Raster displays have a <strong>frame buffer</strong> which is the raw image data of the image on the display. (This normally exists on the GPU.) To put images onto the display, you have to write the image data to the frame buffer. The display then displays out the content of the frame buffer while it is scanning.<p>This is part of what enables raster displays to separate display refresh rate from frame (update) rate.<p>However, this has a flaw: <strong>screen tearing</strong>. When the frame buffer updates in the middle of a display refresh, there are multiple frames being displayed at the same time. This is unattractive, so we want some way to <em>synchronize</em> display updates with frame buffer updates.<h3 id=double-buffering-vsync><a href=#double-buffering-vsync aria-label="anchor link for double-buffering-vsync">###</a> Double Buffering / Vsync</h3><p>The simplest way to do this through something called <strong>double buffering</strong> or <strong>vsync</strong>. Here, you have two buffers: the <strong>front buffer</strong> and the <strong>back buffer</strong>. The display only reads from the front buffer while the GPU reads from the back buffer. Then, we do a buffer swap when the is done displaying the front buffer (a so called <strong>vertical sync</strong> or <strong>vsync</strong>), we swap the buffers.<p>This method has one main issue: delay / latency. Your GPU has to wait for the display to finish displaying the frame (a vsync) before rendering the next frame.<p>We can mitigate this by <strong>triple buffering</strong>. In fact, you could go on and on forever to attempt to reduce tearing! This results in smoother motion at expense of increased latency.<h3 id=g-sync-freesync><a href=#g-sync-freesync aria-label="anchor link for g-sync-freesync">###</a> G-Sync / FreeSync</h3><p>Another newer way to solve this issue is by flipping the relationship. That is, the GPU tells the monitor when to do another scan rather than the monitor telling the GPU when to render another frame. This results in no screen tearing and also less latency than double-buffering.<p>This was initially developed by Nvidia under the name G-Sync but there is an open alternative called FreeSync which was initially developed by AMD.<h2 id=stenciling><a href=#stenciling aria-label="anchor link for stenciling">##</a> Stenciling</h2><p><strong>Stenciling</strong> is a technique of clipping renders to only be inside a certain area or <em>stencil</em>. This is most often useful for reflections in rasterization.<p>Suppose you are looking at an object over a large reflective disk. A common way to render the reflection is by reflecting your viewport across the reflection plane and rendering the object again.<p>However, naively this would result in the object being visible outside of just the reflective disk. If we add a stencil of the shape of the reflective disk in our eyesight and only render the reflection within that stencil, then we see the reflection as desired.<p>This works by having a stencil buffer that you write into and check before outputting/rendering the color.</article>