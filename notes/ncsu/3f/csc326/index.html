<!DOCTYPE html><html lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Eli | CSC 326: Software Engineering</title><link href=/styles.css rel=stylesheet><link href=/favicon-32.png rel=icon sizes=32x32><link href=/favicon-128.png rel=icon sizes=128x128><link href=/favicon-180.png rel=icon sizes=180x180><link href=/favicon-192.png rel=icon sizes=192x192><nav><h2><a href=/ >e l i</a></h2><ul><li><a href=/blog/ >blog</a><li><a href=/projects/ >projects</a><li><a href=/notes/ >notes</a></ul></nav><article><header><h1 class=title>CSC 326: Software Engineering</h1><p>Instructor: Dr. Sarah Heckman | Semester: Fall 2020<p><h3>Table of Contents</h3><ul><li><a href=#administrivia>Administrivia</a><li><a href=#bugs-issues>Bugs & Issues</a><li><a href=#maven>Maven</a><li><a href=#coffeemaker-tools>CoffeeMaker Tools</a><li><a href=#requirements-engineering>Requirements Engineering</a><li><a href=#testing>Testing</a><li><a href=#design>Design</a><li><a href=#rest-apis>REST APIs</a><li><a href=#architectural-patterns>Architectural Patterns</a><li><a href=#human-computer-interaction-hci>Human Computer Interaction (HCI)</a><li><a href=#persistent-data-databases>Persistent Data / Databases</a><li><a href=#web-frontend>Web Frontend</a><li><a href=#presentations>Presentations</a><li><a href=#code-inspections-review>Code Inspections/Review</a><li><a href=#software-process-models>Software Process Models</a><li><a href=#planning-project-management>Planning & Project Management</a><li><a href=#security-privacy>Security & Privacy</a><li><a href=#maintenance>Maintenance</a><li><a href=#software-engineering-economics>Software Engineering Economics</a><li><a href=#unconscious-bias>(Unconscious) Bias</a><li><a href=#design-patterns>Design Patterns</a><li><a href=#configuration-management>Configuration Management</a><li><a href=#continuous-integration-continuous-deployment>Continuous Integration / Continuous Deployment</a><li><a href=#microservices>Microservices</a><li><a href=#design-metrics>Design Metrics</a><li><a href=#performance-monitoring>Performance & Monitoring</a></ul></header><h1 id=administrivia><a href=#administrivia aria-label="anchor link for administrivia">#</a> Administrivia</h1><table><thead><tr><th>Weight<th>Component<th>Additional Info<tbody><tr><td>20%<td>Onboarding (OBP)<td>Aug 13 - Sept 30<tr><td>40%<td>Team Projects (TP)<td>Sept 30 - Nov 11<tr><td>40%<td>Weekly Quizzes<td>During the week. Can make 3 up.</table><ul><li>No exams! Just quizzes. :)<li>Notify for absences, especially for lab.<li>Extra Credit: 2 of the following activities. Each activity gives you 1 point on your quiz average.<ul><li>Software Engineering Research Study: In Piazza.<li>CSC Seminars.</ul><li>Quizzes: Moodle.<li>Academic Integrity:<ul><li>As long as you cite your sources for online resources, you're good.<li>Solo quizzes are open book and everything.</ul></ul><h1 id=bugs-issues><a href=#bugs-issues aria-label="anchor link for bugs-issues">#</a> Bugs & Issues</h1><ul><li>Fault: Underlying issue in the code/project. Caused by mistakes normally.<li>Error: Incorrect program state resulting from the execution of a fault. <em>Doesn't necessarily cause failure.</em><li>Failure: Observable incorrect behavior.</ul><p>When you run into a failure, you want to create a <strong>minimum reproducible example</strong>. This is a minimum number of steps / bit of code to reproduce the issue. You should try to <strong>generalize</strong> the issue as much as possible. That is find out exactly what kind of circumstances the issue occurs under and try to make it as generic as possible.<p>For our class we need a <strong>reproduction</strong>, <strong>isolation</strong>, and <strong>generalize</strong> section in our bug reports. Probably want to use GitHub template.<h1 id=maven><a href=#maven aria-label="anchor link for maven">#</a> Maven</h1><p>Maven (<code>mvn</code>) builds projects by reading the project object model (POM) file <code>pom.xml</code> and executing a sequence of steps to reach a specified <strong>target</strong>. The POM can declare dependencies, custom profiles that apply a group of settings, build plugins that define custom targets and steps, and all that fun stuff!<p>Maven looks for dependencies in the repositories section of the <code>pom.xml</code>. By default it uses <a href=https://elihunter173.com/notes/ncsu/3f/csc326/mvnrepository.com>mvnrepository.com</a>.<h1 id=coffeemaker-tools><a href=#coffeemaker-tools aria-label="anchor link for coffeemaker-tools">#</a> CoffeeMaker Tools</h1><ul><li>Frontend: HTML, <a href=https://angularjs.org/ >AngularJS</a> (not Angular), Bootstrap CSS, and CSS3.<li>Backend: Apache Tomcat, Java, <a href=https://hibernate.org/ >Hibernate</a> ORM.<li>Database: <a href=https://www.mysql.com/ >MySQL</a> (or <a href=https://mariadb.org/ >MariaDB</a> for me).</ul><p>To test the frontend, we use <a href=https://www.selenium.dev/ >Selenium</a>. Selenium is a browser automation tool meant to help test web frontends. It allows you to scrape the HTML DOM to find if elements exist and also manipulate the web browser by clicking on things or doing other normal user interactions programmatically. Selenium is built on top of JUnit so it makes tests easy to set up and run if you already use JUnit.<p>To do test, we use <a href=https://cucumber.io/ >Cucumber</a>, which uses the <a href=https://cucumber.io/docs/gherkin/ >Gherkin</a>. It believes that by making tests look closer to natural English makes it easier to write tests, especially for non-developer users.<h1 id=requirements-engineering><a href=#requirements-engineering aria-label="anchor link for requirements-engineering">#</a> Requirements Engineering</h1><ul><li>Requirements: Definition of what the system should do.<li>Types of Requirements: In general, you want more functional requirements that non-functional requirements because they are easier to test and verify.<ul><li>Functional Requirements: Something that the system must explicitly do.<li>Non-functional Requirements: User-visible parts of the system not directly related to what the program does. (e.g. usability, privacy, performance, security)<li>Constraints: Non user-visible constraints that restricts the development process. (e.g. deployment troubles, implementation language)</ul><li>Requirements Elicitation: Process of getting the requirements.<li>Requirements Validation: Process of reviewing requirements with the stakeholder to ensure that they are:<ul><li>Traceable: Ensure that you can see where each requirement comes from.<li>Non-prescriptive: Says nothing about how programmers will solve the problem.<li>Consistent Language<li>Testable<li>Concise</ul><li>Stakeholders: People that care about the software system or want it.<li>Requirements Engineering: The process of having stakeholders and engineers communicate to form a set of requirements / required behaviors.<li>Business Case: The motivation behind the system and its requirements.<li>Language of Requirements, sorted from most important to least important: shall, should, may, shall.</ul><p><em>Why do we care?</em> The most common causes of software project failures is communications (requirements!) based. For example, incomplete requirements, lack of user involvement, unrealistic expectations, etc. Cost goes up in fixing/detecting as you go further into the project.<p>Requirements engineering has two parts: <strong>analysis</strong> and <strong>modeling</strong>. Analysis is understand user needs to create a system definition. Modelling is transforming the system's requirements into an actual software system.<h2 id=requirements-elicitation><a href=#requirements-elicitation aria-label="anchor link for requirements-elicitation">##</a> Requirements Elicitation</h2><p>One of the most important parts of requirements elicitation is understanding <strong>why</strong> the system needs a certain behavior. It gives context to the requirements. This is called the <strong>business case</strong>.<p>In this class we will use a <strong>use-case</strong> style of requirements, which is a semi-formal way to document requirements. It's more formal than stories but less formal than requests for proposal.<h2 id=use-cases><a href=#use-cases aria-label="anchor link for use-cases">##</a> Use Cases</h2><p>Use cases are written by the developers.<p>The way we build use cases is by listening to <strong>stories</strong>, which is a series of things that a specific user/actor should be able to do. The actor is a representative for a whole class of users. Normally for user stories we just follow the <strong>happy path</strong> (or the case with no errors). We do this by describing the <em>preconditions</em> and then the <em>main flow</em> of what the user does. There are <em>sub-flows</em> which are slight changes on the main flow or more descriptive descriptions of the flow. Then there are <em>alternative flows</em> which describe error conditions and error handling. The main flow should connect to alternative and sub-flows.<p>These user stories are collected to create a <strong>big picture</strong> where we combine all the user stories to understand all the things that the system should be able to do. This allows us to understand the <strong>value</strong> of the system.<p>We then can break up the system into <strong>slices</strong> which we can deliver and build <strong>incrementally</strong> and adapt as requirements and teams change.<h2 id=user-stories><a href=#user-stories aria-label="anchor link for user-stories">##</a> User-Stories</h2><p>User-stories are an informal and highly collaborative form of software engineering. (Agile!) Agile in general tries to embrace that requirements change by regularly delivering and collaborating with the stakeholders. They are written <strong>by the stakeholders</strong>.<p>In general user-stories should be of the form like "As an X, I want to do Y, so that I can Z."<p>Since user stories are so small, teams that use them often also use <strong>epics</strong>. Epics are larger changes that cannot be made in a single iteration and are broken down into a family of stories.<p>User stories should follow <strong>INVEST</strong>:<ul><li>Investigate-able<li>Negotiable<li>Valuable<li>Estimate-able<ul><li>If you cannot estimate due to lack of experience, run a <strong>spike</strong> where you just do a prototype except with an epic/edgy name.</ul><li>Small: Small enough that it can be done in a single iteration.<li>Testable</ul><p>There are many ways to organize stories. <strong>Kanban boards</strong> are a list of in-progress, done, and to-do tasks. You can also break them down differently.<h2 id=traditional-requirements><a href=#traditional-requirements aria-label="anchor link for traditional-requirements">##</a> Traditional Requirements</h2><p>Traditional requirements are very formal like government contracts.<h1 id=testing><a href=#testing aria-label="anchor link for testing">#</a> Testing</h1><ul><li>Closed / Black Box Tests: Concerned with requirements and validation, regardless of implementation.<li>Open / Glass / White Box Tests: Testing implementation<li>Types of Coverage:<ul><li>Class<li>Method<li>Line<li>Statement<li>Branch: Individual branches in the control flow graph.<li>Clause: Parts of statements.<li>Path: How many <em>unique</em> paths are you taking through the control flow graph.<li>Requirements: No code at all! Just do you have test cases for your requirements.</ul><li>Types of Testing:<ul><li>Unit Testing: Test single bits of code. Normally a single function or component, linked to a very specific bit of the requirements or code.<li>Integration Testing: Test combinations of multiple components. Test multiple functions or classes. Helps catch things like "where will user input be sanitized?" or "where will errors be handled?"<li>Functional/System Tests: Test conducted on the entire system. Can be done manually or automated with tools like <em>Selenium</em>.<li>Acceptance Tests: Formal tests to determine whether the solution satisfies the acceptance criteria. Normally done by the customer (and in this case the teaching staff).<li>Regression Testing: Test things for specific functionality and run old tests on current code. Helps prevent breaking current functionality.<li>Selective Retesting: When you have a tests that take a long time to run, often you only want to run a small selection of them to give developers feedback more quickly.<li>Beta Testing: Unstructured testing by a subset of the users.</ul></ul><p>We care about test coverage here. Test coverage is a lot like lines of code. It can give you a ballpark idea, but it can't tell you about missing code and many bugs occur because of a single small line in a large function that can easily go untested. Test coverage can help you identify <em>dead code</em> or code that isn't required for your system. For example, why do I need this code?<p>There are two main approaches of development with testing. There is <strong>test driven development (TDD)</strong>, where you iteratively write failing tests and code to pass said tests. This focuses heavily on unit tests. There is <strong>behavior driven development (BDD)</strong>, where you look at the behavior of the system at a higher level. This is with the hope of having <em>customers</em> write some of the tests. In this class we use <a href=https://cucumber.io/ >Cucumber</a> for this.<p>To create tests, we consider equivalence classes and boundary values. For equivalence classes you divide up all possible inputs into sets of similar values and pick a semi-random representative from the set. For boundary values, you pick values that are right on the edges of your equivalence classes and test those.<h2 id=control-flow-graphs><a href=#control-flow-graphs aria-label="anchor link for control-flow-graphs">##</a> Control Flow Graphs</h2><p>Control flow graphs are useful for code analysis, both in testing and compiling. Control flow graphs are composed of <strong>nodes</strong>, which are statements represented by squares in the visual, and <strong>branches</strong>, which are things like <code>if</code>, <code>for</code>, and <code>while</code> represented by diamonds in the visual.<p>We can compress a series of nodes with no branches into a <strong>basic block</strong>, which a series of statements where executing the first statement in the block ensures that the last one will be executed.<p>Using the formalism of a control flow graph and graph theory, we can make some assertions about how much testing we need to get branch, statement, or path coverage. In this case, branch coverage is executing all edges and statement coverage is executing all nodes. <em>This is how static analysis tooling works!</em><h1 id=design><a href=#design aria-label="anchor link for design">#</a> Design</h1><p>One of software engineering's main goals is to create well designed software. However, unlike many other traditional engineering projects, software normally has no "physical" representation, or at least one that is useful. That means <em>communication is really hard</em>.<p>In this class we'll use UML because it's easy to grade, even though it's only used by ~30% of surveyed software developers in industry.<h2 id=uml-class-diagrams><a href=#uml-class-diagrams aria-label="anchor link for uml-class-diagrams">##</a> UML Class Diagrams</h2><p><strong>Attributes</strong> are just listed in the class. They're the same as association except they're simpler value types or external types.<p><strong>Association</strong> is where a class has a field of another class in your project. It is represented by a black arrow with an arrow head, labeled in the middle by the field name and on the head by the multiplicity of the field. You should also label the base of the arrow with<p><strong>Aggregation</strong> is where one class contains another class. It's like a stronger version of <em>association</em>. The owned class can exist without the owning class. This is represented the same way as association except with a white diamond head.<p><strong>Composition</strong> is where one class fully owns another class. It's like a super strong version of <em>aggregation</em>, where the owned class doesn't make since without the owning class. Normally this is an inner class. This is represented the same was as aggregation except with a filled black triangle head.<p><strong>Generalization</strong> is how we show inheritance of types. It is show with a white triangle head with a solid line for class inheritance and a dashed line for interface inheritance.<p>For <em>abstract methods</em> of an interface or abstract base class is italicized.<h2 id=uml-sequence-diagrams><a href=#uml-sequence-diagrams aria-label="anchor link for uml-sequence-diagrams">##</a> UML Sequence Diagrams</h2><p>UML sequence diagrams let us model the dynamic execution of the program, as opposed to the static layout that class diagrams give you. Every class gets its own line. The flow of control goes down in time and changes lanes whenever we call a method of another class. When we change lanes, we draw a solid arrow labeled by the name of the called method. The line goes from the previously running line to the newly called object. The returns of methods are denoted using a dashed line labeled by both the name of the method returning and the returned value. When we create a new object, it's line appears. When we destroy an object, it's line disappears.<h2 id=uml-state-diagrams><a href=#uml-state-diagrams aria-label="anchor link for uml-state-diagrams">##</a> UML State Diagrams</h2><p>State Diagrams are a higher level representation of a finite state machine (FSM) where the entire state of the machine is represented by the FSM.<p>Every state is represented by a box or circle with the name of the state.<p>State diagrams follow the standard deterministic finite automata rules. There is one initial state but there can be multiple final states. Every state must be reachable from the initial state. Every state must have a path to the final state. States not shown are error states.<p>Every transition arrow has optionally a <strong>trigger</strong>, <strong>guard clause</strong>, and <strong>activity</strong>. The <em>trigger</em> is what causes the transition. A transition is only taken if the <em>guard clause</em> also holds though. The <em>activity</em> is what the application does on that trigger beyond just transition.<h1 id=rest-apis><a href=#rest-apis aria-label="anchor link for rest-apis">#</a> REST APIs</h1><p>REST (REpresentation State Transfer) is a way to interact with backend models, controllers, and services in a language agnostic, networked way.<p><em>Why use RESTful APIs?</em> REST can work over the network which allows you to keep your proprietary code secret by hiding it behind the network. It's also the easiest way to distribute your application. Most personal computers have web browsers which are essentially giant JavaScript and rendering engines, so if you design your front-end in JavaScript (or WebAssembly!), then your application can be run without installing anything (kinda). However, JavaScript is slow and we often want to interact with some remote data. To get around this, we create a server in any language we want and interact with it over a REST API. Then we have a single server we control and can optimize as we want and share data with clients as they request.<p>Essentially, REST APIs (with a lot of work) can allow us to achieve the following desireable properties of service (e.g. social networks):<ul><li><strong>Performance</strong>: Appropriate component interactions.<li><strong>Scalability</strong>: support large numbers of components and interactions among components.<li><strong>Simplicity</strong> of interfaces.<li><strong>Modifiability</strong> of components.<li><strong>Visibility</strong> of communication between components by service agents.<li><strong>Portability</strong> of components by moving program code with the data.<li><strong>Reliability</strong> when failures within components, connectors, or data</ul><p>Most REST APIs use <strong>HTTP</strong> as the transport protocol and serializes/deserializes data using <strong>JSON</strong> (sometimes XML, Protobuf, MessagePack, etc.).<p>HTTP requests have <strong>verbs</strong> (the type of request) and <strong>nouns</strong> (the resource requested). For example <code>GET /recipes</code> has the verb of <code>GET</code> and the noun of <code>/recipes</code>. It would return a JSON-formatted array of recipes, for example.<p>Some of the most common types of operations an application needs to make is called <strong>CRUD</strong> operations (create, read, update, delete). Each standard CRUD operation has its corresponding HTTP verbs.<ul><li><code>GET</code>: Retrieve record.<li><code>DELETE</code>: Delete record.<li><code>POST</code>: Create record.<li><code>PUT</code>: Update record.</ul><p>On top of normal HTTP nouns, we can add parameters to provide additional information. This is useful if the noun represents a function call and the parameters are the arguments to the function. For example, <code>GET /dogs?color=red&state=running&location=park</code> has the parameters <code>color=red</code>, <code>state=running</code>, and <code>location=park</code>.<h2 id=rest-api-designer><a href=#rest-api-designer aria-label="anchor link for rest-api-designer">##</a> REST API Designer</h2><p>REST APIs should never remove or change things without making a major version number change. This is to not break old clients. Since we often want to make breaking changes, it's good to include a major version number in the path (e.g. <code>/api/v1/resource</code>), so you can change the version number and then make breaking changes.<p>Since you (should) never remove or change things without making a major version number change, what you expose should be very well thought out. If you're not sure how things should be split, try to release or expose only a stable subset as you work on the final design.<p>As with any API, you should name things clearly and consistently and make sure that the user doesn't have to do checks that you (the server) could do.<p>In general for performance (and simplicity), REST APIs should be stateless and cacheable, so that you can improve performance with caches more easily and simplify the client server interactions.<p>If your API holds sensitive data, you should use standard authentication protocols like <em>OAuth</em>.<p>To make the API more performant, when you have infinite or extremely large data you should either stream partial responses (chunks) of data or provide some pagination where the client requests a certain page. The page doesn't have to be absolute. For example Discord's API for getting messages can get you n messages after the given message ID.<h2 id=http-errors><a href=#http-errors aria-label="anchor link for http-errors">##</a> HTTP Errors</h2><ul><li>200: Okay.<li>400: Bad request.<li>404: Unknown path.<li>500: Internal server error.</ul><h2 id=frameworks><a href=#frameworks aria-label="anchor link for frameworks">##</a> Frameworks</h2><p>Frameworks are meant to make creating applications easier by being a collection of opinionated defaults that help you easily set up your application.<p>Essentially, you are just "filling in the slots" provided by the framework. There's generally two ways to do this: black-box (compose objects) and white-box (inheritance), named such because in black-box you don't need to know how the bits of the framework work (as much) but with white-box you do.<p>There are several ways frameworks work, but the <a href=https://spring.io/ >Spring</a> framework we use extensively uses dependency injection (basically parameter passing). There are 4 main roles in the Spring framework.<ul><li>Service: Any object that can be used.<li>Client: Any object that uses other objects.<li>Interfaces: How a client may use the services. Never treated as concrete, so there's no construction or extension by a client.<li>Injector: Constructs services and injects them into the client, possibly constructing the service as well.</ul><p>Dependency injection is nice because it makes the code configurable using config files, meaning you can change behavior without having to recompile and helps create an isolated client. The downsides you get an explosion of types, hard to trace code, and complex links between classes.<h1 id=architectural-patterns><a href=#architectural-patterns aria-label="anchor link for architectural-patterns">#</a> Architectural Patterns</h1><p>Architectural patterns consist of <strong>component types</strong> that perform some function at runtime, a <strong>topological layout</strong> of components showing their relationships, and a set of <strong>connectors</strong> that facilitate communication.<p>We'll list broad families and individual styles within those architectural families but most systems are <strong>hybrid</strong> or combinations of different styles.<h2 id=data-centered><a href=#data-centered aria-label="anchor link for data-centered">##</a> Data Centered</h2><p>Data centered architectures tend to have a centralized data store (that may be distributed) that communicates with many clients. This is good because it allows for <em>easier backups</em> and <em>easier administration</em> for the downside of somewhat <em>harder to track errors</em>.<p>This data centered architecture is broadly split into the <strong>repository model</strong> and the <strong>blackboard model</strong>. Of course, projects often straddle or use both of these models.<p>In the repository model, the central database is passive and the clients are active. Client's poll the repository for information and the repository. This makes it harder to update/change the repository but potentially reduce load on the repository. It is better for systems where data is less real-time and people request to see things rather than get notified to see things (e.g. YouTube, Google Drive, Spotify, Instagram, Reddit). This does mean that everyone must agree on a data-interchange format and the repository may be a bottleneck.<p>In the blackboard model, the central database is active and the clients are active. Essentially, it's a PUB/SUB (publish/subscribe) system where clients subscribe to updates and the central database pushes events to the clients. It is better for systems where you need to react immediately to things rather than request to view them (e.g. eBay, Slack, Discord, Weather Service Alerts). This is good for systems that are non-deterministic, but it does require complex infrastructure.<h2 id=call-and-return><a href=#call-and-return aria-label="anchor link for call-and-return">##</a> Call and Return</h2><p>In call and return you essentially just write a program like you would normally. You organize your code into a series of function calls or similar ideas.<p>There's the <strong>main program and subprogram</strong> split, which is literally just procedural code where you call functions to do things. It's easy to write and understand, but can get really messy.<p>There's the <strong>object-oriented</strong> design, which we know very well. You design the system using interfaces and each class fulfills the interface. Because of interfaces, you can get easier code reuse and potentially easier to understand code as you separate certain aspects of the code get abstracted away. It can also get really messy and hard to understand like main program and subprogram, but it can make it easier to understand.<p>There's the <strong>layered</strong> design, where we split to design into layers where (ideally) every layer can be swapped out for an equivalent layer and every layer communicates with a clean, abstract interface. This is <em>incredibly</em> common, with OS code vs userspace code, the networking stack, and good object oriented code. This is good because it's easy to understand and extend because every layer is independent and well encapsulated. This can be bad because structuring layers can be incredibly difficult, causing leaky abstractions that actually cause more harm than good. Also, performance <em>may</em> suffer because of all the layers.<h2 id=data-flow><a href=#data-flow aria-label="anchor link for data-flow">##</a> Data Flow</h2><p>In data flow style architectures, you design your system as a pipeline from a data <strong>source</strong> to a data <strong>sink</strong>. It is good for systems that need to be distributed or parallelized.<p>There's <strong>pipe and filter</strong> where you model your program as a set of inputs and outputs where you do local transformations and filters on the data. This is good because it easily handles infinite data (incrementally) and parallelization. It's limited (intentionally) by not having knowledge of other filters and having no shared state. This is because all filters work at the same time. One example architecture of <strong>map-reduce</strong> where you represent your problem into an easily parallelizable map function that gets applied to every element and then a reduce section that is both associative and commutative (e.g. sum or union) so that it can also be executed in parallel. If the reduce part of not associative and commutative, then it may have to be done sequentially. This can be harder to write but is easier to parallelize and often more performant.<p>There's <strong>batch sequential</strong> where you sequentially transform data but split it into batches to process in parallel. It can be easier to write but harder to parallelize and potentially more buggy.<h2 id=event-systems><a href=#event-systems aria-label="anchor link for event-systems">##</a> Event Systems</h2><p>For event systems there is <strong>explicit invocation</strong> where you request things to be executed to change and <strong>implicit invocation</strong> where something changes on the system and it executes a callback you provided.<h1 id=human-computer-interaction-hci><a href=#human-computer-interaction-hci aria-label="anchor link for human-computer-interaction-hci">#</a> Human Computer Interaction (HCI)</h1><p>HCI focuses on the human aspect of computer system. It tries to make systems ergonomic and easy to use intuitively.<p><em>Why is this important?</em> If you're creating a system for people, it would be good if people can actually use it. If people can't use it or can't use it safely, then you are wasting time and putting lives at risk. Intuitive software also saves money in terms of support and training materials.<p>For example, Tesla's (early) autopilot systems allowed humans to pay too little attention for too long. This meant that when the system suddenly requested human input, people had to very quickly become re-adjusted to what is happening on the road, leading to overcorrections and crashes.<p>One of the most important ideas of HCI is the <strong>context for use</strong>. That is, what is going on around the user when they're using your software. Is it cold? Are they stressed out? In a hurry? etc.<p>We'll cover three main perspectives <strong>physical computing</strong>, <strong>cognitive computing</strong>, and <strong>social computing</strong>.<p>Physical computing tries to make things ergonomic with no distractions. So recognize the ambient sound and lighting that will be around the user. Understand where they'll be working. By considering that you can make your project more comfortable to use safely and effectively. Normally you consider <strong>anthropometrics</strong>, which is the shape, size, strength, etc. of the human body. Anthropometrics help you understand issues with posture and muscle strain.<p>Cognitive computing tries to understand what is going on in the persons mind. So are they old/young, disabled, stressed, hurried, etc. By understanding what they can understand and know you know how to make things less confusing to them. You normally try to remove cognitive <em>noise</em>. You try to understand people's <strong>mental models</strong> for how the system works and make the system operate as closely to that mental model or shape their mental model to be as close to the system as possible.<p>Social computing tries to understand how people communicate and what their prior relationships are. This can make your software less socially awkward and easier to use effectively. It can also help you know when to notify people to do things. How do you facilitate communication between people? If you don't consider this you can have communication difficulties. For example, plane crashes if the pilot and traffic control cannot communicate because of a sudden update.<p>How do you apply all those principles? <strong>Concept design</strong> is the process of white boarding or otherwise generating ideas and alternative solutions. We often talk about task flows, where you have three columns (or rows): what the user does, how the system should function, and them some space for notes.<table><thead><tr><th>User<th>System<th>Considerations for Design<tbody><tr><td>1. Gather new contact details<td><td><tr><td>2. Locate contact area in application<td>Create button on home page<td>Primary action in the app so button should be front and center of Home page<tr><td>3. Enter contact details<td>Text fields to enter contact details<td>Required fields: name, email, phone. Optional fields: address, birthday.<tr><td>4. Save new contact details<td>Save button and way to show user new contact has been created and saved<td>Creation success means info is read only and presented in the UI</table><p>You can also create a <strong>wireframe</strong> of what the user interface should look like at a low-fidelity high level. This is meant to be easier to write than the corresponding code.<h1 id=persistent-data-databases><a href=#persistent-data-databases aria-label="anchor link for persistent-data-databases">#</a> Persistent Data / Databases</h1><p>In CSC 216 we did simple serialization (e.g. XML, CSV, JSON, Java serialization, Python pickling, etc.). This is good for small data and for human interaction but are slow for edits small with respect to the whole data size.<p>However, when we want to constantly have out data be persistent and have high performance for small edits, a database can come in handy. They store data on the disk for persistence, but some also uses memory for performance.<p>The specific types of database we'll be talking about are <strong>relational databases</strong>.<p>Relational databases model data essentially like a collection spreadsheets or <strong>tables</strong>. These tables are managed by the RDBMS, which is a system optimized for inserting, updating, selecting, and deleting data in the database. CRUD operations! (Normally) each table represents a single class, the columns the fields of the class, and the rows the instances of the class. Many RDBMS (e.g. PostgreSQL, <a href=https://www.mysql.com/ >MySQL</a>) use the Structured Query Language (SQL), which is a semi-standardized language for describing queries.<p><em>Note:</em> In SQL databases, we normally use <code>snake_case</code> for column names.<p>Why do we use relational databases here? They are commonly used in industry and map nicely to objects. This mapping can be done systematically by an <strong>object relational mapping (ORM)</strong>.<p><em>Note:</em> If something can be (easily) calculated from data in the database, you shouldn't store it because that wastes space and allows data in the database to get out of sync. Using linear algebra terms you basically want a linearly independent set of columns (or a basis for the data you want!).<h2 id=hibernate><a href=#hibernate aria-label="anchor link for hibernate">##</a> Hibernate</h2><p>In this class we'll use the <a href=https://hibernate.org/ >Hibernate</a> object relational mapping, which is an ORM framework that uses annotations and a config file <code>hibernate.cfg.xml</code> to support the connection between Java objects and persistent storage. Here's an annotated and simplified example from CoffeeMaker's <code>hibernate.cfg.xml</code>.<p>The <code>SHORTENED</code> link is: <a href=http://www.hibernate.org/dtd/hibernate%E2%80%90configuration%E2%80%903.0.dtd>http://www.hibernate.org/dtd/hibernate‐configuration‐3.0.dtd</a>. It is too large to fit attractively.<pre class="z-code language-xml" data-lang=xml><code class=language-xml data-lang=xml><span class="z-text z-xml"><span class="z-tag z-xml z-meta z-preprocessor"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;?</span><span class="z-tag z-xml z-entity z-name">xml</span> <span class="z-entity z-xml z-localname z-attribute-name z-other">version</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>1.0<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span> <span class="z-entity z-xml z-localname z-attribute-name z-other">encoding</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>utf‐8<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span><span class="z-punctuation z-definition z-tag z-end z-xml">?></span></span>
<span class="z-tag z-xml z-meta z-doctype z-sgml"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;!</span><span class="z-keyword z-declaration z-doctype z-xml">DOCTYPE</span> <span class="z-illegal z-invalid z-bad-tag-name z-xml">hibernate‐configuration</span> <span class="z-storage z-type z-external-content z-xml">SYSTEM</span>
  <span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>SHORTENED<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
<span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-illegal z-invalid z-bad-tag-name z-xml">hibernate‐configuration</span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
  <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-illegal z-invalid z-bad-tag-name z-xml">session‐factory</span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
    <span class="z-comment z-block z-xml"><span class="z-punctuation z-definition z-begin z-xml z-comment">&lt;!--</span>
    Specifies the Hibernate dialect for the
    version of MySQL
    <span class="z-punctuation z-definition z-end z-xml z-comment">--></span></span>
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-tag z-xml z-entity z-name z-localname">property</span> <span class="z-entity z-xml z-localname z-attribute-name z-other">name</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>hibernate.dialect<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
      org.hibernate.dialect.MySQL5Dialect
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-tag z-xml z-entity z-name z-localname">property</span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
    <span class="z-comment z-block z-xml"><span class="z-punctuation z-definition z-begin z-xml z-comment">&lt;!--</span>
    Drop and re‐create the database schema on
    startup, useful because CoffeeMaker is a
    toy.
    <span class="z-punctuation z-definition z-end z-xml z-comment">--></span></span>
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-tag z-xml z-entity z-name z-localname">property</span> <span class="z-entity z-xml z-localname z-attribute-name z-other">name</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>hibernate.hbm2ddl.auto<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
      create
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-tag z-xml z-entity z-name z-localname">property</span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
    <span class="z-comment z-block z-xml"><span class="z-punctuation z-definition z-begin z-xml z-comment">&lt;!--</span>
    Connection properties, specifies the DB
    Drive (JDBC) and connection URL.
    <span class="z-punctuation z-definition z-end z-xml z-comment">--></span></span>
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-tag z-xml z-entity z-name z-localname">property</span>
      <span class="z-entity z-xml z-localname z-attribute-name z-other">name</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>hibernate.connection.driver_class<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
      com.mysql.jdbc.Driver
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-tag z-xml z-entity z-name z-localname">property</span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-tag z-xml z-entity z-name z-localname">property</span> <span class="z-entity z-xml z-localname z-attribute-name z-other">name</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>hibernate.connection.url<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
      jdbc:mysql://localhost/coffeemaker
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-tag z-xml z-entity z-name z-localname">property</span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>

    <span class="z-comment z-block z-xml"><span class="z-punctuation z-definition z-begin z-xml z-comment">&lt;!--</span>
    Ideally you'd create a user with minimal
    privileges and a strong password for
    security.
    <span class="z-punctuation z-definition z-end z-xml z-comment">--></span></span>
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-tag z-xml z-entity z-name z-localname">property</span>
      <span class="z-entity z-xml z-localname z-attribute-name z-other">name</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>hibernate.connection.username<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
      root
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-tag z-xml z-entity z-name z-localname">property</span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-tag z-xml z-entity z-name z-localname">property</span>
      <span class="z-entity z-xml z-localname z-attribute-name z-other">name</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>hibernate.connection.password<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-tag z-xml z-entity z-name z-localname">property</span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
    <span class="z-comment z-block z-xml"><span class="z-punctuation z-definition z-begin z-xml z-comment">&lt;!--</span>
    JDBC connection pool (use the built‐in), and
    size.
    <span class="z-punctuation z-definition z-end z-xml z-comment">--></span></span>
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-tag z-xml z-entity z-name z-localname">property</span>
      <span class="z-entity z-xml z-localname z-attribute-name z-other">name</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>hibernate.connection.pool_size<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
      10
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-tag z-xml z-entity z-name z-localname">property</span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
    <span class="z-comment z-block z-xml"><span class="z-punctuation z-definition z-begin z-xml z-comment">&lt;!--</span> Echo all executed SQL to stdout <span class="z-punctuation z-definition z-end z-xml z-comment">--></span></span>
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-tag z-xml z-entity z-name z-localname">property</span> <span class="z-entity z-xml z-localname z-attribute-name z-other">name</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>show_sql<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>true<span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-tag z-xml z-entity z-name z-localname">property</span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>

    <span class="z-comment z-block z-xml"><span class="z-punctuation z-definition z-begin z-xml z-comment">&lt;!--</span> List of persistent classes <span class="z-punctuation z-definition z-end z-xml z-comment">--></span></span>
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-tag z-xml z-entity z-name z-localname">mapping</span>
      <span class="z-entity z-xml z-localname z-attribute-name z-other">class</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>coffee_maker.models.Recipe<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span> <span class="z-punctuation z-definition z-tag z-end z-xml">/></span></span>
    <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;</span><span class="z-tag z-xml z-entity z-name z-localname">mapping</span>
      <span class="z-entity z-xml z-localname z-attribute-name z-other">class</span><span class="z-punctuation z-separator z-key-value z-xml">=</span><span class="z-string z-xml z-double z-quoted"><span class="z-punctuation z-definition z-begin z-xml z-string">"</span>coffee_maker.models.Inventory<span class="z-punctuation z-definition z-end z-xml z-string">"</span></span> <span class="z-punctuation z-definition z-tag z-end z-xml">/></span></span>
  <span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-illegal z-invalid z-bad-tag-name z-xml">session‐factory</span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
<span class="z-tag z-xml z-meta"><span class="z-punctuation z-definition z-tag z-begin z-xml">&lt;/</span><span class="z-illegal z-invalid z-bad-tag-name z-xml">hibernate‐configuration</span><span class="z-punctuation z-definition z-tag z-end z-xml">></span></span>
</span></code></pre><p>Here is an annotated example of a plain Java class that uses Hibernate<pre class="z-code language-java" data-lang=java><code class=language-java data-lang=java><span class="z-java z-source"><span class="z-java z-meta z-annotation"><span class="z-punctuation z-definition z-java z-annotation">@</span></span><span class="z-java z-meta z-annotation"><span class="z-java z-meta z-annotation z-identifier"><span class="z-java z-annotation z-variable">Entity</span>
</span></span><span class="z-java z-meta z-annotation"><span class="z-punctuation z-definition z-java z-annotation">@</span></span><span class="z-java z-meta z-annotation"><span class="z-java z-meta z-annotation z-identifier"><span class="z-java z-annotation z-variable">Table</span></span><span class="z-java z-meta z-annotation z-parameters"><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-java z-variable z-parameter">name</span> <span class="z-java z-assignment z-keyword z-operator">=</span> <span class="z-java z-string z-double z-quoted"><span class="z-punctuation z-definition z-begin z-string z-java">"</span>recipes<span class="z-punctuation z-definition z-end z-string z-java">"</span></span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span></span>
<span class="z-java z-meta z-class"><span class="z-java z-storage z-modifier">public</span> <span class="z-java z-meta z-identifier z-class"><span class="z-java z-storage z-type">class</span> <span class="z-java z-class z-entity z-name">Recipe</span></span> <span class="z-java z-meta z-class z-body"><span class="z-java z-meta z-block"><span class="z-punctuation z-begin z-java z-section z-block">{</span>
  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> The columns in the database. Primitives
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> don't *need* to be boxed into their Object
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> form. But `null` means that something
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> doesn't exist, which is different from the
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> zero value of the primitive. However, if
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> you guarantee that the column always have a
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> value then you can use the primitive.
</span>
  <span class="z-java z-meta z-annotation"><span class="z-punctuation z-definition z-java z-annotation">@</span></span><span class="z-java z-meta z-annotation"><span class="z-java z-meta z-annotation z-identifier"><span class="z-java z-annotation z-variable">Override</span>
  </span></span><span class="z-java z-meta z-annotation"><span class="z-punctuation z-definition z-java z-annotation">@</span></span><span class="z-java z-meta z-annotation"><span class="z-java z-meta z-annotation z-identifier"><span class="z-java z-annotation z-variable">Id</span>
  </span></span><span class="z-java z-meta z-annotation"><span class="z-punctuation z-definition z-java z-annotation">@</span></span><span class="z-java z-meta z-annotation"><span class="z-java z-meta z-annotation z-identifier"><span class="z-java z-annotation z-variable">GeneratedValue</span></span><span class="z-java z-meta z-annotation z-parameters"><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-java z-variable z-parameter">generator</span> <span class="z-java z-assignment z-keyword z-operator">=</span> <span class="z-java z-string z-double z-quoted"><span class="z-punctuation z-definition z-begin z-string z-java">"</span>increment<span class="z-punctuation z-definition z-end z-string z-java">"</span></span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span></span>
  <span class="z-java z-meta z-annotation"><span class="z-punctuation z-definition z-java z-annotation">@</span></span><span class="z-java z-meta z-annotation"><span class="z-java z-meta z-annotation z-identifier"><span class="z-java z-annotation z-variable">GenericGenerator</span></span><span class="z-java z-meta z-annotation z-parameters"><span class="z-punctuation z-begin z-java z-section z-parens">(</span>
    <span class="z-java z-variable z-parameter">name</span> <span class="z-java z-assignment z-keyword z-operator">=</span> <span class="z-java z-string z-double z-quoted"><span class="z-punctuation z-definition z-begin z-string z-java">"</span>increment<span class="z-punctuation z-definition z-end z-string z-java">"</span></span><span class="z-punctuation z-java z-comma z-separator">,</span>
    <span class="z-java z-variable z-parameter">strategy</span> <span class="z-java z-assignment z-keyword z-operator">=</span> <span class="z-java z-string z-double z-quoted"><span class="z-punctuation z-definition z-begin z-string z-java">"</span>increment<span class="z-punctuation z-definition z-end z-string z-java">"</span></span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span></span>
  <span class="z-java z-storage z-modifier">private</span> <span class="z-java z-class z-support">Long</span> <span class="z-java z-meta z-field">id</span><span class="z-punctuation z-java z-terminator">;</span>
  <span class="z-java z-meta z-annotation"><span class="z-punctuation z-definition z-java z-annotation">@</span></span><span class="z-java z-meta z-annotation"><span class="z-java z-meta z-annotation z-identifier"><span class="z-java z-annotation z-variable">NotNull</span>
  </span></span><span class="z-java z-storage z-modifier">private</span> <span class="z-java z-class z-support">String</span> <span class="z-java z-meta z-field">name</span><span class="z-punctuation z-java z-terminator">;</span>
  <span class="z-java z-meta z-annotation"><span class="z-punctuation z-definition z-java z-annotation">@</span></span><span class="z-java z-meta z-annotation"><span class="z-java z-meta z-annotation z-identifier"><span class="z-java z-annotation z-variable">Min</span></span><span class="z-java z-meta z-annotation z-parameters"><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-java z-constant z-decimal z-integer z-numeric">0</span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span></span>
  <span class="z-java z-storage z-modifier">private</span> <span class="z-java z-class z-support">Integer</span> <span class="z-java z-meta z-field">price</span><span class="z-punctuation z-java z-terminator">;</span>
  <span class="z-java z-meta z-annotation"><span class="z-punctuation z-definition z-java z-annotation">@</span></span><span class="z-java z-meta z-annotation"><span class="z-java z-meta z-annotation z-identifier"><span class="z-java z-annotation z-variable">Min</span></span><span class="z-java z-meta z-annotation z-parameters"><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-java z-constant z-decimal z-integer z-numeric">0</span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span></span>
  <span class="z-java z-storage z-modifier">private</span> <span class="z-java z-class z-support">Integer</span> <span class="z-java z-meta z-field">coffee</span><span class="z-punctuation z-java z-terminator">;</span>
  <span class="z-java z-meta z-annotation"><span class="z-punctuation z-definition z-java z-annotation">@</span></span><span class="z-java z-meta z-annotation"><span class="z-java z-meta z-annotation z-identifier"><span class="z-java z-annotation z-variable">Min</span></span><span class="z-java z-meta z-annotation z-parameters"><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-java z-constant z-decimal z-integer z-numeric">0</span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span></span>
  <span class="z-java z-storage z-modifier">private</span> <span class="z-java z-class z-support">Integer</span> <span class="z-java z-meta z-field">milk</span><span class="z-punctuation z-java z-terminator">;</span>

  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> Mark this as the primary key that is
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> auto-incremented by 1 with each insert. The
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> primary key must be unique and is fast to
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> look up by.
</span>  <span class="z-java z-storage z-modifier">public</span> <span class="z-java z-class z-support">Long</span> <span class="z-java z-meta z-method"><span class="z-java z-meta z-identifier z-method"><span class="z-java z-function z-entity z-name">getId</span></span><span class="z-java z-meta z-parameters z-method"><span class="z-java z-meta z-parens"><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span></span>
    </span>return id<span class="z-punctuation z-java z-terminator">;</span>
  <span class="z-punctuation z-end z-java z-section z-block">}</span></span></span></span>

  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> getName, setName, getPrice, setPrice, ...
</span><span class="z-illegal z-invalid z-stray-brace-end">}</span>
</span></code></pre><p>Here is a simple interaction with the database to atomically save the object.<p><em>Note:</em> If you open a connection to the database, you have to close the database connection, much like with files. Otherwise you can get denial of service by leaking connections. Sadly, <code>Session</code> does not implement <code>AutoCloseable</code>.<pre class="z-code language-java" data-lang=java><code class=language-java data-lang=java><span class="z-java z-source"><span class="z-java z-storage z-modifier">public</span> void <span class="z-java z-meta z-function-call"><span class="z-java z-variable z-function">save</span><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span> <span class="z-java z-meta z-block"><span class="z-punctuation z-begin z-java z-section z-block">{</span>
  <span class="z-java z-storage z-modifier">final</span> <span class="z-java z-class z-support">Session</span> session <span class="z-java z-meta z-assignment z-rhs"><span class="z-java z-assignment z-keyword z-operator">=</span>
    sessionFactory<span class="z-punctuation z-java z-accessor z-dot">.</span><span class="z-java z-meta z-function-call"><span class="z-java z-variable z-function">openSession</span><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span></span><span class="z-punctuation z-java z-terminator">;</span>
  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> Wrap the operation(s) in a transaction to
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> make them atomic. Ideally you'd use a
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> try-with-resources block, but the example
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> in class didn't use that.
</span>  session<span class="z-punctuation z-java z-accessor z-dot">.</span><span class="z-java z-meta z-function-call"><span class="z-java z-variable z-function">beginTransaction</span><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span><span class="z-punctuation z-java z-terminator">;</span>
  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> CRUD operation
</span>  session<span class="z-punctuation z-java z-accessor z-dot">.</span><span class="z-java z-meta z-function-call"><span class="z-java z-variable z-function">saveOfUpdate</span><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-java z-variable z-language">this</span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span><span class="z-punctuation z-java z-terminator">;</span>
  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> Commit the transaction, actually making the
</span>  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> changes.
</span>  session<span class="z-punctuation z-java z-accessor z-dot">.</span><span class="z-java z-meta z-function-call"><span class="z-java z-variable z-function">getTransaction</span><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span><span class="z-punctuation z-java z-accessor z-dot">.</span><span class="z-java z-meta z-function-call"><span class="z-java z-variable z-function">commit</span><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span><span class="z-punctuation z-java z-terminator">;</span>
  <span class="z-java z-comment z-double-slash z-line"><span class="z-punctuation z-definition z-comment z-java">//</span> Close the session!!
</span>  session<span class="z-punctuation z-java z-accessor z-dot">.</span><span class="z-java z-meta z-function-call"><span class="z-java z-variable z-function">close</span><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span><span class="z-punctuation z-java z-terminator">;</span>
<span class="z-punctuation z-end z-java z-section z-block">}</span></span>
</span></code></pre><h2 id=database-testing><a href=#database-testing aria-label="anchor link for database-testing">##</a> Database Testing</h2><p><em>How do we test with databases tho?</em> Good point, they're really complicated. We especially don't want to test on the production database because that could really mess things up.<p>To get around this, we use a <em>test database</em> and <em>mocking</em>. A test database is just your normal database except without any important data. Normally you wipe the test database at the start of every test run to keep the tests reproducible. We can also create a mock database, which <em>vastly</em> simplifies thing. We basically just hard-code data and create the minimal interface that we actually use. There are libraries that make this easier, like <a href=https://site.mockito.org/ >Mockito</a>.<h2 id=structured-query-language-sql><a href=#structured-query-language-sql aria-label="anchor link for structured-query-language-sql">##</a> Structured Query Language (SQL)</h2><p>SQL is a <em>declarative</em> language, which means we just state what we want.<p>Most SQL databases are <em>case insensitive</em>. However, some of them are so normally we make keywords all UPPERCASE. SQL strings/characters use single quotes.<p>SQL supports a fairly large set of built-in data types, although you can extend this in some databases using plugins.<ul><li><code>INT</code><li><code>DOUBLE</code><li><code>BOOLEAN</code><li><code>CHAR</code><li><code>VARCHAR($size)</code>: A string-like value that is given <code>$size</code> bytes. Unicode support varies from database to database so look at the documentation.<li>See more here: <a href=https://www.w3schools.com/sql/sql_datatypes.asp>https://www.w3schools.com/sql/sql_datatypes.asp</a></ul><p>Here's an annotated example of the standard SQL you would run to create a database, make a table in it, and add some rows.<pre class="z-code language-sql" data-lang=sql><code class=language-sql data-lang=sql><span class="z-sql z-source"><span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Create a database called coffeemaker
</span><span class="z-sql z-meta z-create"><span class="z-sql z-keyword z-other z-create">CREATE</span> <span class="z-sql z-keyword z-other">SCHEMA</span> </span><span class="z-sql z-meta z-full-identifier z-toc-list"><span class="z-sql z-function z-entity z-name">coffeemaker</span></span>;
<span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Start "using" the database, basically cd in
</span><span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> it. (This is a MySQL thing.)
</span>USE coffeemaker;

<span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Create a table with the following fields
</span><span class="z-sql z-meta z-create"><span class="z-sql z-keyword z-other z-create">CREATE</span> <span class="z-sql z-keyword z-other">TABLE</span> </span><span class="z-sql z-meta z-full-identifier z-toc-list"><span class="z-sql z-function z-entity z-name">recipes</span></span> (
  id <span class="z-sql z-storage z-type">BIGINT</span> <span class="z-sql z-keyword z-operator z-logical">NOT</span> <span class="z-sql z-constant z-language">NULL</span> AUTO_INCREMENT,
  <span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> 20 bytes pseudo-string
</span>  name <span class="z-sql z-storage z-type">VARCHAR</span>(<span class="z-sql z-constant z-numeric">20</span>) <span class="z-sql z-keyword z-operator z-logical">NOT</span> <span class="z-sql z-constant z-language">NULL</span>,
  price <span class="z-sql z-storage z-type">INT</span>,
  coffee <span class="z-sql z-storage z-type">INT</span>,
  milk <span class="z-sql z-storage z-type">INT</span>,
  chocolate <span class="z-sql z-storage z-type">INT</span>,
  <span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Specify the primary key. This is the thing
</span>  <span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> that is fastest to look up by and must be
</span>  <span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> unique for each row.
</span>  <span class="z-sql z-storage z-modifier">PRIMARY KEY</span> (id)
);

<span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Add a row into the 'recipes' table.
</span><span class="z-sql z-keyword z-other z-DML">INSERT INTO</span> recipes
(name, price, coffee, milk, sugar, chocolate)
<span class="z-sql z-keyword z-other z-DML z-II">VALUES</span>
(<span class="z-sql z-string z-quoted z-single"><span class="z-punctuation z-definition z-begin z-string z-sql">'</span>Coffee<span class="z-punctuation z-definition z-end z-string z-sql">'</span></span>, <span class="z-sql z-constant z-numeric">50</span>, <span class="z-sql z-constant z-numeric">1</span>, <span class="z-sql z-constant z-numeric">1</span>, <span class="z-sql z-constant z-numeric">1</span>, <span class="z-sql z-constant z-numeric">0</span>)
;

<span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Select all the recipes and show them
</span><span class="z-sql z-keyword z-other z-DML">SELECT</span> <span class="z-sql z-language z-star z-variable">*</span> <span class="z-sql z-keyword z-other z-DML">FROM</span> recipes;
</span></code></pre><p>Let's look a little more at those <code>SELECT</code> statements. <code>SELECT</code> statements are how you extract data from a database. They have the general form of<pre class="z-code language-sql" data-lang=sql><code class=language-sql data-lang=sql><span class="z-sql z-source"><span class="z-sql z-keyword z-other z-DML">SELECT</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>cols<span class="z-sql z-keyword z-operator z-comparison">></span> <span class="z-sql z-keyword z-other z-DML">FROM</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>tables<span class="z-sql z-keyword z-operator z-comparison">></span>
<span class="z-sql z-keyword z-other z-DML">WHERE</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>conditions<span class="z-sql z-keyword z-operator z-comparison">></span>;
</span></code></pre><p>Some of the simplest types of queries are where you select multiple columns and filter by different columns. Here's annotated examples.<pre class="z-code language-sql" data-lang=sql><code class=language-sql data-lang=sql><span class="z-sql z-source"><span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Select every column from the recipes table.
</span><span class="z-sql z-keyword z-other z-DML">SELECT</span> <span class="z-sql z-language z-star z-variable">*</span> <span class="z-sql z-keyword z-other z-DML">FROM</span> recipes;

<span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Select the name column from the recipes
</span><span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> table.
</span><span class="z-sql z-keyword z-other z-DML">SELECT</span> name <span class="z-sql z-keyword z-other z-DML">FROM</span> recipes;

<span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Select the recipe name with an id of 1.
</span><span class="z-sql z-keyword z-other z-DML">SELECT</span> name <span class="z-sql z-keyword z-other z-DML">FROM</span> recipes <span class="z-sql z-keyword z-other z-DML">WHERE</span> id <span class="z-sql z-keyword z-operator z-comparison">=</span> <span class="z-sql z-constant z-numeric">1</span>;

<span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Select recipes with at least one unit of
</span><span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> coffee and one unit of milk.
</span><span class="z-sql z-keyword z-other z-DML">SELECT</span> <span class="z-sql z-language z-star z-variable">*</span> <span class="z-sql z-keyword z-other z-DML">FROM</span> recipes
<span class="z-sql z-keyword z-other z-DML">WHERE</span> coffee <span class="z-sql z-keyword z-operator z-comparison">></span> <span class="z-sql z-constant z-numeric">1</span> <span class="z-sql z-keyword z-operator z-logical">AND</span> milk <span class="z-sql z-keyword z-operator z-comparison">></span> <span class="z-sql z-constant z-numeric">1</span>;
</span></code></pre><p>As you can see above, <code>*</code> is the wildcard (matches everything). For comparisons, we use <code>></code>, <code>>=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>=</code>, <code>!=</code> (note one equals for equality). To check for null we use <code>$columns IS NULL</code>.<p>We can do more advanced queries by doing filtering, sorting, and aggregation.<pre class="z-code language-sql" data-lang=sql><code class=language-sql data-lang=sql><span class="z-sql z-source"><span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Filter out all non-unique column combinations
</span><span class="z-sql z-keyword z-other z-DML">SELECT DISTINCT</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>columns<span class="z-sql z-keyword z-operator z-comparison">></span> <span class="z-sql z-keyword z-other z-DML">FROM</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>table<span class="z-sql z-keyword z-operator z-comparison">></span>;

<span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Sort the columns by the &lt;orderby columns>
</span><span class="z-sql z-keyword z-other z-DML">SELECT</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>columns<span class="z-sql z-keyword z-operator z-comparison">></span> <span class="z-sql z-keyword z-other z-DML">FROM</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>table<span class="z-sql z-keyword z-operator z-comparison">></span>
<span class="z-sql z-keyword z-other z-DML">WHERE</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>conditions<span class="z-sql z-keyword z-operator z-comparison">></span>
<span class="z-sql z-keyword z-other z-DML">ORDER BY</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>orderby columns<span class="z-sql z-keyword z-operator z-comparison">></span>
;

<span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Aggregate all columns by the groupby column
</span><span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> and count the number of matches in that
</span><span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> group.
</span><span class="z-sql z-keyword z-other z-DML">SELECT</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>columns<span class="z-sql z-keyword z-operator z-comparison">></span>, <span class="z-sql z-function z-aggregate z-support">COUNT</span>(<span class="z-sql z-keyword z-operator z-comparison">&lt;</span>groupby column<span class="z-sql z-keyword z-operator z-comparison">></span>)
<span class="z-sql z-keyword z-other z-DML">FROM</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>table<span class="z-sql z-keyword z-operator z-comparison">></span>
<span class="z-sql z-keyword z-other z-DML">WHERE</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>conditions<span class="z-sql z-keyword z-operator z-comparison">></span>
<span class="z-sql z-keyword z-other z-DML">GROUP BY</span> <span class="z-sql z-keyword z-operator z-comparison">&lt;</span>groupby column<span class="z-sql z-keyword z-operator z-comparison">></span>
;
</span></code></pre><h2 id=using-persistent-objects><a href=#using-persistent-objects aria-label="anchor link for using-persistent-objects">##</a> Using Persistent Objects</h2><p>When we want to reference rows in a table, we need the row's <strong>primary key</strong>. The primary key is a unique value (normally integer) which is the fastest way to look up something. We can insert this into other tables either as the direct value (gross! It's unchecked) or as a <strong>foreign key</strong>. When we use a foreign key, the database checks that the foreign key actually is a valid key in the table. It also does neat stuff with <em>cascading deletes</em> and the like. You can think of the foreign key as a <em>reference</em> to the row in the table or a restriction on the raw value.<p>Concretely, this is used if you want to have one class have a reference to another class. For example, consider the following two classes (sans annotations, IDs, etc.).<pre class="z-code language-java" data-lang=java><code class=language-java data-lang=java><span class="z-java z-source"><span class="z-java z-meta z-class"><span class="z-java z-meta z-identifier z-class"><span class="z-java z-storage z-type">class</span> <span class="z-java z-class z-entity z-name">User</span></span> <span class="z-java z-meta z-class z-body"><span class="z-java z-meta z-block"><span class="z-punctuation z-begin z-java z-section z-block">{</span>
  <span class="z-java z-class z-support">String</span> <span class="z-java z-meta z-field">name</span><span class="z-punctuation z-java z-terminator">;</span>
<span class="z-punctuation z-end z-java z-section z-block">}</span></span></span></span>

<span class="z-java z-meta z-class"><span class="z-java z-meta z-identifier z-class"><span class="z-java z-storage z-type">class</span> <span class="z-java z-class z-entity z-name">Transaction</span></span> <span class="z-java z-meta z-class z-body"><span class="z-java z-meta z-block"><span class="z-punctuation z-begin z-java z-section z-block">{</span>
  <span class="z-java z-class z-support">User</span> <span class="z-java z-meta z-field">purchaser</span><span class="z-punctuation z-java z-terminator">;</span>
  <span class="z-java z-class z-support">Integer</span> <span class="z-java z-meta z-field">cost</span><span class="z-punctuation z-java z-terminator">;</span>
<span class="z-punctuation z-end z-java z-section z-block">}</span></span></span></span>
</span></code></pre><p>This would result in the following two tables, users and transactions respectively, where <code>purchaser</code> is a foreign key.<table><thead><tr><th>id<th>name<tbody><tr><td>1<td>Eli<tr><td>...<td>...</table><table><thead><tr><th>id<th>purchaser<th>cost<tbody><tr><td>...<td>...<td>...<tr><td>2<td>1<td>10<tr><td>...<td>...<td>...</table><p>Here's how you create a foreign key<pre class="z-code language-sql" data-lang=sql><code class=language-sql data-lang=sql><span class="z-sql z-source"><span class="z-sql z-meta z-create"><span class="z-sql z-keyword z-other z-create">CREATE</span> <span class="z-sql z-keyword z-other">TABLE</span> </span><span class="z-sql z-meta z-full-identifier z-toc-list"><span class="z-sql z-function z-entity z-name">transactions</span></span> (
  id <span class="z-sql z-storage z-type">BIGINT</span> <span class="z-sql z-keyword z-operator z-logical">NOT</span> <span class="z-sql z-constant z-language">NULL</span> AUTO_INCREMENT,
  purchase <span class="z-sql z-storage z-type">BIGINT</span>,
  paid <span class="z-sql z-storage z-type">INT</span>,
  <span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> id is OUR primary key
</span>  <span class="z-sql z-storage z-modifier">PRIMARY KEY</span> (id),
  <span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> Create a column called purchase which is a
</span>  <span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> foreign key referencing the recipes.id
</span>  <span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> column. If this foreign key references the
</span>  <span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> same key in multiple different tables we
</span>  <span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> can list them out after `REFERENCES`
</span>  <span class="z-sql z-storage z-modifier">FOREIGN KEY</span> (purchase) <span class="z-sql z-storage z-modifier">REFERENCES</span> recipes(id)
);
</span></code></pre><p>As mentioned earlier, <strong>cascading deletes</strong> means that when we delete a row of a table then all the rows that reference that row get deleted as well.<p><em>What if we don't want that?</em> Normally what we do then is we just mark the row as "hidden" or "deleted" but don't actually remove the data. Then the backend knows to just ignore those (e.g. by adding a <code>WHERE</code> clause that filters it).<p>Sweet! Now we know how to reference a single row in another table. What if we want to make it variadic? That is reference multiple rows in our row.<p><em>You can't!</em> Well, kinda. What you do instead is create a <strong>join table</strong> that provides the many to many relationship. Then you reference a "collection id" on the join table in your referencing row and the join table has multiple rows that use that "collection id", each row mapping to one of the reference rows. That's a mouthful so here's an example.<p><code>transactions</code><table><thead><tr><th>id<th>paid<tbody><tr><td>1<td>175<tr><td>2<td>50<tr><td>3<td>100<tr><td>4<td>190</table><p><code>transactions_recipes</code><table><thead><tr><th>transaction_id<th>recipe_id<tbody><tr><td>1<td>1<tr><td>1<td>2<tr><td>2<td>1<tr><td>3<td>3<tr><td>4<td>2<tr><td>4<td>3</table><p><code>recipes</code><table><thead><tr><th>id<th>name<th>price<th>coffee<th>milk<th>sugar<th>chocolate<tbody><tr><td>1<td>Coffee<td>50<td>2<td>1<td>1<td>0<tr><td>2<td>Mocha<td>75<td>2<td>1<td>1<td>1<tr><td>3<td>Coffee<td>100<td>5<td>0<td>0<td>0</table><p>As you can see, transaction 1 ordered recipe 1 and 2, transaction 2 recipe 1, transaction 3 recipe 3, transaction 4 recipe 2 and 3.<p>If we then wanted to join all rows in the tables where the recipe was ordered as part of a transaction, we would run the following query.<p><em>Note:</em> This displays multiple rows when transactions have multiple recipes, but the recipe is identical.<pre class="z-code language-sql" data-lang=sql><code class=language-sql data-lang=sql><span class="z-sql z-source"><span class="z-sql z-keyword z-other z-DML">SELECT</span> <span class="z-sql z-language z-star z-variable">*</span>
<span class="z-sql z-keyword z-other z-DML">FROM</span>
  transactions <span class="z-sql z-keyword z-operator z-alias z-assignment">AS</span> t,
  transactions_recipes <span class="z-sql z-keyword z-operator z-alias z-assignment">AS</span> tr,
  recipes <span class="z-sql z-keyword z-operator z-alias z-assignment">AS</span> r
<span class="z-sql z-keyword z-other z-DML">WHERE</span>
  <span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> t.id is higher priority for sorting than
</span>  <span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> r.id
</span>  <span class="z-sql z-other z-constant z-database-name">t</span>.<span class="z-sql z-other z-constant z-table-name">id</span> <span class="z-sql z-keyword z-operator z-comparison">=</span> <span class="z-sql z-other z-constant z-database-name">tr</span>.<span class="z-sql z-other z-constant z-table-name">transaction_id</span>
  <span class="z-sql z-keyword z-operator z-logical">AND</span> <span class="z-sql z-other z-constant z-database-name">r</span>.<span class="z-sql z-other z-constant z-table-name">id</span> <span class="z-sql z-keyword z-operator z-comparison">=</span> <span class="z-sql z-other z-constant z-database-name">tr</span>.<span class="z-sql z-other z-constant z-table-name">recipe_id</span>
<span class="z-sql z-keyword z-other z-DML">ORDER BY</span> <span class="z-sql z-other z-constant z-database-name">t</span>.<span class="z-sql z-other z-constant z-table-name">id</span>, <span class="z-sql z-other z-constant z-database-name">r</span>.<span class="z-sql z-other z-constant z-table-name">id</span>
;
</span></code></pre><p><a href=https://hibernate.org/ >Hibernate</a> (and really JPA) uses many annotations to automate this, <code>@OneToOne</code>, <code>@OneToMany</code>, <code>@ManyToOne</code>, <code>@ManyToMany</code>, and <code>@ElementCollection</code>.<h1 id=web-frontend><a href=#web-frontend aria-label="anchor link for web-frontend">#</a> Web Frontend</h1><p>Web frontends fundamentally use <strong>HTML</strong> (Hypertext Markup Language) which is similar to XML (Extensible Markup Language) and <strong>CSS</strong> (Cascading Style Sheets) as a way for communicating the structure of documents/webpage. Since we want webpages to be able to modify themselves and be web apps (because browser wars and legacy!), the language <strong>JavaScript</strong> was created, which is a language which is designed to run in the browser and has a standard API for manipulating the <strong>DOM</strong> (Document Object Model) which is the programmatic representation of HTML documents.<h2 id=html><a href=#html aria-label="anchor link for html">##</a> HTML</h2><p>HTML tags are called DOM notes. You're probably somewhat familiar with it but here's an example. HTML includes a <code>&lt;head></code> and <code>&lt;body></code> sections. The head is where metadata (e.g. CSS, text encoding, page title). The body is the actual document explained.<pre class="z-code language-html" data-lang=html><code class=language-html data-lang=html><span class="z-text z-basic z-html"><span class="z-tag z-html z-meta z-doctype z-sgml"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;!</span><span class="z-keyword z-declaration z-doctype z-html">DOCTYPE</span> <span class="z-constant z-language z-doctype z-html">html</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
<span class="z-tag z-html z-any z-meta z-structure"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-any z-entity z-name z-structure">html</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
<span class="z-tag z-html z-any z-meta z-structure"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-any z-entity z-name z-structure">head</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
  <span class="z-comment z-block z-html"><span class="z-punctuation z-definition z-begin z-html z-comment">&lt;!--</span> Some comment <span class="z-punctuation z-definition z-end z-html z-comment">--></span></span>
  <span class="z-tag z-html z-any z-meta z-inline"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-any z-entity z-name z-inline">title</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>Page Title<span class="z-tag z-html z-any z-meta z-inline"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-any z-entity z-name z-inline">title</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>

  <span class="z-tag z-html z-begin z-meta z-style"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-entity z-name z-style">style</span></span><span class="z-tag z-html z-begin z-meta z-style"><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
  <span class="z-css z-source z-embedded z-html"><span class="z-css z-source"><span class="z-css z-comment z-block"><span class="z-punctuation z-definition z-comment z-css">/*</span> Inline CSS! <span class="z-punctuation z-definition z-comment z-css">*/</span></span>
  <span class="z-meta z-css z-selector"><span class="z-tag z-entity z-name z-css">body</span> </span><span class="z-meta z-css z-property-list"><span class="z-punctuation z-css z-property-list z-section">{</span>
    <span class="z-meta z-css z-property-name"><span class="z-css z-property-name z-support z-type">background-color</span></span><span class="z-punctuation z-css z-key-value z-separator">:</span><span class="z-meta z-css z-property-value"> </span><span class="z-meta z-css z-property-value"><span class="z-css z-support z-color z-constant z-w3c-extended-color-keywords">powderblue</span></span><span class="z-punctuation z-css z-rule z-terminator">;</span>
</span>  <span class="z-punctuation z-css z-property-list z-section">}</span>
  <span class="z-meta z-css z-selector"><span class="z-tag z-entity z-name z-css">p</span>    </span><span class="z-meta z-css z-property-list"><span class="z-punctuation z-css z-property-list z-section">{</span>
    <span class="z-meta z-css z-property-name"><span class="z-css z-property-name z-support z-type">color</span></span><span class="z-punctuation z-css z-key-value z-separator">:</span><span class="z-meta z-css z-property-value"> </span><span class="z-meta z-css z-property-value"><span class="z-css z-support z-color z-constant z-w3c-standard-color-name">red</span></span><span class="z-punctuation z-css z-rule z-terminator">;</span>
</span>  <span class="z-punctuation z-css z-property-list z-section">}</span>
  <span class="z-meta z-css z-selector"><span class="z-css z-entity z-attribute-name z-other z-class"><span class="z-punctuation z-definition z-css z-entity">.</span>some-class</span> </span><span class="z-meta z-css z-property-list"><span class="z-punctuation z-css z-property-list z-section">{</span>
    <span class="z-meta z-css z-property-name"><span class="z-css z-property-name z-support z-type">color</span></span><span class="z-punctuation z-css z-key-value z-separator">:</span><span class="z-meta z-css z-property-value"> </span><span class="z-meta z-css z-property-value"><span class="z-css z-support z-color z-constant z-w3c-standard-color-name">green</span></span><span class="z-punctuation z-css z-rule z-terminator">;</span>
</span>  <span class="z-punctuation z-css z-property-list z-section">}</span>
  </span></span><span class="z-tag z-html z-end z-meta z-style"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-entity z-name z-style">style</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
  <span class="z-comment z-block z-html"><span class="z-punctuation z-definition z-begin z-html z-comment">&lt;!--</span> External CSS! <span class="z-punctuation z-definition z-end z-html z-comment">--></span></span>
  <span class="z-tag z-html z-begin z-meta z-style"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-entity z-name z-style">style</span></span><span class="z-tag z-html z-begin z-meta z-style"> <span class="z-meta z-html z-attribute-with-value"><span class="z-entity z-html z-attribute-name z-other">href</span><span class="z-punctuation z-separator z-key-value z-html">=</span><span class="z-string z-quoted z-double z-html"><span class="z-punctuation z-definition z-begin z-html z-string">"</span>css/styles.css<span class="z-punctuation z-definition z-end z-html z-string">"</span></span></span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span><span class="z-tag z-html z-end z-meta z-style"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-entity z-name z-style">style</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>

  <span class="z-tag z-html z-begin z-meta z-script"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-entity z-name z-script">script</span></span><span class="z-tag z-html z-begin z-meta z-script"><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
  <span class="z-js z-source z-embedded z-html"><span class="z-js z-source"><span class="z-line z-comment z-double-slash z-js"><span class="z-punctuation z-definition z-comment z-js">//</span> Inline JavaScript!
</span>  <span class="z-meta z-function-call z-js z-method"><span class="z-js z-console z-support z-object z-type">console</span><span class="z-punctuation z-accessor z-js">.</span><span class="z-js z-console z-support z-function">log</span><span class="z-meta z-js z-group"><span class="z-punctuation z-begin z-section z-group z-js">(</span><span class="z-meta z-js z-string"><span class="z-string z-quoted z-double z-js"><span class="z-punctuation z-definition z-begin z-string z-js">"</span>Hello from JavaScript!<span class="z-punctuation z-definition z-end z-string z-js">"</span></span></span><span class="z-punctuation z-end z-section z-group z-js">)</span></span></span><span class="z-punctuation z-terminator z-js z-statement">;</span>
  </span></span><span class="z-tag z-html z-end z-meta z-script"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-entity z-name z-script">script</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
  <span class="z-comment z-block z-html"><span class="z-punctuation z-definition z-begin z-html z-comment">&lt;!--</span> External JavaScript! <span class="z-punctuation z-definition z-end z-html z-comment">--></span></span>
  <span class="z-tag z-html z-begin z-meta z-script"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-entity z-name z-script">script</span></span><span class="z-tag z-html z-begin z-meta z-script"> <span class="z-meta z-html z-attribute-with-value"><span class="z-entity z-html z-attribute-name z-other">src</span><span class="z-punctuation z-separator z-key-value z-html">=</span><span class="z-string z-quoted z-double z-html"><span class="z-punctuation z-definition z-begin z-html z-string">"</span>js/foo.js<span class="z-punctuation z-definition z-end z-html z-string">"</span></span></span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span><span class="z-tag z-html z-end z-meta z-script"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-entity z-name z-script">script</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
<span class="z-tag z-html z-any z-meta z-structure"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-any z-entity z-name z-structure">head</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
<span class="z-tag z-html z-any z-meta z-structure"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-any z-entity z-name z-structure">body</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
  <span class="z-tag z-html z-any z-meta z-block"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-any z-entity z-name z-block">h1</span> <span class="z-meta z-html z-attribute-with-value z-class"><span class="z-entity z-html z-attribute-name z-other z-class">class</span><span class="z-punctuation z-separator z-key-value z-html">=</span><span class="z-string z-quoted z-double z-html"><span class="z-punctuation z-definition z-begin z-html z-string">"</span></span><span class="z-string z-quoted z-double z-html"><span class="z-meta z-html z-class-name">some-class</span><span class="z-punctuation z-definition z-end z-html z-string">"</span></span></span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>This is a Heading<span class="z-tag z-html z-any z-meta z-block"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-any z-entity z-name z-block">h1</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
  <span class="z-tag z-html z-any z-meta z-block"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-any z-entity z-name z-block">p</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>This is a paragraph.<span class="z-tag z-html z-any z-meta z-block"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-any z-entity z-name z-block">p</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
<span class="z-tag z-html z-any z-meta z-structure"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-any z-entity z-name z-structure">body</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
<span class="z-tag z-html z-any z-meta z-structure"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-any z-entity z-name z-structure">html</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
</span></code></pre><h2 id=css><a href=#css aria-label="anchor link for css">##</a> CSS</h2><p>CSS has <strong>tags</strong>, <strong>classes</strong>, and <strong>ids</strong> which are used to classify each DOM element (e.g. HTML tag). Every HTML tag can have a single id and multiple classes.<pre class="z-code language-css" data-lang=css><code class=language-css data-lang=css><span class="z-css z-source"><span class="z-css z-comment z-block"><span class="z-punctuation z-definition z-comment z-css">/*</span> This applies to all divs <span class="z-punctuation z-definition z-comment z-css">*/</span></span>
<span class="z-meta z-css z-selector"><span class="z-tag z-entity z-name z-css">div</span> </span><span class="z-meta z-css z-property-list"><span class="z-punctuation z-css z-property-list z-section">{</span>
  <span class="z-meta z-css z-property-name"><span class="z-css z-property-name z-support z-type">color</span></span><span class="z-punctuation z-css z-key-value z-separator">:</span><span class="z-meta z-css z-property-value"> </span><span class="z-meta z-css z-property-value"><span class="z-css z-support z-color z-constant z-w3c-standard-color-name">red</span></span><span class="z-punctuation z-css z-rule z-terminator">;</span>
</span><span class="z-punctuation z-css z-property-list z-section">}</span>

<span class="z-css z-comment z-block"><span class="z-punctuation z-definition z-comment z-css">/*</span>
  This applies to any tag with
  class="class-selector"
<span class="z-punctuation z-definition z-comment z-css">*/</span></span>
<span class="z-meta z-css z-selector"><span class="z-css z-entity z-attribute-name z-other z-class"><span class="z-punctuation z-definition z-css z-entity">.</span>class-selector</span> </span><span class="z-meta z-css z-property-list"><span class="z-punctuation z-css z-property-list z-section">{</span>
  <span class="z-meta z-css z-property-name"><span class="z-css z-property-name z-support z-type">color</span></span><span class="z-punctuation z-css z-key-value z-separator">:</span><span class="z-meta z-css z-property-value"> </span><span class="z-meta z-css z-property-value"><span class="z-css z-support z-color z-constant z-w3c-standard-color-name">green</span></span><span class="z-punctuation z-css z-rule z-terminator">;</span>
</span><span class="z-punctuation z-css z-property-list z-section">}</span>

<span class="z-css z-comment z-block"><span class="z-punctuation z-definition z-comment z-css">/*</span>
  This applies to any tag with
  id="id-selector"
<span class="z-punctuation z-definition z-comment z-css">*/</span></span>
<span class="z-meta z-css z-selector"><span class="z-css z-entity z-attribute-name z-other z-id"><span class="z-punctuation z-definition z-css z-entity">#</span>id-selector</span> </span><span class="z-meta z-css z-property-list"><span class="z-punctuation z-css z-property-list z-section">{</span>
  <span class="z-meta z-css z-property-name"><span class="z-css z-property-name z-support z-type">color</span></span><span class="z-punctuation z-css z-key-value z-separator">:</span><span class="z-meta z-css z-property-value"> </span><span class="z-meta z-css z-property-value"><span class="z-css z-support z-color z-constant z-w3c-standard-color-name">blue</span></span><span class="z-punctuation z-css z-rule z-terminator">;</span>
</span><span class="z-punctuation z-css z-property-list z-section">}</span>
</span></code></pre><p>You might notice that in the above example that all those styles conflict with each other. What if we apply all of them at the same time? <strong>The id style would take precedence</strong>. Really, every style gets a <em>specificity</em> where a tag selector gets a weight of [0,0,0,1], class [0,0,1,0], id [0,1,0,0], and inline styling [1,0,0,0]. When we have multiple selectors apply, we get the winning style by picking the style with the highest specificity. When multiple tags apply (e.g. <code>div.class-selector</code>) we add them together. If any style has <code>!important</code> then it automatically wins. If multiple things are important then normal specificity rules apply but only for <code>!important</code> elements. For example, in the example below the text is blue because <code>#id-selector</code> wins.<pre class="z-code language-html" data-lang=html><code class=language-html data-lang=html><span class="z-text z-basic z-html"><span class="z-tag z-html z-any z-meta z-block"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-any z-entity z-name z-block">div</span> <span class="z-meta z-html z-attribute-with-value z-id"><span class="z-entity z-html z-attribute-name z-other z-id">id</span><span class="z-punctuation z-separator z-key-value z-html">=</span><span class="z-string z-quoted z-double z-html"><span class="z-punctuation z-definition z-begin z-html z-string">"</span></span><span class="z-string z-quoted z-double z-html"><span class="z-meta z-html z-id z-toc-list">id-selector</span><span class="z-punctuation z-definition z-end z-html z-string">"</span></span></span> <span class="z-meta z-html z-attribute-with-value z-class"><span class="z-entity z-html z-attribute-name z-other z-class">class</span><span class="z-punctuation z-separator z-key-value z-html">=</span><span class="z-string z-quoted z-double z-html"><span class="z-punctuation z-definition z-begin z-html z-string">"</span></span><span class="z-string z-quoted z-double z-html"><span class="z-meta z-html z-class-name">class-selector</span><span class="z-punctuation z-definition z-end z-html z-string">"</span></span></span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
  div text
<span class="z-tag z-html z-any z-meta z-block"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-any z-entity z-name z-block">div</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
</span></code></pre><p>CSS is called <em>cascading</em> because in the following example "span text" would be red even though the span isn't directly colored. When things aren't directly styled they <strong>inherit</strong> from their parent.<pre class="z-code language-html" data-lang=html><code class=language-html data-lang=html><span class="z-text z-basic z-html"><span class="z-tag z-html z-any z-meta z-block"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-any z-entity z-name z-block">div</span> <span class="z-meta z-html z-attribute-with-value z-id"><span class="z-entity z-html z-attribute-name z-other z-id">id</span><span class="z-punctuation z-separator z-key-value z-html">=</span><span class="z-string z-quoted z-double z-html"><span class="z-punctuation z-definition z-begin z-html z-string">"</span></span><span class="z-string z-quoted z-double z-html"><span class="z-meta z-html z-id z-toc-list">id-selector</span><span class="z-punctuation z-definition z-end z-html z-string">"</span></span></span> <span class="z-meta z-html z-attribute-with-value z-class"><span class="z-entity z-html z-attribute-name z-other z-class">class</span><span class="z-punctuation z-separator z-key-value z-html">=</span><span class="z-string z-quoted z-double z-html"><span class="z-punctuation z-definition z-begin z-html z-string">"</span></span><span class="z-string z-quoted z-double z-html"><span class="z-meta z-html z-class-name">class-selector</span><span class="z-punctuation z-definition z-end z-html z-string">"</span></span></span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
  div text <span class="z-tag z-html z-any z-meta z-inline"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;</span><span class="z-tag z-html z-any z-entity z-name z-inline">span</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>span text<span class="z-tag z-html z-any z-meta z-inline"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-any z-entity z-name z-inline">span</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
<span class="z-tag z-html z-any z-meta z-block"><span class="z-punctuation z-definition z-tag z-html z-begin">&lt;/</span><span class="z-tag z-html z-any z-entity z-name z-block">div</span><span class="z-punctuation z-definition z-tag z-html z-end">></span></span>
</span></code></pre><h2 id=javascript-angularjs><a href=#javascript-angularjs aria-label="anchor link for javascript-angularjs">##</a> JavaScript (+ AngularJS)</h2><p>JavaScript is "the language of the browser". Browsers are essentially JavaScript engines that have a rendering engine that runs on HTML and CSS. This class won't focus on learning JavaScript specifically. It's a standard interpreted, imperative, multi-paradigm language with plenty of resources online, so if you're lost you should be able to easily find some online. Instead, we'll focus on learning <strong>AngularJS</strong>.<p>AngularJS (also called Angular version 1) is the deprecated version of the Angular web-frontend JavaScript framework. A <strong>framework</strong> is an opinionated library (or set of libraries) that helps control and handle the entire lifecycle and structure of a project. It intends to make things easier.<p><em>Why do we use the old version of the framework?</em> Well, it was kinda new when this project's tech stack was last updated and Dr. Heckman is really busy. Also, stubbornly staying on old versions even though it makes you do more work is realistic to industry so there's that I guess...<p><strong>TODO: Finish from the recording.</strong><h1 id=presentations><a href=#presentations aria-label="anchor link for presentations">#</a> Presentations</h1><p>Presentations are an important part of communicating with management and other developers. As such, this will be our assignment for milestone 6 of the on-boarding project.<p>The general layout of a presentation is the classic organization that you've probably been taught since elementary school.<ul><li>Introduction: Identify your purpose, thesis, POV / ask / desired action, and audience. Introduce your "story" if applicable.<li>Body: Build supporting points for your thesis.<li>Conclusion: Restate your purpose and POV. Do a short overview. Then conclude with any advice you have.</ul><p>Visuals and text should be simple, readable, and be a "launch pad for discussion". Most importantly, think about the person who will have the hardest time reading the presentation. For example, "can the person in the back of class see this?" or "can someone watching this on their phone see this?". <strong>This includes increasing text size for code and browsers.</strong><p>For our on-boarding project, we will do live (recorded) demos. For this, make sure to <em>freeze your code</em> (i.e. stop making changes), script your demos, and practice your demos. That way nothing surprising happens! Live demos are filled with peril, so please for the love of god make sure that it won't fail.<h1 id=code-inspections-review><a href=#code-inspections-review aria-label="anchor link for code-inspections-review">#</a> Code Inspections/Review</h1><p>Code inspection/review is the process of reviewing software artifacts by developers, managers, and/or customers for comment or approval. The purpose is to detect errors, ensure software meets requirements, and that everything is well designed.<p>There are a few big different types of inspections<ul><li>Desk Check: Offline inspection done independently with findings (optionally) discussed at a meeting or directly with the member.<li>Checklist: A set of standards set by the team that a developer can review.<li>Structured Walkthrough: Done normally during a meeting. The developer walks the entire team through a section of code line by line.<li>Commit Inspection: Basically a desk check but via PRs and diffs and a focus on changed content.</ul><p>The benefits of reviewing code include the following.<ul><li>Promote Openness: People share knowledge which builds a culture of sharing knowledge and understanding everything.<li>Raises Standard: People expect good code.<li>Propel Teamwork: We have a standard way of communicating and resolving issues.<li>Promote Values: Values make it into checklists and are checked.<li>Frame Social Recognition: Trusted reviewers.</ul><p>One of the most powerful things with standardization and improvement of processes is <strong>checklists</strong> (like ARC). They provide a standard list of things to think about and consider, insuring that all knowledge is shared and every requirement is checked every time.<p>There are several roles for inspection. These don't have to be set in stone but it is helpful to assign people individual work to help make the process smoother.<ul><li>Author: Person who wrote it.<li>Inspectors: Everyone except author.<li>Moderator: Member of quality assurance team.<li>Scribe: Take notes during inspection of issues of interest.<li>Reader: Person who interprets artifact for inspectors.</ul><p>Michael Fagan invented formal software inspections and as such the standard methodology he introduced is called the <strong>Fagan inspection</strong>. Fagan inspection is simple. It is there is individual review by all inspectors, where they mark all faults found, following the checklist, and track how much time they spent (less than 2 hours). Meanwhile the author prepares for questions. Then there is a review meeting where all inspectors and the author meet. The moderator calls the meeting and all inspectors go through all defects. The goal is <strong>not to correct defects</strong> because that takes time, it should be to give a <em>course of action</em> and trust that the author knows how to fix it. If necessary the author can ask questions after inspection. Inspection shouldn't last more than 2 hours and if it needs to then it should be split up.<p>The feedback should not be framed (either by the inspector or the author) as a <em>personal attack</em> because those are counterproductive. Also, style issues should not be the focus of the inspection. Possibly note it and definitely have an automated formatter.<p>The preparation component of inspection is <em>incredibly important</em>. At the start of a meeting, you should ask how long everyone spent on the individual portion of inspection. If most people did not do the preparation, you should consider cancelling the meeting.<p><em>What are the issues with code review?</em> It's not effective for <strong>discovering bugs</strong>, the findings are normally too low level and don't find architectural issues, and developers normally don't like it. <strong>It's still effecting for knowledge transfer and ensuring requirements are met.</strong><h1 id=software-process-models><a href=#software-process-models aria-label="anchor link for software-process-models">#</a> Software Process Models</h1><p>A <strong>software process model</strong> is a standard template with how to do software development.<p><strong>Plan-driven process models</strong> have up-front, stable requirements. The cost of development is minimized by doing all planning up front. This is common for large, safety-critical projects, like aerospace and automotive projects. This allows for specialization.<p>In general, plan-driven process models encourage predictability, thorough documentation, and clear delineation of tasks. Normally companies even have specific people whose job it is to do process improvement.<p><strong>Agile process models</strong> have changing requirements. Agile process models try to quickly and effectively incorporate changes to reduce the cost of requirements changing during work. This is common for app development<p><em>Note:</em> These are loose divides because really everything is a spectrum from planning early to planning late.<h2 id=models><a href=#models aria-label="anchor link for models">##</a> Models</h2><h2 id=plan-driven-process-models><a href=#plan-driven-process-models aria-label="anchor link for plan-driven-process-models">##</a> Plan Driven Process Models</h2><p>The <strong>waterfall model</strong> is the classic plan-driven process model. It is extremely predictable in terms of cost and time. However, it doesn't consider risk or effectively adapt to changing requirements.<p>The <strong>spiral model</strong> is a modification of the waterfall model. Basically instead of doing planning all up front, you heavily plan and do risk-analysis of smaller prototypes. For example, first you try to get some requirements, do a small prototype, do risk analysis with that prototype. Then you start to plan heavier development, doing risk analysis again, and developing another more detailed prototype.<p>The <strong>personal software process (PSP)</strong> is a system of checklists, scripts, and templates to guide people through the "levels" of PSP. Basically you keep track of defects you introduce and how much time you spend on completing tasks to figure out what defects you normally introduce and how much time you spend so you can get better at estimation. This tends to improve quality but people struggle with detailed reporting and many people stop using it after awhile.<p>The <strong>team software process (TSP)</strong> is like PSP but extended to larger projects and teams. To do this it adds more scripts, more forms, and more roles. The idea is that by assigning everyone a task/part that they own you can improve accountability and quality.<p>The <strong>rational unified process (RUP)</strong> applies ""object-oriented principles"" and uses UML as a notation for some reason. It's extremely flexible and thus hard to define. That's really all we have to say.<h2 id=agile-process-models><a href=#agile-process-models aria-label="anchor link for agile-process-models">##</a> Agile Process Models</h2><p>The agile processes (as a name) were kicked off by the "Agile Manifesto" which was published in February 2001. Basically it said<blockquote><p>Individuals and interactions over process and tools. Working software over comprehensive documentation. Customer collaboration over contract negotiation. Responding to change over following a plan.</blockquote><p>And then it listed the following 12 principles.<ul><li>Our highest priority is to satisfy the customer through <strong>early and continuous delivery of valuable software</strong>.<li><strong>Welcome changing requirements</strong>, even late in development. Agile processes harness change for the customer's competitive advantage.<li><strong>Deliver working software frequently</strong>, from a couple of weeks to a couple of months, with a preference to the shorter timescale.<li>Business people and developers must <strong>work together daily</strong> throughout the project.<li>Build projects around <strong>motivated individuals</strong>. Give them the environment and support they need, and trust them to get the job done.<li>The most efficient and effective method of conveying information to and within a development team is <strong>face-to-face conversation</strong>.<li><strong>Working software</strong> is the primary measure of progress.<li>Agile processes promote <strong>sustainable development</strong>. The sponsors, developers, and users should be able to maintain a constant pace indefinitely.<li><strong>Continuous attention</strong> to <strong>technical excellence and good design</strong> enhances agility.<li><strong>Simplicity</strong>, the art of maximizing the amount of work not done, is essential.<li>The best architectures, requirements, and designs emerge from <strong>self-organizing teams</strong>.<li>At regular intervals, the team <strong>reflects</strong> on how to become more effective, then tunes and adjusts its behavior accordingly.</ul><p>The <strong>incremental model</strong> you get requirements, do some design, and then implement a feature. You do this iteratively to gradually fulfil more and more requirements. This still allow parallel work by having your design people designing requirements and requirements people getting newer requirements. The idea here is you don't <strong>redo</strong> any work but instead just keep <strong>adding</strong> to the project.<p>The <strong>iterative model</strong> is the most agile plan-driven model. It is essentially the <em>incremental model</em> except instead of adding on you redo things at the end of each increment. The idea is that this minimizes <strong>technical debt</strong>, which is just poor design decisions made to meet a deadline.<p>The <strong>LEAN model</strong> tries to do the following 9 things<ul><li>Eliminate Waste: Prevent extra features, thrashing, and bureaucracy.<li>Create Knowledge: Do reviews<li>Build Quality In: Write tests and do CI.<li>Defer Commitment: Try to schedule irreversible decisions to the last responsible moment.<li>Deliver Fast: Try to cut down on things in-progress.<li>Respect People: Be accepting and congratulatory. Don't overwork people.<li>Improve the System: Make measurements of quality.</ul><p><strong>Extreme programming (XP)</strong> values pair programming, working together, incremental design, basically everything in agile. Work is organized into <strong>epics</strong> and <strong>stories</strong>. Epics are a collection of stories. Stories are informal requirements that say what a specific user wants to be able to do and why. These features/requirements should be able to implemented in a single <strong>sprint</strong>. A sprint is some measure of time, normally a weak.<p>TODO: Finish<h1 id=planning-project-management><a href=#planning-project-management aria-label="anchor link for planning-project-management">#</a> Planning & Project Management</h1><p>Project management goes through three main phases:<ul><li>Planning: Plan for releases, some design, schedule resources, etc.<li>Execution<li>Control: What went well what went less well?</ul><p>For release planning, you need to understand the <em>themes</em> or <em>high level epics</em> you want to focus on, followed by a goal for you project, and your expected velocity. So if we want to get 240 story points and we get 30 story points done per iteration, it'll take 8 iterations (estimated) to do something.<p>Generally, when you're planning releases you either think about the release date or the release features. With features you determine the release date by the features included (velocity and story points). With dates you determine the features by the required release date. We'll be doing date focused release planning because, well, the class can only be so long.<p>A critical piece to planning is understanding your velocity/progress. A good way to track this is with <strong>burn-down charts</strong>, where you track the number of story points left at the end of every iteration. This lets you easily see your velocity (the slope), your progress (the hight), and whether or not you'll reach the deadline (estimated line).<figure><img src=burndown_chart.png><figcaption><p>Burndown Chart Example</figcaption></figure><p>There are two types of iterations we consider. A <strong>normal iteration</strong> and a <strong>stabilization iteration</strong>. A normal iteration adds features and fixes bugs. A stabilization iteration refactors code, documents code, removes old code, and does all that good stuff. A stabilization iteration earns no story points because fuck you; suffer with bad code; good code isn't Agile.<h2 id=feature-based-roles><a href=#feature-based-roles aria-label="anchor link for feature-based-roles">##</a> Feature Based Roles</h2><p>Often it is beneficial to split up tasks and their owners by <strong>roles</strong>. Roles categorize what aspect of the project is being worked on. This helps tasks both be more efficiently assigned and more efficiently worked on. There are a few different types of division:<ul><li>User Role Division: Each developer implements a use case from the perspective of a certain user.<li>Specialization Roles: You specialize on QA, planning, team management, etc.<li>Feature-Based Roles: Split based on part of system, e.g. frontend, backend, and data entry.</ul><p>Estimation is an important part of software development (and really just doing things in general). <strong>Ideal time</strong> is the amount of time it takes to do something with no distractions. <strong>Elapsed time</strong> is the amount of time it takes to do something in practice. Generally, we're pretty good for estimating ideal time but bad at elapsed time. A good rule of thumb is the multiply ideal time by 3-4.<p>Some teams use <strong>story points</strong>, which are just a unitless measures of how long it takes to do something. The actual value is meaningless but the relative amount is valuable. It allows you to compare how long tasks will take. A standard way to do things is assign an "average" task 5 points but really it depends on the team.<p>With story points, how do we assign them? There's a few ways.<ul><li>Expert Opinion: Just use your gut feeling.<li>Planning Poker: You have a moderator read the description and the task. Then everyone silently selects a card for their estimate and present it. Then the person with the highest estimate justifies it and the person with the lowest estimate justifies it. Then everyone re-votes until they converge.<ul><li>This is less about getting an estimate and more about sharing knowledge and coming to a common understand. They can help get a rough idea of how to implement things and design them.</ul></ul><p>One reason we do story points is to find <strong>velocity</strong>, which is how many points we do per week. This helps improve estimates for how many tasks a team can complete.<h1 id=security-privacy><a href=#security-privacy aria-label="anchor link for security-privacy">#</a> Security & Privacy</h1><ul><li>Asset: People, property, and info under protection.<li>Threat: Source of attack.<li>Vulnerability: Weakness in protections. Latent, not necessarily exploited.<ul><li>Like Fault.</ul><li>Exploit/Attack: Concrete use of a vulnerability to breach protection.<ul><li>Like Error.</ul><li>Information Security:<ul><li>Confidentiality: Not shared.<li>Integrity: Don't alter or destroy data.<li>Availability: Readily available to authorized users.</ul><li>Authentication: Act of validating entity's identity.<li>Authorization: Act of checking whether the user is allowed to perform certain actions based on who they are.</ul><p><strong>Security</strong> is controlling what users can do and see, in other words it is the ability of the system to perform its function with <em>confidentiality, integrity, or availability losses</em>. <strong>Privacy</strong> is just controlling what others can see.<p>When we think about security, we don't just think about normal users making mistakes. We think about intelligent attackers actively trying to exploit your system.<h2 id=ieee-top-10-secure-design-principles><a href=#ieee-top-10-secure-design-principles aria-label="anchor link for ieee-top-10-secure-design-principles">##</a> IEEE Top 10 Secure Design Principles</h2><p>Below are the 10 principles, but our biggest ones (not listed below) are never trust single points of failure, never trust your user, never trust input, and never trust defaults (especially passwords).<p>Here are the real IEEE top 10 design principles for secure design.<p><strong>Earn or give, but never assume trust.</strong> Ask how many permissions does this <em>really</em> need? How fine grained can I make permissions? Assume people are trying to exploit your system. Assume your users will make mistakes. Don't assume the server APIs will be called in your expected order. Don't expect the UI will actually restrict what the user sends to the server. (i.e. don't only add business logic on frontend.) Don't store secrets on the client side.<p><strong>Use tamper‐proof authentication mechanisms.</strong> Use two-factor authentication or other systems.<p><strong>Authorize after you authenticate.</strong> Ensure that the user really has the permissions required to do a particular action. This should be done before important actions.<p><strong>Strict separation.</strong> Separate data your system works with and what your code does. Don't evaluate strings. Don't evaluate or do string concatenation with SQL queries. Ideally use <strong>prepared queries</strong> (see below). Don't provide too much error information (e.g. don't do a stack trace). Don't say whether your password or username was incorrect.<p>Prepared queries have a series of free variables represented by <code>?</code>. These queries are compiled to a binary format and optimized by the database engine. This makes it faster to execute future queries using this. These <code>?</code> variables can then be <em>bound</em> to concrete types. Strings here don't need to be escaped because the binary format ensures that strings and other variables are interpreted appropriately.<pre class="z-code language-sql" data-lang=sql><code class=language-sql data-lang=sql><span class="z-sql z-source"><span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> This query has 2 parameters, one for name and
</span><span class="z-sql z-comment z-double-dash z-line"><span class="z-punctuation z-definition z-comment z-sql">--</span> one for price.
</span><span class="z-sql z-keyword z-other z-DML">INSERT INTO</span> products
(name, price)
<span class="z-sql z-keyword z-other z-DML z-II">VALUES</span>
(?, ?);
</span></code></pre><p><strong>Explicitly validate ALL data.</strong> Validate multiple levels and <em>especially</em> whenever data crosses a <strong>trust boundary</strong>, for example when the user enters information or data comes from the API. You should have a <strong>safe list / whitelist</strong> and a <strong>block list / blacklist</strong><p><strong>Use cryptography correctly.</strong> Don't push your secrets to git repositories. Don't roll your own cryptographic libraries. Ensure you safely share keys and other security things.<p><strong>Identify and handle sensitive data.</strong> Make sure that you trust the servers which you are storing information. Make sure that sensitive data is being encrypted (i.e. don't use plain text). Often we have different levels for the different types of information.<p><strong>Always consider users.</strong> Make sure that your policies are reasonable for the average person to follow. That is, don't be annoying because then users will try to circumvent your policy.<p><strong>Understand your attack surface.</strong> Your <strong>attack surface</strong> is the sum of all paths for data and commands into and out of the system. The fewer paths you have, the easier it is to secure them all. Close all ports possible. Restrict user privileges as much as possible.<p><strong>Design flexible systems.</strong> Ensure that updates and changes to the system don't break security. For example, don't leak secrets when people change their password, don't leak secrets when components outside your control change, and don't leak secrets when someone updates their system.<h2 id=cross-site-scripting-xss><a href=#cross-site-scripting-xss aria-label="anchor link for cross-site-scripting-xss">##</a> Cross-Site Scripting XSS</h2><p>Cross site scripting occurs where user input somehow changes the HTML output (for other people) without sufficient cleaning. If this occurs, then a user could inject script tags into the HTML which other users will then load. This allows for basic things like vandalism of websites or even worse injection of JavaScript which can spoof fake input boxes (e.g. credit card number) or load some malware onto the client which just loaded the page. Here is an example of a XSS vulnerability.<pre class="z-code language-java" data-lang=java><code class=language-java data-lang=java><span class="z-java z-source">page <span class="z-java z-meta z-assignment z-rhs"><span class="z-java z-assignment z-keyword z-operator">+=</span> <span class="z-java z-class z-support">String</span><span class="z-punctuation z-java z-accessor z-dot">.</span><span class="z-java z-meta z-function-call"><span class="z-java z-variable z-function">format</span><span class="z-punctuation z-begin z-java z-section z-parens">(</span>
  <span class="z-java z-string z-double z-quoted"><span class="z-punctuation z-definition z-begin z-string z-java">"</span>&lt;input name='creditcard' type='TEXT' <span class="z-punctuation z-definition z-end z-string z-java">"</span></span>
    <span class="z-java z-keyword z-operator z-arithmetic">+</span> <span class="z-java z-string z-double z-quoted"><span class="z-punctuation z-definition z-begin z-string z-java">"</span>value='%s'><span class="z-punctuation z-definition z-end z-string z-java">"</span></span><span class="z-punctuation z-java z-comma z-separator">,</span>
  request<span class="z-punctuation z-java z-accessor z-dot">.</span><span class="z-java z-meta z-function-call"><span class="z-java z-variable z-function">getParameter</span><span class="z-punctuation z-begin z-java z-section z-parens">(</span><span class="z-java z-string z-double z-quoted"><span class="z-punctuation z-definition z-begin z-string z-java">"</span>CC<span class="z-punctuation z-definition z-end z-string z-java">"</span></span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span><span class="z-punctuation z-end z-java z-section z-parens">)</span></span></span><span class="z-punctuation z-java z-terminator">;</span>
</span></code></pre><p>This could insert.<pre class=z-code><code><span class="z-text z-plain">'>&lt;script>
  document.location='http://attacker.com/'
&lt;script'
</span></code></pre><h2 id=threat-modeling><a href=#threat-modeling aria-label="anchor link for threat-modeling">##</a> Threat Modeling</h2><p>In order to secure systems, we need to understand what we need to secure. To help us this we have <strong>threat models</strong> which semi-formally describe how our system could be insecure.<p>We can do threat modeling with <strong>data flow diagrams</strong> which models all the nodes/actors in a system and how the data goes between them (and is validated). Often the graph is segmented by <em>trust boundaries</em> (for example our local server vs an unknown client).<p>One popular threat model is the <strong>STRIDE threat model</strong> which is an acronym for the following.<ul><li>Spoofing: pretending to be someone else by using their credentials.<li>Tampering: malicious modification of data.<li>Repudiation: users deny an action because no proof that action happened.<li>Information Disclosure: exposing information to those that shouldn't have it.<li>Denial of Service: valid uses cannot access the system.<li>Elevation of Privilege: user gains privilege they shouldn't have.</ul><p>The idea with the model is that these are the 6 main ways for security to be compromise. By looking at each one individually and how your system handles each of these kind of exploits, you can determine how you need to secure your system and what vulnerabilities exist. That is, you're finding the <strong>abuse cases</strong> which is the possible threats in your system. You can model these attacks using <strong>attack trees</strong>.<p>Normally when exploits or other security threats are found by cyber-security peoples, <strong>attack libraries</strong> are published illustrating how the attack works. This helps secure future systems.<p>Once we've identified these issues, how do we address them? There are 5 main ways.<ul><li>Mitigate: what have similar software packages done to mitigate the threat, and how has that worked for them?<li>Eliminate: what software components are affected in eliminating the threat?<li>Transfer: will you need to transfer data or processes to another part of the system that is more trusted/secure?<li>Accept: outline the "acceptance criteria" that you will use to indicate the threat has been properly addressed.<li>Wait and See: be prepared if an attacker or other malicious user manages to find a way to exploit a vulnerability associated with the threat.</ul><h2 id=risk-management><a href=#risk-management aria-label="anchor link for risk-management">##</a> Risk Management</h2><p>A <strong>risk</strong> is a potential future harm. Often risk is unavoidable but it is still undesirable. As such we try to minimize the <em>probability</em> that a risk occurs. A risk is no longer a risk if it has happened.<p>How do we quantify risks? There are a few main ways: guess, take measurements, reason from first principles, listen to experts, and listen to experience.<p><strong>Risk management</strong> is what we do to <em>identify</em>, <em>address</em>, and <em>eliminate</em> risks before they become significant threats or a major source of expense. We manage risks in two main ways: <strong>reactively</strong> and <strong>proactively</strong>. Reactive teams correct or fix the problem rapidly in response to a crisis (e.g. firefighters). Proactive teams try to prevent risks from becoming threats in the first place (e.g. national park service).<p>In order to mitigate risks, we can take the following actions.<ul><li>Information Buying: Get more information by investing time to handle the risk. For example the risk of using new technology can be handled by using throw-away projects.<li>Contingency Plans: Make sure you know what to do if the risk happens.<li>Risk Reduction: Try to reduce the likelihood of the risk to occur. For example employ inspections to reduce the risk of losing information when someone leaves.<li>Risk Acceptance: Conciously accept that you will live with the risk and potential loss.<li>Risk Avoidance: Simply don't take the risky action. Often a lose-lose strategy because then you're not doing much.<li>Risk Protection: Buy insurance or use redundant systems. For example have more servers than you need.</ul><h2 id=privacy><a href=#privacy aria-label="anchor link for privacy">##</a> Privacy</h2><p>Privacy is essentially the <strong>right to be left alone</strong>, so you can have private facts.<p>Here is the <em>Better Buisiness Bureau</em>'s outline of what parts of a privacy policy there are.<ul><li>Policy: what personal information is being collected on the site<li>Choice: what options the customer has about how/whether their data is collected and used<li>Access: how a customer can see what data has been collected and change/correct it if necessary<li>Security: state how any data that is collected is stored/protected<li>Redress: what customer can do if privacy policy is not met<li>Updates: how policy changes will be communicated</ul><p>The <strong>Code of Fair Information Practices (FIPs)</strong> is a set of internationally recognized practices of addressing privacy of information about individuals. Essentially it says that you cannot keep secret personal data, a person must be able to find out what information is being stored about them, and a person's information can only be used for what they consent to.<p>The <strong>Children's Online Privacy Protection Act (COPPA)</strong> applies only to children under 13. It essentially requires additional protections, parental consent, and provides additional powers to the parent such as a way for parents to review information.<p>The <strong>Health Insurance Portability and Accountability Act (HIPAA)</strong> provides a standard for privacy and security of your <strong>protected health information (PHI)</strong>. Further it provides a standardization of electronic data interchange of healthcare information. Protected health information is any information that can be used to identify the patient, including demographic, medical, and financial information in medical records.<p><strong>EU General Data Protection Regulation (GDPR)</strong><h1 id=maintenance><a href=#maintenance aria-label="anchor link for maintenance">#</a> Maintenance</h1><p>Maintenance is the "long tail" of development. That is it's what you spend most of your time doing. There are four main types of maintenance we'll discuss.<p><strong>Corrective</strong> maintenance tries to correct active faults. It is extremely difficult because you want to fix the bug without breaking anything else. This is made easier with good tests and clear design.<p><strong>Perfective</strong> maintenance attempts to make the software better even when its not broken. Like looking at what features are used and make the unused features easier to use or otherwise better.<p><strong>Adaptive</strong> maintenance is <em>reactive</em> changes that attempt to make the system still usable on a new environment. This can be because of changes of work policy, laws like the EU's GDPR, or operating system changes. Often adaptive maintenance is in response to <strong>bit rot</strong>, which is when software starts to break over time because of changes in its environment.<p><strong>Preventative</strong> maintenance is <em>active</em> changes that attempt to make the system still usable in future environments. In essence, it is adaptive maintenance done ahead of time. You refactor things to make them easier to understand and maintain even when they aren't actively broken. Because you're not increasing/improving functionality, this is hard to sell to companies and managers.<p><em>What may effect the costs of maintenance?</em> If you have lots of turnover, there is more maintenance effort. If you have contract based software developers, there may be little incentive to make maintenance easy.<p><em>How do we convince users to update?</em> It's difficult. We need to balance user input and user annoyance. Updates that require user input are likely to be put off and can be annoying. However, on the flip-side forcibly updating software that causes disruptions to the user can be really annoying, for example Windows update suddenly restarting your computer. It's a balance to make your system as usable as possible.<h1 id=software-engineering-economics><a href=#software-engineering-economics aria-label="anchor link for software-engineering-economics">#</a> Software Engineering Economics</h1><h2 id=cost-of-bugs><a href=#cost-of-bugs aria-label="anchor link for cost-of-bugs">##</a> Cost of Bugs</h2><p>One of the main focuses of software engineering economics is to identify how expensive bugs/faults are.<p>In general the later you find and fix a bug the more expensive it is.<p><em>However, how do we actually determine what caused a fault?</em> We do this with <strong>root cause analysis</strong>. Essentially, root cause analysis is where you keep asking "Why?" a fault occurred until you can no longer get a meaningful response. So for example for the fault that a server crashed.<ul><li>Our server crashed. Why?<li>CPU usage spiked immediately before the crash. Why?<li>The program hit an infinite loop. Why?<li>A mistake by a developer. Why?<li>Because they did not sufficiently test their code.</ul><h1 id=unconscious-bias><a href=#unconscious-bias aria-label="anchor link for unconscious-bias">#</a> (Unconscious) Bias</h1><p>Bias is incredibly important to understand as a member of the work force and especially if you manage other people. It is important because intrinsically we want everyone to be treated equally. If you don't care about people and instead only about profit, diverse teams also tend to perform better. It is also incredibly important because small biases can compound into huge effects, so we need to detect small biases.<p>First off, everyone is biased and not all bias is bad. For example, snakes being dangerous is a pretty good bias. However, in America white Americans are more likely to get a call back than black Americans, which is clearly a bad bias.<p>How do we eliminate this bias? We'll in particular be looking at hiring. A good way to do it is to eliminate names from resumes, have a checklist for what qualifications you want, and a script of what questions you will ask.<h1 id=design-patterns><a href=#design-patterns aria-label="anchor link for design-patterns">#</a> Design Patterns</h1><p>Design patterns are standard ways to structure your program to make it easier to maintain and understand. They also provide a standard language for communicating designs between developers.<ul><li>Creational: How do we make an object?<li>Structural: How do we compose classes statically?<li>Behavioral: How do we manage the interactions within the system?</ul><p>Here we'll talk about a few specific design patterns for in Java. These design patterns often apply to other languages, maybe with some changes, but some of these design patterns are irrelevant because of language features in other languages. Likewise, some languages need additional design patterns to cover up for features of the Java language.<p>The <strong>abstract factory</strong> design pattern is where you have an interface for a set of related objects that you want to create, for example styled GUI elements like scrollbars and window titles. Then you provide a concrete instance of this abstract factory (basically a vtable) to something that needs to create these elements. Then for example you could have a window system take in a factory for window elements. Then you use this factory to generate window elements. This allows you to dynamically change the styling.<p>The <strong>factory method</strong> design pattern is where your (super)class calls a method to construct an object satisfying an interface rather than a constructor for a specific implementation. That way your subclasses could override that method to change the object being constructed, which can be useful if they need to hide data into the object.<p>The <strong>visitor pattern</strong> is often used for data structures containing a fixed set of types. Basically you have an interface that describes all of the concrete types your data structure contains. Then you pass a concrete instance of this interface (basically a vtable) to your data structure. The data data structure gives you an iterator over something that can "accept" a visitor. Then you iterate over those elements repeatedly having them "accept" your visitor. <em>Why do this?</em> It makes it easy to add new operations. However, it makes it hard to add new classes.<p>This is useful because it gives you double-dispatch (limited multiple-dispatch) and "exhaustive matching". This is nice you're writing a compiler where you want to describe any action you run on the AST. Compared to an if-else chain this ensures that all instances are covered at compile time.<p>This is rendered somewhat obsolete if you have sum types and exhaustive matching, like Rust's <code>enum</code> and <code>match</code>, or if you have multiple-dispatch like Julia. Basically you just have an iterator that yields an enum. Then you iterate over that and match on the enum to determine what operation you want to do.<p>The <strong>observer pattern</strong> is basically a way to do publish-subscribe computing using object-oriented code. A <em>subject</em> contains a set of <em>observers</em> which it notifies whenever something happens. The observers satisfy a interface, normally called <code>notify</code> which accepts some data. Whenever the subject has an event happen (like a mouse button clicking), it iterates over the set of observers it has to notify them of the event. The subject also has methods for registering and de-registering observers.<h1 id=configuration-management><a href=#configuration-management aria-label="anchor link for configuration-management">#</a> Configuration Management</h1><p>In general, you should treat configuration of your systems as code, where assets are tracked in a VCS (e.g. <code>git</code>). However, you still need to keep secrets secret. This can be done by either factoring them out and having them manually entered or encrypted.<p>This is like what ARC does with <code>provisioning</code>!<p>Some tools that help you with this are <a href=https://www.ansible.com/ >Ansible</a>, <a href=https://puppet.com/ >Puppet</a>, <a href=https://www.chef.io/ >Chef</a>, and even more.<h1 id=continuous-integration-continuous-deployment><a href=#continuous-integration-continuous-deployment aria-label="anchor link for continuous-integration-continuous-deployment">#</a> Continuous Integration / Continuous Deployment</h1><p>Continuous integration uses many ideas with configuration management. It is the practice of automatically building, testing, and analyzing your software in response to every software change done. This allows you to more easily detect issues quickly and more automatically redeploy and upgrade the software in production.<p>This builds off of configuration management because to automatically build, test, and deploy your software because you need a way to automatically set up the machine to run.<p>Most often CI/CD runs in a very <em>dumb</em> way. Basically it doesn't reuse things and just destroys and rebuilds everything every time. There is work being done on incremental builds, reusing artifacts, and caching. It's a hard problem tho.<h1 id=microservices><a href=#microservices aria-label="anchor link for microservices">#</a> Microservices</h1><p>Microservices are a technique to make applications easier to maintain, upgrade, and scale. They do this by splitting up your single <em>monolithic</em> process into several smaller processes, i.e. <em>microservices</em>.<p>The main reason you wouldn't want to use microservices is often you don't need the fault-tolerance or scalability of microservices. Also, microservices can make software harder to maintain (e.g. have to maintain an API that could often change) and it makes your software harder to deploy.<h1 id=design-metrics><a href=#design-metrics aria-label="anchor link for design-metrics">#</a> Design Metrics</h1><p>Design metrics are objective ways to measure the quality of software design. These are <em>heuristics</em> and aren't a "silver bullet". That is some designs are ranked wrongly low and others wrongly high. In general we'll be discussing metrics on Java or Java-like languages but these metrics can be generalized.<p>One of the most basic metrics is <strong>lines of code</strong>, where more lines of code means more maintenance. This isn't always correct because sometimes really low lines of code means things are "magic" or needlessly obfuscated. How do you count? People disagree but I generally think you should count comments, braces, and everything else, that is run <code>wc -l</code> on the source code. That's because lines of code isn't a perfect metric and making it simple is nice.<p>Another metric for Java-like languages is <strong>number of classes</strong> or for other languages <em>number of modules</em>. In general you want a moderate amount of classes/modules that way each class/module is reasonably well-focused but also not overly segmented. Similarly you can measure the <strong>number of methods</strong> in the class<p>You can measure the <strong>cyclomatic complexity</strong> which is the number of decision points plus 1.<p>In general you also want high <strong>cohesiveness</strong> of a class. That is you want each class to do/be a single thing. You can measure this by drawing a graph of methods where each method and field is a node and each method or field a method references gets a directed edge. Then you can see whether you get significant groupings or should otherwise split the class.<p>On the other hand you generally want low <strong>coupling</strong> of a class. That is you want your pieces of software to be as orthogonal/independent as possible. You can measure this in a fairly complicated way which I won't show here, but basically there's two types of coupling: <em>afferent coupling</em>, which is the number of classes that depends on this class/package, and <em>efferent coupling</em>, which is the number of classes that this class/package depends on.<h1 id=performance-monitoring><a href=#performance-monitoring aria-label="anchor link for performance-monitoring">#</a> Performance & Monitoring</h1><p><strong>Performance</strong> is how (well) the system performs under load and <strong>monitoring</strong> is the process of measuring performance while the system is operating.<p>There are two big things to measure that are somewhat independent: <strong>thruput</strong> and <strong>latency</strong>. Thruput is how many requests the system can process per second. Latency is how long it takes to service a request.<p><strong>Performance testing</strong> is the process of running tests explicitly to identify performance regressions and performance improvements. This let's you figure out if the system will be able to handle load in production.<p>To do good performance testing, you need to figure out the workload your system will undergo. Often the workload depends on the <em>operations</em> or things your software system does. If you can enumerate all possible operations and their frequency of use (i.e. create an <strong>operational profile</strong>), we can create better (performance) tests and also better determine where to focus your energy for fixing bugs and improving performance. To get these operational profiles, you often need to do monitoring of the system or talking clients / domain experts.<p><em>What issues exist with performance testing?</em> One of the biggest is that applications don't run in isolation. There may be other applications or even your operating system that are taking up resources. In the extreme case this can make your tests flakey (which we experience with Jenkins).<p><em>How do we collect data from a system?</em> In terms of performance and stability data, we can get temperatures and other data from the hardware; memory usage, swap usage, and other things from the operating system. If we have middleware (e.g. Nginx), you can get log data from that and likewise for the application itself. In terms of user experience (UX) logs, the system can log how users interact with it so like what operations they use, what buttons they click, etc.<p>One way to understand performance of a system is using a <strong>flame graph</strong>, which is a graph of stack frames in your system over time. That way you can see what functions take the longest, which helps you determine what functions you need to optimize. In certain cases it can also help you find specific issues in your system. For example maybe there are a bunch of recursive calls which can be seen by extremely tall flames.<p>Here are some examples of metrics for a specific service, e.g. an e-commerce website.<ul><li>Availability Rate: % of time system is up.<li>Conversion Rate: % of customers that buy something of those who just looked. Can also be done for referrals and anything else similar.<li>Mean Time Between Failures: Average time service is available between failures.<li>Mean Time To Repair: Average time service is down when a repair occurs.<li>Incident Count: How many incidents (e.g. failures) occur per unit of time (e.g. week).<li>Actions Per Second: How often does a given action occur in your system? For example how many purchases, logins, sign-ups, etc, depending on your system.</ul><p>How do operations manage failures? A good system to have is to have an <strong>incident management</strong> plan, which is a series of steps which occur whenever a failure is detected.<p>There's also a <strong>green-amber-red light</strong> system, where you categorize the state of the system using a 3 light system. Green is everything working. Amber is some non-critical modules are failing. Red is the system has completely failed.</article>